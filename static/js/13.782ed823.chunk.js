(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[13],{348:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return h}));var n=a(9),c=a(1),i=a(4),s=a(2),l=a(14),o=a(8),r=a(5),b=a(32),u=a(31),j=a(48),d=a(0),m=["setting"],x=["isUpdated"],O=["isUpdated"],g=function(t){var e=t.setting,a=void 0===e?{}:e,n=Object(i.a)(t,m),s=Object(o.c)({contact_email:a.contact_email||"",ga_tracking:a.ga_tracking||"",fb_pixel:a.fb_pixel||""});return Object(d.jsxs)(o.b,{context:s,onSubmit:function(t){t.preventDefault();var e={};return Object.keys(s.values).forEach((function(t){e[t]=a[t]})),u.a.patch(a.slug,s.values,e).then((function(t){var e=t.isUpdated,a=Object(i.a)(t,x);e&&n.setSetting(a)})).catch((function(t){return s.handleError(t)}))},children:[Object(d.jsx)(b.a.Section,{title:"Logo",text:"",children:Object(d.jsx)(r.i,{slug:a&&a.logo_data?a.logo_data.slug:null,onCreate:function(t){return u.a.patch(a.slug,{logo:t.slug}).then((function(t){return n.setSetting(t)})).catch((function(t){}))},className:"site-logo-upload-button",children:Object(d.jsx)(r.f,Object(c.a)(Object(c.a)({},a.logo_data),{},{className:"site-logo"}))})}),Object(d.jsx)(b.a.Section,{title:"Contact",text:"What's the best way to contact you?",children:Object(d.jsx)(o.b.TextInput,{name:"contact_email",type:"email",error:s.errors.contact_email,placeholder:"Write your contact email ..."})}),Object(d.jsx)(b.a.Section,{title:"Social",text:"Display Your social media accounts."}),Object(d.jsxs)(b.a.Section,{title:"Analytics",text:"Set up third-party analytics.",children:[Object(d.jsx)(o.b.Field,{label:"Google Analytics Tracking Number",children:Object(d.jsx)(o.b.TextInput,{name:"ga_tracking"})}),Object(d.jsx)(o.b.Field,{label:"Facebook Pixel",children:Object(d.jsx)(o.b.TextInput,{name:"fb_pixel"})}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)(o.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})]})};function h(t){var e=Object(s.useContext)(l.a),a=Object(s.useState)({}),c=Object(n.a)(a,2),r=c[0],m=c[1],x=e.site.settings;Object(s.useEffect)((function(){u.a.detail(x).then((function(t){t.slug&&m(t)})).catch((function(t){}))}),[x]);var h=e.site,p=Object(o.c)({name:h.name,domain:h.domain});if(!r.slug)return null;return Object(d.jsxs)(b.a,{title:"Site General Settings",children:[Object(d.jsx)(o.b,{context:p,onSubmit:function(t){t.preventDefault();var a=h.settings;if(a)return u.a.patchSite(a,{name:p.values.name,domain:p.values.domain},{name:h.name,domain:h.domain}).then((function(t){var a=t.isUpdated,n=Object(i.a)(t,O);a&&e.updateSite(n.site)})).catch((function(t){return p.handleError(t)}))},children:Object(d.jsxs)(b.a.Section,{title:"Site Details",children:[Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(o.b.Label,{value:"Site name"}),Object(d.jsx)(o.b.TextInput,{required:!0,name:"name",disabled:!Boolean(h.settings)})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(o.b.Label,{value:"Site domain"}),Object(d.jsx)(o.b.TextInput,{required:!0,name:"domain",disabled:!Boolean(h.settings)})]}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)(o.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})}),Object(d.jsx)(j.b,{ctx:e,setting:r,setSetting:m}),Object(d.jsx)(g,{ctx:e,setting:r,setSetting:m})]})}}}]);
//# sourceMappingURL=13.782ed823.chunk.js.map