{"version":3,"sources":["../../../../packages/miq-adminjs/src/images/UpdateView.jsx"],"names":["ImageUpdateView","props","imgSlug","match","params","useState","alt_text","data","setData","form","useForm","toast","useContext","ToastCtx","setValues","useEffect","imgServices","detail","then","imgData","catch","err","slug","context","back","className","style","minWidth","Label","value","image"],"mappings":"gPAce,SAASA,EAAgBC,GACtC,IAAQC,EAAYD,EAAME,MAAMC,OAAxBF,QACR,EAAwBG,mBAAS,CAAEC,SAAU,KAA7C,mBAAOC,EAAP,KAAaC,EAAb,KACMC,EAAOC,YAAQ,CAAEJ,SAAUC,EAAKD,WAChCK,EAAQC,qBAAWC,KAEjBC,EAAcL,EAAdK,UAWR,OAVAC,qBAAU,WACRC,IACGC,OAAOf,GACPgB,MAAK,SAACC,GACLX,EAAQW,GACRL,EAAU,CAAER,SAAUa,EAAQb,UAAY,QAE3Cc,OAAM,SAACC,SACT,CAACnB,EAASY,IAERP,IAASA,EAAKe,MAAQpB,EAGzB,cAAC,IAAD,CAAMqB,QAASd,EAAf,SACE,cAAC,IAAD,CAAWe,KAAMvB,EAAMuB,KAAvB,SACE,sBAAKC,UAAU,iCAAf,UACE,qBAAKA,UAAU,GAAf,SACE,cAAC,IAAD,eAASlB,MAGX,qBAAKkB,UAAU,UAAUC,MAAO,CAAEC,SAAU,SAA5C,SACE,sBAAKF,UAAU,GAAf,UACE,cAAC,IAAKG,MAAN,CAAYC,MAAM,aAClB,cAAC,IAAD,CAAmBC,MAAOvB,EAAMI,MAAOA,gBAbR","file":"static/js/19.acdfbc43.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Img } from '@miq/components';\nimport { ToastCtx } from '@miq/components';\nimport Form, { useForm } from '@miq/form';\nimport { AdminView } from '../views';\nimport { imgServices } from './utils';\nimport { ImageAltTextInput } from './components';\n\nconst propTypes = {\n  match: PropTypes.shape({}).isRequired,\n};\n\nexport default function ImageUpdateView(props) {\n  const { imgSlug } = props.match.params;\n  const [data, setData] = useState({ alt_text: '' });\n  const form = useForm({ alt_text: data.alt_text });\n  const toast = useContext(ToastCtx);\n\n  const { setValues } = form;\n  useEffect(() => {\n    imgServices\n      .detail(imgSlug)\n      .then((imgData) => {\n        setData(imgData);\n        setValues({ alt_text: imgData.alt_text || '' });\n      })\n      .catch((err) => {});\n  }, [imgSlug, setValues]);\n\n  if (!data || !data.slug == imgSlug) return null;\n\n  return (\n    <Form context={form}>\n      <AdminView back={props.back}>\n        <div className=\"d-flex flex-column flex-md-row\">\n          <div className=\"\">\n            <Img {...data} />\n          </div>\n\n          <div className=\"ms-md-1\" style={{ minWidth: '320px' }}>\n            <div className=\"\">\n              <Form.Label value=\"Alt text\" />\n              <ImageAltTextInput image={data} toast={toast} />\n            </div>\n          </div>\n        </div>\n      </AdminView>\n    </Form>\n  );\n}\n\nImageUpdateView.propTypes = propTypes;\n"],"sourceRoot":""}