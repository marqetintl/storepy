"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[740],{740:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(9062),s=t(8519),a=(t(2411),t(1408)),c=t(6520),i=t(2134),u=t(3576),l=t(3308),o=t(3030),d=t(2782),m=t(8136);function h(){var e=(0,i.QT)((function(){return(0,d.A)().list()})),n=e.res,t=e.setRes,l=new o.HM(n);return l.isSuccess?(0,m.jsx)(u.ZP.View,{title:"Hashtags",actions:(0,m.jsx)(a.rU,{to:"new/",className:"btn btn-primary-3",children:"Add hashtag"}),children:(0,m.jsxs)("div",{className:"d-grid grid-md-11",children:[(0,m.jsx)("div",{className:"span-md-5",children:l.items.map((function(e){var n=(0,d.A)(e);return(0,m.jsx)(a.rU,{to:"".concat(e.slug,"/"),children:(0,m.jsx)("div",{className:"mb-3",children:n.name})},e.slug)}))}),(0,m.jsx)("div",{className:"span-md-6",children:(0,m.jsxs)(c.Z5,{children:[(0,m.jsx)(c.AW,{path:"new/",element:(0,m.jsx)(u.ZP.View,{title:"Add a new hashtag",children:(0,m.jsx)(v,{onSuccess:function(e){t((0,s.Z)((0,s.Z)({},n),{},{data:(0,s.Z)((0,s.Z)({},n.data),{},{results:[e.data].concat((0,r.Z)(n.data.results))})}))}})})}),(0,m.jsx)(c.AW,{path:":tagSlug/",element:(0,m.jsx)(f,{})})]})})]})}):null}var f=function(e){var n=(0,c.UO)().tagSlug,t=(0,l.cI)({name:""}),r=(0,i.QT)((function(){return(0,d.A)({slug:n}).retrieve()}),{refreshDeps:[n],onSuccess:function(e){return t.setValues({name:e.data.name})}}),s=r.res,a=new o.HM(s);if(!a.isSuccess)return null;var u=(0,d.A)(a.data);return(0,m.jsx)(l.ZP,{context:t,onSubmit:function(n){n.preventDefault();var r=e.onSuccess,s=e.onError;u.patch(t.values,{name:u.name}).then((function(e){return null===r||void 0===r?void 0:r(e)})).catch((function(e){return null===s||void 0===s?void 0:s(e)}))},children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)("div",{className:"flex-1 me-1",children:(0,m.jsx)(x,{form:t,label:""})}),(0,m.jsx)(l.ZP.Submit,{value:"Update",className:"btn-primary-3 btn-md"})]})})},v=function(e){var n=e.onSuccess,t=e.onError,r=(0,l.cI)({name:""});return(0,m.jsxs)(l.ZP,{context:r,onSubmit:function(e){e.preventDefault(),(0,d.A)().create(r.values).then((function(e){return null===n||void 0===n?void 0:n(e)})).catch((function(e){return null===t||void 0===t?void 0:t(e)}))},children:[(0,m.jsx)(x,{form:r}),(0,m.jsx)(l.ZP.Submit,{value:"Save hashtag",className:"btn-primary-3 btn-md"})]})},x=function(e){var n=e.form,t=e.label,r=void 0===t?"Name":t;return(0,m.jsx)(l.ZP.Field,{label:r,error:n.errors.name,children:(0,m.jsx)(l.ZP.Text,{required:!0,name:"name",maxLength:99})})}},2782:function(e,n,t){t.d(n,{A:function(){return a},Y:function(){return s}});var r=t(3576),s=function(e){return(0,r.eR)(e,"social-post-texts")},a=function(e){return(0,r.eR)(e,"social-hashtags")}}}]);
//# sourceMappingURL=740.20f2bcf2.chunk.js.map