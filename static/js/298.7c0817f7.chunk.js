"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[298],{7298:function(e,s,t){t.r(s),t.d(s,{default:function(){return b}});var i=t(8519),r=t(6009),n=t(8312),d=t(2411),a=t(1408),l=t(6520),c=t(2145),o=t(2782),u=t(2379),x=t(3992),h=t(6574),m=t(3793),j=t(421),p=t(3085),v=t(5566),f=t(8136),_=["res"],g=d.lazy((function(){return t.e(92).then(t.bind(t,4092))})),A=d.lazy((function(){return Promise.all([t.e(823),t.e(351)]).then(t.bind(t,3351))}));function b(){var e,s=(0,v._)(),t=s.res,i=(0,n.Z)(s,_);(0,x.U)({onUpdate:i.updateItem,onDestroy:i.removeItem});var r=new c.HM(t);return r.isSuccess?(0,f.jsxs)(l.Z5,{children:[(0,f.jsx)(l.AW,{path:":prodSlug/",element:(0,f.jsx)(b.UpdateView,{response:r})}),(0,f.jsx)(l.AW,{path:"new",element:(0,f.jsx)(g,{})}),(0,f.jsx)(l.AW,{index:!0,element:(0,f.jsxs)(o.ZP.View,{title:"Products",back:"/staff/store/",actions:(0,f.jsx)(o.ZP.Link,{to:"new/",requiredPerms:["store.add_product"],className:"btn btn-primary-3",children:"Add product"}),requiredPerms:["store.view_product"],children:[(0,f.jsx)(p.ir,{categories:null===(e=r.data)||void 0===e?void 0:e.categories}),(0,f.jsx)(N,{response:r})]})})]}):null}b.UpdateView=function(e){var s=e.response;return(0,f.jsxs)("div",{className:"d-grid grid-xl-4 gap-1",children:[(0,f.jsx)(u.LY.x9,{children:(0,f.jsx)(j.K1,{items:s.items,itempath:"../"})}),(0,f.jsx)("div",{className:"span-xl-3",children:(0,f.jsx)(A,{back:"/staff/store/products/"})})]})};var N=function e(s){var t=s.response,n=(0,a.lr)(),d=(0,r.Z)(n,1)[0];return 0===t.items.length?(0,f.jsxs)("div",{className:"text-center p-staff-list-empty py-3 my-3",children:[(0,f.jsx)("p",{className:"fw-light text-md",children:"Add products to your shop to get started"}),(0,f.jsx)("div",{className:"my-4",children:(0,f.jsx)(o.ZP.Link,{to:"new/",requiredPerms:["store.add_product"],className:"btn btn-primary btn-md",children:"Add a new product"})})]}):(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)(u.iA,{items:t.items,header:(0,f.jsx)(e.Header,{}),className:"product-staff-table w-100",renderItem:function(e){var s;if(null===e||void 0===e||!e.slug)return null;var t=(0,m.Z)(e),r="".concat(t.slug,"/").concat("".concat(d)?"?".concat(d):""),n=t.supplier_item;return(0,f.jsxs)(u.iA.Tr,{children:[(0,f.jsx)(u.iA.Th,{children:(0,f.jsx)(o.pB.Thumb,(0,i.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.cover_data),{},{className:"rounded"}))}),(0,f.jsx)(u.iA.Td,{children:(0,f.jsxs)(o.ZP.Link,{to:r,children:[e.is_oos&&(0,f.jsx)("span",{className:"text-sm text-danger",children:"Out of stock"}),(0,f.jsxs)("div",{className:"text-ellipsis",children:[(0,f.jsx)("span",{className:"me-1 fw-bold",children:e.name}),(0,f.jsx)(h.TK,{show:e.is_published||!1})]}),(0,f.jsxs)("ul",{children:[(0,f.jsxs)("li",{children:[null===(s=e.category_data)||void 0===s?void 0:s.name,(0,f.jsxs)("span",{className:"text-muted",children:[" | ",null===n||void 0===n?void 0:n.category]})]}),e.size_count>0&&(0,f.jsxs)("li",{children:["Sizes: ",e.size_count]})]})]})}),(0,f.jsxs)(u.iA.Td,{children:[e.is_on_sale&&(0,f.jsx)("div",{className:"me-1",children:(0,f.jsx)(h.nk,(0,i.Z)({},e.sale_price_data))}),(0,f.jsx)(h.nk,(0,i.Z)((0,i.Z)({},e.retail_price_data),{},{lineThrough:e.is_on_sale})),(0,f.jsx)("div",{className:"text-muted text-sm",children:null===n||void 0===n?void 0:n.cost})]}),(0,f.jsx)(u.iA.Td,{children:e.is_oos&&"Out of stock"})]},e.slug)}}),(0,f.jsx)(u.tl,(0,i.Z)((0,i.Z)({},t.data),{},{component:o.ZP.Link,to:!0}))]})};N.Header=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.iA.Th,{children:"Product"}),(0,f.jsx)(u.iA.Th,{}),(0,f.jsx)(u.iA.Th,{children:"Price"}),(0,f.jsx)(u.iA.Th,{children:"Availability"})]})}}}]);
//# sourceMappingURL=298.7c0817f7.chunk.js.map