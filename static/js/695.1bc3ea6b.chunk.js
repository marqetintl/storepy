"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[695],{9695:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var s=r(8312),n=r(6009),a=r(8519),i=(r(2411),r(1408)),c=r(6520),u=r(3576),l=r(3308),o=r(2134),d=r(2379),p=r(3030),_=r(4093),v=r(6772),f=r(8866),g=r(911),m=r(5394),b=r(8136),h=["res","setRes","loading"],x=[].concat(["name","category","description","retail_price","is_pre_sale","is_pre_sale_text","is_pre_sale_dt","is_on_sale","sale_price"],["cost","color_group_pk","stage"],["supplier_name","supplier_item_id","supplier_item_sn","supplier_item_category","supplier_item_url","supplier_item_cost","supplier_item_cost_currency","supplier_order_id"],["meta_title","meta_description","meta_slug"]),j={retail_price:0,is_pre_sale:!1,sale_price:0,is_on_sale:!1,is_published:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return x.forEach((function(r){var s,n=null===e||void 0===e?void 0:e[r];null!=n?t[r]=n:t[r]=null!==(s=j[r])&&void 0!==s?s:""})),(0,a.Z)((0,a.Z)({},j),t)};function y(e){var t,r=e.back,x=(0,c.UO)().prodSlug,j=(0,i.lr)(),y=(0,n.Z)(j,1)[0],w=(0,c.s0)(),S=(0,l.cI)(Z()),N=(0,o.QT)((function(){return(0,_.Z)({slug:x}).retrieve()}),{refreshDeps:[x],onSuccess:function(e){var t=e.data;return S.setValues(Z(t))},onError:function(e){var t=e.response;if(404===(null===t||void 0===t?void 0:t.status))return w("../")}}),Q=N.res,E=N.setRes,P=N.loading,$=(0,s.Z)(N,h),C=new p.HM(Q);if(!C.isSuccess)return null;if(P)return(0,b.jsx)(d.gb,{});var D=(0,_.Z)(C.data),I=function(e){$.updateData(e),m.u.update(e)},R=y.get("tab"),q={instance:D,form:S,setRes:E,onUpdate:I,navigate:w,back:r,params:y,tab:R,categories:null===C||void 0===C||null===(t=C.data)||void 0===t?void 0:t.categories},H=y.get("page");return(0,b.jsx)(u.ZP.View,{back:"".concat((0,p.Xs)(r)).concat(H?"?page=".concat(H):""),title:(0,b.jsx)(g.wP,{data:(0,a.Z)({},D.export())}),requiredPerms:["store.change_product"],className:"product-staff-update-view",children:(0,b.jsx)(u.ZP.Section,{title:k,actions:D.is_published?(0,b.jsx)(v.Ko,{instance:D,onSuccess:function(e){var t=e.data;return I(t)},children:"D\xe9publier ce produit"}):(0,b.jsx)(v.H5,{instance:D,onSuccess:function(e){var t=e.data;return I(t)},onError:function(e){return S.handleError(e)},children:"Publier ce produit"}),children:function(){switch(R){case"inventory":return(0,b.jsx)(f.W2,(0,a.Z)({},q));case"settings":return(0,b.jsx)(f.CW,(0,a.Z)({},q));case"media":return(0,b.jsx)(f.EJ,(0,a.Z)({},q));default:return(0,b.jsx)(f.wQ,(0,a.Z)({},q))}}()})})}var k=(0,b.jsxs)("div",{className:"query-buttons",children:[(0,b.jsx)(d.$Q,{index:!0,target:"tab",className:"btn-md",children:"Info"}),(0,b.jsx)(d.$Q,{target:"tab",value:"media",className:"btn-md",children:"Media"}),(0,b.jsx)(d.$Q,{target:"tab",value:"inventory",className:"btn-md",children:"Inventory"}),(0,b.jsx)(d.$Q,{target:"tab",value:"settings",className:"btn-md",children:"Settings"})]})}}]);
//# sourceMappingURL=695.1bc3ea6b.chunk.js.map