(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[21],{349:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return d}));var c=s(1),i=s(9),a=s(2),l=s(11),n=s(8),r=s(5),u=s(339),b=s(340),o=s(0);function d(e){var t,s=e.match.params.catSlug,d=Object(a.useState)(null),j=Object(i.a)(d,2),p=j[0],m=j[1],h=Object(a.useContext)(r.v),v=Object(n.c)({name:"",description:"",title:"",slug_public:"",is_published:!1}),g=v.setValues;if(Object(a.useEffect)((function(){u.a.detail(s).then((function(e){var t,s;m(e),g({name:e.name||"",description:e.description||"",title:e.page.title||"",slug_public:(null===e||void 0===e||null===(t=e.page)||void 0===t?void 0:t.slug_public)||"",is_published:(null===e||void 0===e||null===(s=e.page)||void 0===s?void 0:s.is_published)||!1})})).catch((function(e){!e.response||e.response.status}))}),[s,g]),!p)return null;return Object(o.jsxs)(l.g,{back:null===e||void 0===e?void 0:e.back,title:"Modifier une cat\xe9gorie",className:"cat-update-view",children:[Object(o.jsxs)("div",{className:"d-grid grid-md-4 gap-2",children:[Object(o.jsx)("div",{className:"span-md-1",children:Object(o.jsx)(l.k,{slug:null===p||void 0===p?void 0:p.cover,data:p.cover_data,onCreate:function(e){u.a.patch(p.slug,{cover:e.slug}).then((function(e){m(e)})).catch((function(e){console.log(e)}))},onUpdate:function(e){return m(Object(c.a)(Object(c.a)({},p),{},{cover_data:e}))},onDelete:function(){return m(Object(c.a)(Object(c.a)({},p),{},{cover_data:null,cover:null}))}})}),Object(o.jsx)(l.g.Section,{title:"Details",actions:Object(o.jsx)(l.i,{is_published:null===p||void 0===p||null===(t=p.page)||void 0===t?void 0:t.is_published,pill:!0}),className:"span-md-3",children:Object(o.jsxs)(n.b,{context:v,onSubmit:function(e){e.preventDefault(),u.a.patch(p.slug,{name:v.values.name,description:v.values.description}).then((function(e){})).catch((function(e){v.handleError(e)}))},children:[Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Nom de la cat\xe9gorie",className:"mb-1"}),Object(o.jsx)(b.a,{error:v.errors.name})]}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Description de la cat\xe9gorie",className:"mb-1"}),Object(o.jsx)(n.b.TextAreaX,{name:"description",error:v.errors.description,placeholder:"Decrivez la cat\xe9gorie ..."})]}),Object(o.jsx)("div",{className:"my-2",children:Object(o.jsx)(n.b.Submit,{value:"Sauvegarder",className:"btn btn-primary"})})]})})]}),Object(o.jsxs)(n.b,{context:v,onSubmit:function(e){e.preventDefault();var t=v.values,c=t.title,i=t.slug_public,a=t.is_published;return u.a.patchPage(s,{title:c,slug_public:i,is_published:a},{title:p.page.title,slug_public:p.page.slug_public,is_published:p.page.is_published}).then((function(e){h.success({message:"Category updated."})})).catch((function(e){v.handleError(e),h.error({message:"Could not update item."})}))},children:[Object(o.jsx)(l.g.Section,{title:"Status",children:Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[Object(o.jsx)(n.b.CheckboxInput,{name:"is_published",error:v.errors.is_published,className:"me-2"}),Object(o.jsx)(n.b.Label,{value:"Publier cette categorie"})]})}),Object(o.jsxs)(l.g.Section,{title:"Seo",children:[Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Title",className:"mb-1"}),Object(o.jsx)(n.b.TextInput,{required:!0,name:"title",error:v.errors.title,placeholder:"Give a name to the item",maxLength:99})]}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Slug",className:"mb-1"}),Object(o.jsx)(n.b.TextInput,{required:!0,name:"slug_public",error:v.errors.slug_public,placeholder:"Write slug ...",maxLength:99})]})]}),Object(o.jsx)("div",{className:"",children:Object(o.jsx)(n.b.Submit,{value:"Save",className:"btn btn-primary-3"})})]})]})}}}]);
//# sourceMappingURL=21.047dc294.chunk.js.map