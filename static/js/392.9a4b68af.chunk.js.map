{"version":3,"file":"static/js/392.9a4b68af.chunk.js","mappings":"8NASe,SAASA,IAAsB,IAAD,EACrCC,EAAMC,EAAAA,WAAiBC,EAAAA,GAC7B,EAAmDF,EAA3CG,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,OAAQC,EAA1B,EAA0BA,KAAMC,EAAhC,EAAgCA,eAIhC,OAFAC,QAAQC,IAAIR,IAGV,SAAC,UAAD,CACES,MAAM,OACNC,KAAK,UACLC,SACE,SAAC,UAAD,CAAYC,GAAG,YAAf,UACE,SAAC,QAAD,MALN,UASE,SAAC,aAAD,WACE,iBAAKC,UAAU,8CAAf,WACiB,OAAdP,QAAc,IAAdA,GAAA,UAAAA,EAAgBQ,cAAhB,eAAwBC,iBACvB,SAACC,EAAD,CACEP,MAAM,kBACNQ,IAAI,KACJC,KAAM,CAAEN,GAAI,UAAWO,KAAM,kBAAmBC,MAAO,CAAC,6BAH1D,UAKE,yBAAW,OAANhB,QAAM,IAANA,OAAA,EAAAA,EAAQiB,QAAS,OAI1B,SAACL,EAAD,CACEP,MAAM,WACNQ,IAAI,kBACJC,KAAM,CAAEN,GAAI,WAAYO,KAAM,oBAAqBC,MAAO,CAAC,uBAH7D,UAKE,wBAAKjB,EAASkB,WAGhB,SAACL,EAAD,CACEC,IAAI,oBACJR,MAAM,aACNS,KAAM,CAAEN,GAAI,aAAcO,KAAM,sBAAuBC,MAAO,CAAC,wBAHjE,UAKE,yBAAS,OAAJf,QAAI,IAAJA,OAAA,EAAAA,EAAMgB,QAAS,aAQhC,IAAML,EAID,SAAC,GAA2C,IAAzCM,EAAwC,EAAxCA,SAAUb,EAA8B,EAA9BA,MAAOS,EAAuB,EAAvBA,KAAuB,IAAjBD,IAAAA,OAAiB,MAAX,KAAW,EACtCL,EAAOM,EAAPN,GACR,OACE,iBAAKC,UAAU,iBAAf,WACE,UAAC,aAAD,CAAeD,GAAIK,EAAnB,UACGR,IAAS,gBAAKI,UAAU,kBAAf,SAAkCJ,IAC3Ca,MAGH,SAAC,UAAD,CAAYV,GAAIA,EAAIW,cAAeL,EAAKE,MAAxC,UACO,OAAJF,QAAI,IAAJA,OAAA,EAAAA,EAAMC,OAAN,UAAiBD,EAAKC,KAAtB","sources":["../../../../packages/shopy-storejs/src/IndexView.tsx"],"sourcesContent":["import * as React from 'react';\nimport Staff from '@miq/staffjs';\nimport { Response } from '@miq/utiljs';\nimport { API } from '@miq/staffjs';\nimport { useRequest } from '@miq/hookjs';\n\nimport { Icons } from '@miq/componentjs';\nimport { SharedDataCtx } from '@miq/contextjs';\n\nexport default function ShopStaffIndexView() {\n  const ctx = React.useContext(SharedDataCtx);\n  const { products, orders, cats, shopy_settings } = ctx as any;\n\n  console.log(ctx);\n\n  return (\n    <Staff.View\n      title=\"Shop\"\n      back=\"/staff/\"\n      actions={\n        <Staff.Link to=\"settings/\">\n          <Icons.Gear />\n        </Staff.Link>\n      }\n    >\n      <Staff.Section>\n        <div className=\"d-grid grid-2 grid-sm-3 grid-md-4 grid-lg-6\">\n          {shopy_settings?.config?.has_suppliers && (\n            <CardLink\n              title=\"Supplier Orders\"\n              tab=\"./\"\n              link={{ to: 'orders/', text: 'View all orders', perms: ['store.view_supplierorder'] }}\n            >\n              <h3>{orders?.count || 0}</h3>\n            </CardLink>\n          )}\n\n          <CardLink\n            title=\"Products\"\n            tab=\"./?tab=products\"\n            link={{ to: 'products', text: 'View all products', perms: ['store.view_product'] }}\n          >\n            <h3>{products.count}</h3>\n          </CardLink>\n\n          <CardLink\n            tab=\"./?tab=categories\"\n            title=\"Categories\"\n            link={{ to: 'categories', text: 'View all categories', perms: ['store.view_category'] }}\n          >\n            <h3>{cats?.count || 0}</h3>\n          </CardLink>\n        </div>\n      </Staff.Section>\n    </Staff.View>\n  );\n}\n\nconst CardLink: React.FC<{\n  title: string;\n  tab?: string;\n  link: { to: string; text: string; perms: string[] };\n}> = ({ children, title, link, tab = './' }) => {\n  const { to } = link;\n  return (\n    <div className=\"card-link mb-3\">\n      <Staff.NavLink to={tab}>\n        {title && <div className=\"card-link-title\">{title}</div>}\n        {children}\n      </Staff.NavLink>\n\n      <Staff.Link to={to} requiredPerms={link.perms}>\n        {link?.text && `${link.text} Â»`}\n      </Staff.Link>\n    </div>\n  );\n};\n"],"names":["ShopStaffIndexView","ctx","React","SharedDataCtx","products","orders","cats","shopy_settings","console","log","title","back","actions","to","className","config","has_suppliers","CardLink","tab","link","text","perms","count","children","requiredPerms"],"sourceRoot":""}