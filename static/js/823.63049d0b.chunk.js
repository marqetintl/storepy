"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[823],{1823:function(e,r,n){n.d(r,{wQ:function(){return O},W2:function(){return T},EJ:function(){return V},CW:function(){return M},ex:function(){return J}});var t=n(8312),a=n(8519),s=n(6009),i=n(2379),l=n(3308),c=n(2782),u=n(2411),o=n(8136),d=["data","productInstance"],m=["productInstance"],x=["label","text","error","placeholder"],v=["label","text","error","placeholder"],j=["data","productInstance"],p=["onSuccess","onError"],h=function(e){var r=e.data,n=e.productInstance,a=(0,t.Z)(e,d),s=(0,l.cI)({name:r.name||"",value:r.value||""});if(null===r||void 0===r||!r.slug||null===n||void 0===n||!n.slug)return null;var i=a.onSuccess,c=a.onError;return(0,o.jsx)(l.ZP,{context:s,onSubmit:function(e){e.preventDefault(),n.patchAttribute(r.slug,s.values).then((function(e){return null===i||void 0===i?void 0:i(e)})).catch((function(e){return s.handleError(e),null===c||void 0===c?void 0:c(e)}))},children:(0,o.jsxs)("div",{className:"d-grid grid-md-6 gap-1",children:[(0,o.jsx)("div",{className:"span-md-2",children:(0,o.jsx)(b,{error:s.errors.name})}),(0,o.jsx)("div",{className:"span-md-3",children:(0,o.jsx)(Z,{error:s.errors.value,className:""})}),(0,o.jsxs)("div",{className:"span-md-1",children:[(0,o.jsx)(l.ZP.Submit,{value:"Save",className:"btn-primary-2 me-2"}),(0,o.jsx)(S,{productInstance:n,data:r,onSuccess:i,onError:c})]})]})})},f={name:"",value:""},g=function(e){var r=e.productInstance,n=(0,t.Z)(e,m),a=(0,l.cI)(f);return null!==r&&void 0!==r&&r.slug?(0,o.jsx)(l.ZP,{context:a,onSubmit:function(e){e.preventDefault(),r.postAttribute(a.values).then((function(e){var r;return a.setValues(f),null===n||void 0===n||null===(r=n.onSuccess)||void 0===r?void 0:r.call(n,e)})).catch((function(e){var r;return a.handleError(e),null===n||void 0===n||null===(r=n.onError)||void 0===r?void 0:r.call(n,e)}))},children:(0,o.jsxs)("div",{className:"d-grid grid-md-6 gap-1",children:[(0,o.jsx)("div",{className:"span-md-2",children:(0,o.jsx)(b,{error:a.errors.name})}),(0,o.jsx)("div",{className:"span-md-3",children:(0,o.jsx)(Z,{error:a.errors.value,className:""})}),(0,o.jsx)("div",{className:"span-md-1",children:(0,o.jsx)(l.ZP.Submit,{value:"Save",className:"btn-primary-2"})})]})}):null},b=function(e){var r=e.label,n=e.text,s=e.error,i=e.placeholder,c=void 0===i?"Entrez le nom de l'attribut ...":i,u=(0,t.Z)(e,x);return(0,o.jsx)(l.ZP.Field,{label:r,text:n,error:s,children:(0,o.jsx)(l.ZP.Text,(0,a.Z)((0,a.Z)({},u),{},{required:!0,name:"name",placeholder:c,maxLength:30,minLength:2}))})},Z=function(e){var r=e.label,n=e.text,s=e.error,i=e.placeholder,c=void 0===i?"Entrez la valuer de l'attribut ...":i,u=(0,t.Z)(e,v);return(0,o.jsx)(l.ZP.Field,{label:r,text:n,error:s,children:(0,o.jsx)(l.ZP.Text,(0,a.Z)((0,a.Z)({},u),{},{required:!0,name:"value",placeholder:c,maxLength:99,minLength:2}))})},S=function(e){var r=e.data,n=e.productInstance,s=(0,t.Z)(e,j);if(null===r||void 0===r||!r.slug||null===n||void 0===n||!n.slug)return null;var l=s.onSuccess,c=s.onError,u=(0,t.Z)(s,p);return(0,o.jsx)(i.pu,(0,a.Z)((0,a.Z)({},u),{},{renderHeader:function(){return(0,o.jsx)("div",{children:"Supprimer un attribut"})},renderFooter:function(e){var t=e.setOpen;return(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,o.jsx)(i.zx,{onClick:function(){return t(!1)},children:"Annuler"}),(0,o.jsx)(i.zx,{onClick:function(){return n.deleteAttribute(r.slug).then((function(e){return t(!1),null===l||void 0===l?void 0:l(e)})).catch((function(e){return null===c||void 0===c?void 0:c(e)}))},className:"btn-danger",children:"Supprimer"})]})},render:function(){return(0,o.jsxs)("div",{className:"p-3",children:["Are you sure you want to delete this attribute:",(0,o.jsx)("div",{className:"fw-bold",children:r.name})]})},className:"attr-delete-button btn-danger-3",children:(0,o.jsx)(i.PJ.rF,{})}))},N=n(421),P=n(3085),_=["data","productInstance"],y=["productInstance"],E=["label","text","error"],I=["label","text","error"],z=["label","text","error"],C=["data","productInstance"],q=["onSuccess","onError"],F=function(e){var r=e.data,n=e.productInstance,a=(0,t.Z)(e,_),s=(0,l.cI)({name:r.name||"",code:r.code||"",quantity:r.quantity||0});if(null===r||void 0===r||!r.slug||null===n||void 0===n||!n.slug)return null;var i=a.onSuccess,c=a.onError;return(0,o.jsx)(l.ZP,{context:s,onSubmit:function(e){e.preventDefault(),n.patchSize(r.slug,s.values).then((function(e){return null===i||void 0===i?void 0:i(e)})).catch((function(e){var r;return s.handleError(e),null===a||void 0===a||null===(r=a.onError)||void 0===r?void 0:r.call(a,e)}))},children:(0,o.jsxs)("div",{className:"d-grid grid-5 gap-1",children:[(0,o.jsx)(D,{error:s.errors.name}),(0,o.jsx)(H,{error:s.errors.code}),(0,o.jsx)(L,{error:s.errors.quantity}),(0,o.jsxs)("div",{className:"span-md-2",children:[(0,o.jsx)(l.ZP.Submit,{value:"Save",className:"btn-primary-2 me-2"}),(0,o.jsx)(B,{productInstance:n,data:r,onSuccess:i,onError:c})]})]})})},k={xs:{name:"Extra-small",code:"XS"},s:{name:"Small",code:"S"},m:{name:"Medium",code:"M"},l:{name:"Large",code:"L"},xl:{name:"Extra-large",code:"XL"}},A={name:"",code:"",quantity:1},w=function(e){var r=e.productInstance,n=(0,t.Z)(e,y),s=(0,l.cI)(A);return null!==r&&void 0!==r&&r.slug?(0,o.jsxs)(l.ZP,{context:s,onSubmit:function(e){e.preventDefault(),r.postSize(s.values).then((function(e){var r;return s.setValues(A),null===n||void 0===n||null===(r=n.onSuccess)||void 0===r?void 0:r.call(n,e)})).catch((function(e){var r;return s.handleError(e),null===n||void 0===n||null===(r=n.onError)||void 0===r?void 0:r.call(n,e)}))},children:[(0,o.jsxs)("div",{className:"d-flex my-2",children:[(0,o.jsx)(i.zx,{onClick:function(){return s.setValues((0,a.Z)((0,a.Z)({},s.values),{},{name:"One-size",code:"ONESIZE"}))},className:"size-select-btn me-1",children:"One/size"}),Object.keys(k).map((function(e){var r=k[e];return(0,o.jsx)(i.zx,{onClick:function(){return s.setValues((0,a.Z)((0,a.Z)({},s.values),r))},className:"size-select-btn me-1",children:e},e)}))]}),(0,o.jsxs)("div",{className:"d-grid grid-5 gap-1",children:[(0,o.jsx)(D,{error:s.errors.name}),(0,o.jsx)(H,{error:s.errors.code}),(0,o.jsx)(L,{error:s.errors.quantity}),(0,o.jsx)("div",{className:"span-md-2",children:(0,o.jsx)(l.ZP.Submit,{value:"Save",className:"btn-primary-2 me-2"})})]})]}):null},D=function(e){var r=e.label,n=e.text,s=e.error,i=(0,t.Z)(e,E);return(0,o.jsx)(l.ZP.Field,{label:r,text:n,error:s,children:(0,o.jsx)(l.ZP.Text,(0,a.Z)((0,a.Z)({placeholder:"Entrez le nom de la taille ..."},i),{},{required:!0,name:"name",maxLength:20,minLength:2}))})},H=function(e){var r=e.label,n=e.text,s=e.error,i=(0,t.Z)(e,I);return(0,o.jsx)(l.ZP.Field,{label:r,text:n,error:s,children:(0,o.jsx)(l.ZP.Text,(0,a.Z)((0,a.Z)({placeholder:"Entrez le code de la taille ..."},i),{},{required:!0,name:"code",maxLength:10}))})},L=function(e){var r=e.label,n=e.text,s=e.error,i=(0,t.Z)(e,z);return(0,o.jsx)(l.ZP.Field,{label:r,text:n,error:s,children:(0,o.jsx)(l.ZP.Text,(0,a.Z)((0,a.Z)({placeholder:"Entrez la quantit\xe9 ..."},i),{},{required:!0,type:"number",name:"quantity",min:0}))})},B=function(e){var r=e.data,n=e.productInstance,s=(0,t.Z)(e,C);if(null===r||void 0===r||!r.slug||null===n||void 0===n||!n.slug)return null;var l=s.onSuccess,c=s.onError,u=(0,t.Z)(s,q);return(0,o.jsx)(i.pu,(0,a.Z)((0,a.Z)({},u),{},{renderHeader:function(){return(0,o.jsx)("div",{children:"Supprimer une taille"})},renderFooter:function(e){var t=e.setOpen;return(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,o.jsx)(i.zx,{onClick:function(){return t(!1)},children:"Annuler"}),(0,o.jsx)(i.zx,{onClick:function(){return n.deleteSize(r.slug).then((function(e){return t(!1),null===l||void 0===l?void 0:l(e)})).catch((function(e){return null===c||void 0===c?void 0:c(e)}))},className:"btn-danger",children:"Supprimer"})]})},render:function(){return(0,o.jsxs)("div",{className:"p-3",children:["Are you sure you want to delete this size:",(0,o.jsx)("div",{className:"fw-bold",children:r.name})]})},className:"size-delete-button btn-danger-3",children:(0,o.jsx)(i.PJ.rF,{})}))},G=["img","actions"],O=function(e){var r=e.form,n=e.instance,t=e.categories,a=e.onUpdate,s=r.errors,i=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.HG.NameField,{label:"Nom",error:s.name,text:"Ajoutez un nom qui d\xe9crit cet article. Les noms peuvent contenir jusqu\u2019\xe0 99 caract\xe8res.\nNous recommandons 65 caract\xe8res au max."}),(0,o.jsxs)("div",{className:"d-grid grid-md-2 gap-1",children:[(0,o.jsx)(P.HG.CategoryField,{label:"Cat\xe9gorie",categories:t,error:s.category}),(0,o.jsx)(P.HG.RetailPriceField,{label:"Prix",error:s.retail_price})]}),(0,o.jsx)(P.HG.PresaleCheckboxField,{label:"Pr\xe9-vente",error:s.is_pre_sale}),r.values.is_pre_sale&&(0,o.jsx)(P.HG.PresaleTextField,{text:"Ajouter un text de pr\xe9-vente.(facultatif)",error:s.is_pre_sale_text}),(0,o.jsx)(P.HG.OnSaleCheckboxField,{label:"Cet article est en solde",error:s.is_on_sale}),r.values.is_on_sale&&(0,o.jsx)(P.HG.SalePriceField,{label:"Prix r\xe9duit",error:s.sale_price}),(0,o.jsx)(P.HG.DescriptionField,{label:"Description",error:s.description,text:"Ajoutez les caract\xe9ristiques uniques qui d\xe9crivent cet article."}),(0,o.jsx)("div",{className:"my-4",children:(0,o.jsx)(P.HG.OosCheckboxField,{error:s.is_oos})})]});return(0,o.jsxs)(c.ZP.Section,{children:[(0,o.jsx)(P.Eh,{context:r,instance:n,fields:["name","category","description","retail_price","is_pre_sale","is_pre_sale_text","is_pre_sale_dt","is_on_sale","sale_price","is_oos"],onSuccess:function(e){var r=e.data;return a(r)},children:(0,o.jsx)(c.ZP.Section,{border:!0,title:"Details",text:"Modifier les informations de ce produit.",footer:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)(l.ZP.Submit,{value:"Sauvegarder",className:"btn-primary min-w-25"})}),children:i})}),(0,o.jsx)(c.ZP.Section,{border:!0,title:"Seo",children:(0,o.jsxs)(P.Eh,{context:r,instance:n,fields:["meta_title","meta_description","meta_slug"],onSuccess:function(e){var r=e.data;return a(r)},children:[(0,o.jsx)(l.lm,{error:s.meta_title}),(0,o.jsx)(l.uV,{error:s.meta_slug}),(0,o.jsx)(l.bA,{error:s.meta_description}),(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)(l.ZP.Submit,{value:"Sauvegarder",className:"btn-primary-3 min-w-25"})})]})})]})},T=function(e){var r=e.instance,n=e.onUpdate,t=u.useState(!1),a=(0,s.Z)(t,2),l=a[0],d=a[1],m=u.useState(!1),x=(0,s.Z)(m,2),v=x[0],j=x[1];return(0,o.jsx)(c.ZP.Section,{title:"Inventory",children:(0,o.jsxs)("div",{className:"d-grid grid-md-3 gap-1",children:[(0,o.jsxs)("div",{className:"span-md-2",children:[(0,o.jsxs)(c.ZP.Section,{title:"Tailles",text:"Ajouter des tailles",actions:(0,o.jsx)(i.zx,{onClick:function(){return j(!v)},className:"btn-primary-3",children:"Ajouter une taille"}),children:[v&&(0,o.jsx)(c.ZP.Section,{text:"Ajouter une taille",children:(0,o.jsx)(w,{productInstance:r,onSuccess:function(e){var r=e.data;return n(r)}})}),r.sizes.map((function(e){return(0,o.jsx)(F,{data:e,productInstance:r,onSuccess:function(e){var r=e.data;return n(r)}},e.slug)}))]}),(0,o.jsxs)(c.ZP.Section,{title:"Attributs",actions:(0,o.jsx)(i.zx,{onClick:function(){return d(!l)},className:"btn-primary-3",children:"Ajouter un attribut"}),children:[l&&(0,o.jsx)(c.ZP.Section,{text:"Ajouter un attribut au produit.",children:(0,o.jsx)(g,{productInstance:r,onSuccess:function(e){var r=e.data;return n(r)}})}),r.attributes.map((function(e){return(0,o.jsx)("div",{className:"mb-1",children:(0,o.jsx)(h,{data:e,productInstance:r,onSuccess:function(e){var r=e.data;return n(r)}})},e.slug)}))]})]}),(0,o.jsx)("div",{className:"mt-3"})]})})},M=function(e){var r=e.instance,n=e.listRes,t=e.navigate;return(0,o.jsx)(c.ZP.Section,{title:"Settings",children:(0,o.jsx)(c.ZP.Section,{title:"Supprimer ce produit",actions:(0,o.jsx)(N.sq,{instance:r,onSuccess:function(){return n.refresh(),t(e.back)},onError:function(e){404===e.status&&t("../")}})})})},V=function(e){var r=e.instance,n=e.onUpdate,t=r.cover_data;return(0,o.jsx)(c.ZP.Section,{title:"Media",actions:(0,o.jsx)(N.n9,{productInstance:r,onSuccess:function(e){return null===n||void 0===n?void 0:n(e.data)}}),children:(0,o.jsxs)("div",{className:"d-grid grid-md-3 grid-lg-4 gap-2",children:[(0,o.jsx)(U,(0,a.Z)((0,a.Z)({},e),{},{img:(0,c.pB)(t),onDeleteSuccess:function(){return n({cover_data:null,cover:null})}})),r.images_data.map((function(t){var s=(0,c.pB)(t);return(0,u.createElement)(R,(0,a.Z)((0,a.Z)({},e),{},{img:s,actions:(0,o.jsx)(c.ZP.Button,{onClick:function(){return r.swapCover(s.slug).then((function(e){var r=e.data;return n(r)}))},children:"Set as cover"}),onDeleteSuccess:function(){return n({images_data:r.images_data.filter((function(e){return e.slug!==s.slug})),images:r.images.filter((function(e){return e!==s.slug}))})},key:s.slug}))}))]})})},J=function(e){switch(e){case"mobile":return c.pB.Mobile;case"square":return c.pB.Square;case"thumb":return c.pB.Thumb;case"picture":return c.pB.Picture;default:return c.pB.Image}},U=function(e){var r=e.img,n=e.onUpdate,t=e.instance,s=(0,l.cI)({view:"src"});if(!r.slug)return(0,o.jsxs)("div",{className:"p-cover-add-btn d-flex align-items-center justify-content-center flex-column text-center border-1 rounded p-3",children:[(0,o.jsx)("p",{className:"text-sm text-muted mb-3",children:"Ce produit n'a pas d'image principale"}),(0,o.jsx)(c.CD,{onSuccess:function(e){var r=e.data;t.update({cover:r.slug}).then((function(e){var r=e.data;return n(r)})).catch((function(e){}))},label:"Ajouter une image",className:"btn-primary-3 btn-md"})]});var i=J(s.values.view);return(0,o.jsx)(l.ZP,{context:s,className:"p-cover-update-form",children:(0,o.jsx)(c.ZP.Section,{border:!0,title:(0,o.jsx)(W,(0,a.Z)((0,a.Z)({},e),{},{img:r})),actions:(0,o.jsx)(c.K7,{required:!0,name:"view"}),className:"p-image-card",children:(0,o.jsx)(c.Cz,{instance:r,field:s.values.view,onSuccess:function(e){var r=e.data;return n({cover:r.slug,cover_data:r})},children:(0,o.jsx)(i,(0,a.Z)({},r))})})})},R=function(e){var r=e.img,n=e.actions,s=(0,t.Z)(e,G);return(0,o.jsx)(c.ZP.Section,{border:!0,title:(0,o.jsx)(W,(0,a.Z)((0,a.Z)({},s),{},{img:r})),actions:n,className:"p-image-card",children:(0,o.jsx)(c.pB.Image,(0,a.Z)({},r))})},W=function(e){var r=e.img,n=e.onDeleteSuccess;return r&&r.slug?(0,o.jsx)(c.RC,{onSuccess:n,instance:r,className:"btn-danger-3",children:(0,o.jsx)(i.PJ.rF,{})}):null}}}]);
//# sourceMappingURL=823.63049d0b.chunk.js.map