(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[11],{337:function(e,t,c){"use strict";c.d(t,"c",(function(){return O})),c.d(t,"d",(function(){return f})),c.d(t,"b",(function(){return x})),c.d(t,"a",(function(){return v})),c.d(t,"e",(function(){return g}));var r=c(25),n=c(1),a=c(4),s=(c(2),c(8)),l=c(9),u=c(5),i=c(333),o=c(0),d=["onSuccess","onError"],j=["product","placeholder","form"],b=["children","form"],m=["product"],p=["image"],h=["product"],O=function(e){var t=e.onSuccess,c=e.onError,r=Object(a.a)(e,d),l=r.product,u=r.placeholder,b=void 0===u?"Give a name to the item":u,m=r.form,p=Object(a.a)(r,j);return m?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(s.b.Label,{value:"Name",className:"mb-1"}),Object(o.jsx)(s.b.TextInput,Object(n.a)(Object(n.a)({},p),{},{required:!0,name:"name",onSave:function(e){var r=e.value;if(r&&l&&l.slug)return i.a.patch(l.slug,{name:r},{name:l.name}).then((function(e){if(t)return t(e)})).catch((function(e){if(c)return c(e)}))},error:m.errors.name,placeholder:b,maxLength:99}))]}):null},f=function(e){var t=e.children,c=e.form,r=Object(a.a)(e,b);return c?Object(o.jsx)(s.b,Object(n.a)(Object(n.a)({},r),{},{context:c,children:t})):null};f.NameInput=O;var x=function(e){var t=e.product,c=Object(a.a)(e,m);return t&&t.slug?Object(o.jsx)(u.k,{multiple:!0,className:"btn-primary-3",onCreate:function(e){return e=e.filter((function(e){return e&&e.slug})),i.a.patch(t.slug,{images:[].concat(Object(r.a)(t.images),Object(r.a)(e.map((function(e){return e.slug}))))}).then((function(e){c.onCreateSuccess&&c.onCreateSuccess(e)})).catch((function(e){c.onCreateError&&c.onCreateError(e)}))}}):null},v=function(e){var t=e.image,c=Object(a.a)(e,p),r=Object(s.c)({alt_text:(null===t||void 0===t?void 0:t.alt_text)||""});return t&&t.slug?Object(o.jsx)(s.a,{value:r,className:c.className,children:Object(o.jsx)(l.i,{required:!0,image:t,onSuccess:c.onSuccess,onError:c.onError,placeholder:"Add an alternative text ..."})}):null},g=function(e){var t=e.product;Object(a.a)(e,h);return t?Object(o.jsx)("div",{className:"product-supplier-data",children:Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{className:"",children:"Supplier"}),Object(o.jsx)("span",{className:"",children:t.supplier_name})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{className:"",children:"Item id"}),Object(o.jsx)("span",{className:"",children:t.supplier_item_id})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{className:"",children:"Category"}),Object(o.jsx)("span",{className:"",children:t.supplier_item_category})]}),Object(o.jsxs)("li",{children:[Object(o.jsx)("span",{className:"",children:"Item cost"}),Object(o.jsxs)("span",{className:"",children:[t.supplier_item_cost," (",t.supplier_item_cost_currency,")"]})]}),Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:t.supplier_item_url,className:"text-underline",target:"_blank",rel:"noopener noreferrer",children:"View supplier page"})})]})}):null}},348:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return j}));var r=c(10),n=c(2),a=c(9),s=c(8),l=c(3),u=c(333),i=c(337),o=c(0),d=function(e){var t=Object(n.useState)({}),c=Object(r.a)(t,2),a=(c[0],c[1],Object(n.useState)(!1)),l=Object(r.a)(a,2),i=l[0],d=l[1],j=Object(s.c)({url:""});return Object(o.jsxs)(s.b,{context:j,onSubmit:function(e){e.preventDefault(),d(!0),u.a.getSheinProductData({url:j.values.url}).then((function(e){d(!1),j.setValue("url","")})).catch((function(e){d(!1),console.log(e)}))},className:"my-3",children:[i&&Object(o.jsx)("div",{className:"my-3",children:"Getting product data. Please wait ..."}),Object(o.jsxs)("div",{className:"d-flex flex-column flex-md-row",children:[Object(o.jsx)(s.b.TextInput,{required:!0,name:"url",type:"url",placeholder:"Add source url ...",className:"me-1",disabled:i}),Object(o.jsx)(s.b.Submit,{value:"Get data",className:"btn btn-primary-3",disabled:i})]})]})};function j(e){var t=Object(s.c)({name:"",img:""});return Object(o.jsxs)(a.g,{title:"Add a new product",back:null===e||void 0===e?void 0:e.back,className:"product-add-view",children:[Object(o.jsx)(a.g.TabNavLinks,{urls:[{exact:!0,to:Object(l.f)(e.match.url),label:"Product info"},{to:"".concat(Object(l.f)(e.match.url),"source/"),label:"Add from source"}],className:"my-2"}),Object(o.jsx)(d,{productForm:t}),Object(o.jsxs)(s.b,{context:t,onSubmit:function(c){return c.preventDefault(),u.a.post({name:t.values.name}).then((function(t){var c=t.slug;c&&e.history.push("".concat(e.match.url.replace("new/","".concat(c,"/"))))})).catch((function(e){t.handleError(e)}))},children:[Object(o.jsx)(a.g.Section,{children:Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)(i.c,{required:!0,form:t,placeholder:"Give a name to the new item ..."})})}),Object(o.jsx)(s.b.Submit,{value:"Add new product",className:"btn btn-primary"})]})]})}}}]);
//# sourceMappingURL=11.a81f90cf.chunk.js.map