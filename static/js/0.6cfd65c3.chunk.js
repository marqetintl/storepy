(this["webpackJsonp@store/clientjs"]=this["webpackJsonp@store/clientjs"]||[]).push([[0],{343:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var a=c(4),s=c(0),l=["product"],r=function(e){var t=e.product;Object(a.a)(e,l);return t?Object(s.jsx)("div",{className:"product-supplier-data",children:Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{className:"",children:"Supplier"}),Object(s.jsx)("span",{className:"",children:t.supplier_name})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{className:"",children:"Item id"}),Object(s.jsx)("span",{className:"",children:t.supplier_item_id})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{className:"",children:"Category"}),Object(s.jsx)("span",{className:"",children:t.supplier_item_category})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{className:"",children:"Item cost"}),Object(s.jsxs)("span",{className:"",children:[t.supplier_item_cost," (",t.supplier_item_cost_currency,")"]})]}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:t.supplier_item_url,className:"text-underline",target:"_blank",rel:"noopener noreferrer",children:"View supplier page"})})]})}):null}},344:function(e,t,c){"use strict";c.d(t,"b",(function(){return j})),c.d(t,"a",(function(){return m}));var a=c(21),s=c(4),l=c(2),r=c(6),n=c(9),i=c(5),u=c(341),o=c(0),d=["product"],b=["image"],j=function(e){var t=e.product,c=Object(s.a)(e,d);return t&&t.slug?Object(o.jsx)(i.k,{multiple:!0,className:"btn-primary-3",onCreate:function(e){return e=e.filter((function(e){return e&&e.slug})),u.a.patch(t.slug,{images:[].concat(Object(a.a)(t.images),Object(a.a)(e.map((function(e){return e.slug}))))}).then((function(e){c.onCreateSuccess&&c.onCreateSuccess(e)})).catch((function(e){c.onCreateError&&c.onCreateError(e)}))}}):null},m=function(e){var t=e.image,c=Object(s.a)(e,b),a=Object(r.c)({alt_text:(null===t||void 0===t?void 0:t.alt_text)||""}),i=null===t||void 0===t?void 0:t.slug,u=null===t||void 0===t?void 0:t.alt_text,d=a.setValues;return Object(l.useEffect)((function(){d({alt_text:u})}),[i,d,u]),t&&t.slug?Object(o.jsx)(r.a,{value:a,className:c.className,children:Object(o.jsx)(n.h,{required:!0,image:t,onSuccess:c.onSuccess,onError:c.onError,placeholder:"Add an alternative text ..."})}):null}},345:function(e,t,c){"use strict";c.d(t,"b",(function(){return S})),c.d(t,"a",(function(){return E}));var a=c(1),s=c(4),l=c(2),r=c(9),n=c(6),i=c(341),u=c(344),o=c(0),d=["form","product"],b=["showLabel","label"],j=["placeholder"],m=["showLabel","label"],v=["categories"],p=["showLabel","label"],O=["showLabel","label"],x=["showLabel","label"],h=["showLabel","label"],g=["showLabel","label"],f=["stages","name"],_=["children","context","fields","prodSlug"],N=["onSuccess","onError"];function S(e){var t,c,b,j,m,v,p,O=e.form,x=e.product,h=Object(s.a)(e,d),g=h.setProduct,f=h.toast,_=h.categories,N=null===x||void 0===x?void 0:x.slug;Object(l.useEffect)((function(){}),[N]);return Object(o.jsx)(E,{context:O,onSubmit:function(e){e.preventDefault();var t={retail_price:O.values.retail_price,is_on_sale:O.values.is_on_sale,is_pre_sale:O.values.is_pre_sale};return O.values.category&&(t.category=O.values.category),O.values.is_on_sale&&(t.sale_price=O.values.sale_price),O.values.is_pre_sale&&(t.is_pre_sale_text=O.values.is_pre_sale_text),i.a.patch(x.slug,t).then((function(e){null===g||void 0===g||g(Object(a.a)(Object(a.a)({},x),e)),null===f||void 0===f||f.success({message:"Product updated."})})).catch((function(e){return null===f||void 0===f||f.error({message:"Could not update product."}),O.handleError(e)}))},children:Object(o.jsxs)("div",{className:"d-grid grid-md-3 gap-3",children:[Object(o.jsx)("div",{className:"span-md-2",children:Object(o.jsxs)(r.g.Section,{title:"Details",actions:Object(o.jsx)(r.i,{is_published:null===x||void 0===x||null===(t=x.page)||void 0===t?void 0:t.is_published,pill:!0}),children:[Object(o.jsx)("div",{className:"mb-1",children:Object(o.jsx)(y,{error:O.errors.name})}),_&&Object(o.jsx)("div",{className:"mb-1",children:Object(o.jsx)(w,{categories:_,error:null===O||void 0===O||null===(c=O.errors)||void 0===c?void 0:c.category})}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)("div",{className:"mb-1",children:Object(o.jsx)(L,{error:null===O||void 0===O||null===(b=O.errors)||void 0===b?void 0:b.retail_price})}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)("div",{className:"d-flex align-items-center mb-1",children:Object(o.jsx)(I,{error:null===O||void 0===O||null===(j=O.errors)||void 0===j?void 0:j.is_pre_sale})}),O.values.is_pre_sale&&Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)(C,{error:null===O||void 0===O||null===(m=O.errors)||void 0===m?void 0:m.is_pre_sale_text})})]}),Object(o.jsx)("div",{className:"d-flex align-items-center mb-1",children:Object(o.jsx)(k,{error:null===O||void 0===O||null===(v=O.errors)||void 0===v?void 0:v.is_on_sale})}),O.values.is_on_sale&&Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)(P,{error:null===O||void 0===O||null===(p=O.errors)||void 0===p?void 0:p.sale_price})})]}),Object(o.jsx)("div",{className:"my-3",children:Object(o.jsx)(n.b.Submit,{value:"Update product",className:"btn btn-primary-3"})})]})}),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(r.k,{slug:null===x||void 0===x?void 0:x.cover,data:x.cover_data,onCreate:function(e){i.a.patch(x.slug,{cover:e.slug}).then((function(e){null===g||void 0===g||g(Object(a.a)(Object(a.a)({},x),e)),null===f||void 0===f||f.success({message:"Product cover updated."})})).catch((function(e){null===f||void 0===f||f.error({message:"Could not upload cover image."})}))},onUpdate:function(e){return null===f||void 0===f||f.success({message:"Product cover updated."}),null===g||void 0===g?void 0:g(Object(a.a)(Object(a.a)({},x),{},{cover_data:e}))},onDelete:function(){return null===g||void 0===g?void 0:g(Object(a.a)(Object(a.a)({},x),{},{cover_data:null,cover:null}))},className:"mb-1"}),Object(o.jsx)(u.a,{image:null===x||void 0===x?void 0:x.cover_data})]})]})})}var y=function(e){var t=e.showLabel,c=void 0===t||t,l=e.label,r=void 0===l?"Name":l,i=Object(s.a)(e,b),u=i.placeholder,d=void 0===u?"Give a name to the item":u,m=Object(s.a)(i,j);return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsx)(n.b.Label,{value:r,className:"mb-1"}),Object(o.jsx)(n.b.TextInput,Object(a.a)(Object(a.a)({},m),{},{required:!0,name:"name",placeholder:d,maxLength:99}))]})},w=function(e){var t,c=e.showLabel,r=void 0===c||c,i=e.label,u=void 0===i?"Category":i,d=Object(s.a)(e,m),b=d.categories,j=Object(s.a)(d,v);return Object(o.jsxs)(o.Fragment,{children:[r&&Object(o.jsx)(n.b.Label,{value:u}),Object(o.jsx)(n.b.SelectInput,Object(a.a)(Object(a.a)({},j),{},{required:!0,name:"category",nullValue:{label:"Select category"},children:null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.map((function(e){return Object(l.createElement)(n.b.SelectInput.Option,Object(a.a)(Object(a.a)({},e),{},{key:e.value}))}))}))]})},L=function(e){var t=e.showLabel,c=void 0===t||t,l=e.label,r=void 0===l?"Retail price":l,i=Object(s.a)(e,p);return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsx)(n.b.Label,{value:r,id:"retail_price_label"}),Object(o.jsx)(n.b.TextInput,Object(a.a)(Object(a.a)({},i),{},{required:!0,type:"number",name:"retail_price","aria-describedby":"retail_price_label",min:"0",step:"0.01"}))]})},I=function(e){e.showLabel;var t=e.label,c=void 0===t?"Pre-sale":t,l=Object(s.a)(e,O);return Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)(n.b.CheckboxInput,Object(a.a)(Object(a.a)({},l),{},{name:"is_pre_sale",className:"me-2"})),Object(o.jsx)(n.b.Label,{value:c})]})},C=function(e){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(n.b.Label,{value:"Pre sale text",id:"is_pre_sale_text_label",className:"miq-checkbox-label"}),Object(o.jsx)(n.b.TextAreaX,{name:"is_pre_sale_text","aria-describedby":"is_pre_sale_text_label"})]})},k=function(e){e.showLabel;var t=e.label,c=void 0===t?"On Sale":t,l=Object(s.a)(e,x);return Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)(n.b.CheckboxInput,Object(a.a)(Object(a.a)({},l),{},{name:"is_on_sale",className:"me-2"})),Object(o.jsx)(n.b.Label,{value:c})]})},P=function(e){var t=e.showLabel,c=void 0===t||t,l=e.label,r=void 0===l?"Sale price":l,i=Object(s.a)(e,h);return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsx)(n.b.Label,{value:r,id:"sale_price_label",className:"miq-checkbox-label"}),Object(o.jsx)(n.b.TextInput,Object(a.a)(Object(a.a)({},i),{},{required:!0,type:"number",name:"sale_price","aria-describedby":"sale_price_label",min:"0",step:"0.01"}))]})},E=function(e){var t=e.children,c=e.context,l=e.fields,r=void 0===l?[]:l,u=e.prodSlug,d=Object(s.a)(e,_),b=(d.onSuccess,d.onError,Object(s.a)(d,N));return Object(o.jsx)(n.b,Object(a.a)(Object(a.a)({},b),{},{context:c,onSubmit:d.onSubmit||function(e){if(c&&r){e.preventDefault();var t={};if(r.forEach((function(e){var a=c.values[e];null!=a&&(t[e]=a)})),u)return i.a.patch(u,t).then((function(e){var t;null===d||void 0===d||null===(t=d.onSuccess)||void 0===t||t.call(d,e)})).catch((function(e){var t,a;return d.onError?null===d||void 0===d||null===(t=d.onError)||void 0===t?void 0:t.call(d,e):null===c||void 0===c||null===(a=c.handleError)||void 0===a?void 0:a.call(c,e)}))}},children:t}))};E.NameInput=y,E.CategoryInput=w,E.RetailPriceInput=L,E.PresaleCheckboxInput=I,E.PresaleTextInput=C,E.OnSaleCheckboxInput=k,E.SalePriceInput=P,E.StageSelect=function(e){var t,c=e.showLabel,r=void 0===c||c,i=e.label,u=void 0===i?"Stage":i,d=Object(s.a)(e,g),b=d.stages,j=d.name,m=Object(s.a)(d,f);return Object(o.jsxs)(o.Fragment,{children:[r&&Object(o.jsx)(n.b.Label,{value:u}),Object(o.jsx)(n.b.SelectInput,Object(a.a)(Object(a.a)({},m),{},{required:!0,name:j||"stage",nullValue:{label:"Select stage"},children:null===b||void 0===b||null===(t=b.map)||void 0===t?void 0:t.call(b,(function(e){return Object(l.createElement)(n.b.SelectInput.Option,Object(a.a)(Object(a.a)({},e),{},{key:e.value}))}))}))]})}},353:function(e,t,c){"use strict";c.r(t),c.d(t,"productFormDefaultValues",(function(){return y})),c.d(t,"default",(function(){return w})),c.d(t,"ProductPublishButton",(function(){return P}));var a=c(23),s=c(1),l=c(8),r=c(4),n=c(2),i=c(9),u=c(6),o=c(3),d=c(5),b=c(343),j=c(341),m=c(344),v=c(0),p=["instance","product"],O=["product"],x=function(e){return Object(v.jsx)(u.b.TextInput,Object(s.a)(Object(s.a)({placeholder:"Nom de l'attribut"},e),{},{required:!0,name:"name",maxLength:30,minLength:3}))},h=function(e){return Object(v.jsx)(u.b.TextInput,Object(s.a)(Object(s.a)({placeholder:"Valeur de l'attribut"},e),{},{required:!0,name:"value",maxLength:99,minLength:3}))},g=function(e){var t=e.instance,c=e.product,a=Object(r.a)(e,p),s=Object(u.c)({name:(null===t||void 0===t?void 0:t.name)||"",value:(null===t||void 0===t?void 0:t.value)||""});if(!t||!t.slug||!c||!c.slug)return null;return Object(v.jsx)(u.b,{context:s,onSubmit:function(e){return e.preventDefault(),j.a.patchAttribute(c.slug,t.slug,s.values).then((function(e){return null===a||void 0===a?void 0:a.onSuccess(e)})).catch((function(e){return s.handleError(e)}))},children:Object(v.jsxs)("div",{className:"d-flex flex-column flex-md-row",style:{alignItems:"end"},children:[Object(v.jsx)("div",{className:"me-md-1",children:Object(v.jsx)(x,{error:s.errors.name})}),Object(v.jsx)("div",{className:"w-100 me-md-1",children:Object(v.jsx)(h,{error:s.errors.value})}),Object(v.jsxs)("div",{className:"d-flex ms-md-1",children:[Object(v.jsx)(d.c,{Icon:d.g.Trash,render:function(e){return Object(v.jsx)("div",{className:"p-3 w-100 d-flex justify-content-center",children:Object(v.jsxs)("div",{className:"w-md-50 d-flex align-items-center justify-content-between",children:[Object(v.jsx)("div",{children:Object(v.jsx)(d.b,{onClick:function(){return j.a.deleteAttribute(c.slug,t.slug).then((function(t){return null===e||void 0===e||e.setOpen(!1),null===a||void 0===a?void 0:a.onSuccess(t)})).catch((function(){var e;null===a||void 0===a||null===(e=a.toast)||void 0===e||e.error({message:"Could not delete attribute."})}))},className:"btn-danger",children:"Supprimer"})}),Object(v.jsx)("div",{children:Object(v.jsx)(d.b,{onClick:function(){return null===e||void 0===e?void 0:e.setOpen(!1)},children:"Annuler"})})]})})},renderHeader:function(e){return Object(v.jsx)("div",{className:"p-3",children:Object(v.jsxs)("div",{className:"fw-bold",children:["Supprimer l'attribut \"",t.name,'"']})})},className:"btn-danger-3 me-1"}),Object(v.jsx)(u.b.Submit,{value:"Save",className:"btn btn-primary-2"})]})]})})};function f(e){var t=e.product,c=Object(r.a)(e,O),a={name:"",value:""},s=Object(u.c)(a);if(!t||!t.slug)return null;return Object(v.jsx)(u.b,{context:s,onSubmit:function(e){return e.preventDefault(),j.a.postAttribute(t.slug,s.values).then((function(e){return s.setValues(a),null===c||void 0===c?void 0:c.onSuccess(e)})).catch((function(e){return s.handleError(e)}))},children:Object(v.jsxs)("div",{className:"d-flex flex-column flex-md-row",style:{alignItems:"end"},children:[Object(v.jsxs)("div",{className:"me-md-1",children:[Object(v.jsx)(u.b.Label,{value:"Name"}),Object(v.jsx)(x,{error:s.errors.name})]}),Object(v.jsxs)("div",{className:"w-100 me-md-1",children:[Object(v.jsx)(u.b.Label,{value:"Value"}),Object(v.jsx)(h,{error:s.errors.value})]}),Object(v.jsx)("div",{className:"ms-md-1",children:Object(v.jsx)(d.d,{type:"submit",className:"btn-primary-3"})})]})})}var _=c(345),N=["tab"],S=function(e){var t=e.tab,c=Object(r.a)(e,N),o=c.prodSlug,p=c.product,O=c.setProduct,x=c.form,h=c.toast,S=Object(n.useState)(!1),y=Object(l.a)(S,2),w=y[0],L=y[1];if(!p.slug)return null;switch(t){case"inventory":return Object(v.jsxs)("div",{className:"d-flex flex-column flex-md-row",children:[Object(v.jsxs)("div",{className:"flex-1",children:[Object(v.jsx)(i.g.Section,{title:"Sizes",text:"Add sizes"}),Object(v.jsxs)(i.g.Section,{title:"Attributes",actions:Object(v.jsx)(d.b,{onClick:function(){return L(!w)},className:"btn-primary-3",children:"Ajouter attribut"}),children:[w&&Object(v.jsxs)("div",{className:"border-bottom mb-2 pb-3",children:[Object(v.jsx)("p",{className:"text-center mb-3",children:"Ajouter un attribut au produit."}),Object(v.jsx)(f,{product:p,onSuccess:function(e){return O(Object(s.a)(Object(s.a)({},p),e))}})]}),Object(v.jsx)("div",{className:"my-3",children:p.attributes.map((function(e){return Object(v.jsx)("div",{className:"mb-1",children:Object(v.jsx)(g,{instance:e,product:p,onSuccess:function(e){return O(Object(s.a)(Object(s.a)({},p),e))}})},e.slug)}))})]})]}),Object(v.jsx)("div",{className:"w-md-35 ms-md-2",children:Object(v.jsx)(b.a,{product:p})})]});case"imgs":return Object(v.jsx)(i.g.Section,{title:"Images",text:"Add images to your product",actions:Object(v.jsx)(m.b,{product:p,onCreateSuccess:function(e){O(Object(s.a)(Object(s.a)({},p),e))}}),children:Object(v.jsx)("div",{className:"d-grid grid-md-3 grid-lg-4",style:{gap:4},children:p.images_data.map((function(e){return Object(v.jsxs)("div",{className:"mb-1",children:[Object(v.jsx)(d.h,Object(s.a)(Object(s.a)({},e),{},{className:"product-img"})),Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)(m.a,{image:e}),Object(v.jsx)(d.i,{slug:e.slug,label:"",className:"btn-danger-3 ms-1",onSuccess:function(){O(Object(s.a)(Object(s.a)({},p),{},{images_data:p.images_data.filter((function(t){return t.slug!==e.slug})),images:p.images.filter((function(t){return t!==e.slug}))}))}})]})]},e.slug)}))})});case"setting":return Object(v.jsxs)(u.b,{context:x,onSubmit:function(e){var t,c;e.preventDefault();var a={title:x.values.title,slug_public:x.values.slug_public};return j.a.patchPage(o,a,{title:null===p||void 0===p||null===(t=p.page)||void 0===t?void 0:t.title,slug_public:null===p||void 0===p||null===(c=p.page)||void 0===c?void 0:c.slug_public}).then((function(e){O(Object(s.a)(Object(s.a)({},p),e)),h.success({message:"Product page updated."})})).catch((function(e){x.handleError(e),h.error({message:"Could not update."})}))},children:[Object(v.jsxs)(i.g.Section,{title:"Seo",children:[Object(v.jsxs)("div",{className:"mb-1",children:[Object(v.jsx)(u.b.Label,{value:"Meta title",className:"mb-1"}),Object(v.jsx)(u.b.TextInput,{required:!0,name:"title",error:x.errors.title,placeholder:"Give a name to the item",maxLength:99})]}),Object(v.jsxs)("div",{className:"mb-1",children:[Object(v.jsx)(u.b.Label,{value:"Slug",className:"mb-1"}),Object(v.jsx)(u.b.TextInput,{required:!0,name:"slug_public",error:x.errors.slug_public,placeholder:"Write slug ...",maxLength:99})]}),Object(v.jsx)("div",{className:"my-2",children:Object(v.jsx)(u.b.Submit,{value:"Update",className:"btn btn-primary-3"})})]}),Object(v.jsx)(i.g.Section,{children:Object(v.jsx)(d.b,{className:"btn-danger",onClick:function(){return j.a.delete(o||p.slug).then((function(e){return null===c||void 0===c?void 0:c.onDelete()})).catch((function(e){null===h||void 0===h||h.error({message:"Something went wrong"})}))},children:"Delete product"})})]});default:return Object(v.jsxs)("div",{className:"d-grid grid-md-3 gap-3",children:[Object(v.jsx)(i.g.Section,{title:"Description",className:"span-md-2",children:Object(v.jsx)(_.a,{context:x,children:Object(v.jsx)(u.b.TextAreaX,{name:"description",onSave:function(e){var t=e.name,c=e.value;return j.a.patch(p.slug,Object(a.a)({},t,c),Object(a.a)({},t,p[t])).then((function(e){O(Object(s.a)(Object(s.a)({},p),e)),h.success({message:"Product updated."})})).catch((function(e){x.handleError(e),h.error({message:"Could not update item."})}))},error:x.errors.description,placeholder:"Give a description to the item"})})}),Object(v.jsx)(i.g.Section,{title:"Status",text:p.page.is_published?"This item is published.":"This item is not published. It does not show in your store.",className:"",children:Object(v.jsx)(P,{product:p,setProduct:O,toast:h})})]})}},y={name:"",description:"",title:"",category:"",slug_public:"",retail_price:0,is_pre_sale:!1,is_pre_sale_text:"",sale_price:0,is_on_sale:!1};function w(e){var t=e.match.params.prodSlug,c=Object(n.useState)(null),a=Object(l.a)(c,2),s=a[0],r=a[1],b=Object(n.useState)("info"),m=Object(l.a)(b,2),p=m[0],O=m[1],x=Object(n.useContext)(d.v),h=Object(u.c)(y),g=h.setValues;return Object(n.useEffect)((function(){j.a.detail(t).then((function(e){var t;r(e),g({name:e.name||"",description:e.description||"",category:e.category||"",retail_price:(null===e||void 0===e?void 0:e.retail_price)||0,is_pre_sale:e.is_pre_sale||!1,is_pre_sale_text:e.is_pre_sale_text||"",is_on_sale:e.is_on_sale||!1,sale_price:(null===e||void 0===e?void 0:e.sale_price)||0,title:e.page.title||"",slug_public:(null===e||void 0===e||null===(t=e.page)||void 0===t?void 0:t.slug_public)||""})})).catch((function(e){!e.response||(console.log(e.response),e.response.status)}))}),[t,g]),s?Object(v.jsxs)(i.g,{back:null===e||void 0===e?void 0:e.back,actions:Object(v.jsxs)("div",{children:[(null===s||void 0===s?void 0:s.prev_slug)&&Object(v.jsx)("a",{href:"".concat(null===e||void 0===e?void 0:e.back).concat(null===s||void 0===s?void 0:s.prev_slug,"/"),className:"btn me-1",title:"Voir le produit pr\xe9c\xe9dent",children:"Previous"}),(null===s||void 0===s?void 0:s.next_slug)&&Object(v.jsx)("a",{href:"".concat(null===e||void 0===e?void 0:e.back).concat(null===s||void 0===s?void 0:s.next_slug,"/"),className:"btn",title:"Voir le produit suivant",children:"Next"})]}),className:"product-update-view",children:[Object(v.jsx)(_.b,{form:h,product:s,categories:null===s||void 0===s?void 0:s.categories,setProduct:r,toast:x}),Object(v.jsxs)("div",{className:"my-2",children:[Object(v.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)(d.b,{onClick:function(){return O("info")},className:Object(o.i)(["me-1","info"===p&&"btn-primary-3"]),children:"Info"}),Object(v.jsx)(d.b,{onClick:function(){return O("inventory")},className:Object(o.i)(["me-1","inventory"===p&&"btn-primary-3"]),children:"Inventory"}),Object(v.jsx)(d.b,{onClick:function(){return O("imgs")},className:Object(o.i)(["me-1","imgs"===p&&"btn-primary-3"]),children:"Images"}),Object(v.jsx)(d.b,{onClick:function(){return O("setting")},className:Object(o.i)(["setting"===p&&"btn-primary-3"]),children:"Settings"})]})}),Object(v.jsx)(S,{tab:p,prodSlug:t,product:s,setProduct:r,form:h,toast:x,onDelete:function(){var t;return null===e||void 0===e||null===(t=e.history)||void 0===t?void 0:t.push(e.back)}})]})]}):null}var L="You can not publish a product without price",I="You can not publish a product without category",C="You can not publish a product without page",k="Something went awfully wrong!",P=function(e){var t=e.product,c=e.setProduct,a=e.toast;if(!(null===t||void 0===t?void 0:t.page))return null;var l=t.page.is_published;return Object(v.jsxs)(d.b,{onClick:function(){return l?j.a.unpublish(t.slug).then((function(e){return c(Object(s.a)(Object(s.a)({},t),e)),null===a||void 0===a?void 0:a.success({message:"Item unpublished"})})).catch((function(e){return null===a||void 0===a?void 0:a.error({message:k})})):j.a.publish(t.slug).then((function(e){return null===c||void 0===c||c(Object(s.a)(Object(s.a)({},t),e)),null===a||void 0===a?void 0:a.success({message:"Item published"})})).catch((function(e){var t=e.response,c=void 0===t?{}:t;if(!c.data)return null===a||void 0===a?void 0:a.error({message:k});var s=c.data,l=s.retail_price,r=s.category,n=s.page;return l?null===a||void 0===a?void 0:a.error({message:L}):r?null===a||void 0===a?void 0:a.error({message:I}):n?null===a||void 0===a?void 0:a.error({message:C}):void 0}))},className:l?"btn-danger":"btn-primary",children:[l?"Unpublish":"Publish"," product"]})}}}]);
//# sourceMappingURL=0.6cfd65c3.chunk.js.map