"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[879],{8177:function(e,r,a){a.d(r,{EQ:function(){return Z},Mj:function(){return N},Wx:function(){return C},cC:function(){return p},fG:function(){return b},fn:function(){return q},ld:function(){return j},w6:function(){return g}});var n=a(8519),s=a(8312),t=a(2411),i=a(2379),l=a(2145),c=a(4425),o=a(8136),d=["name","error"],u=["id","className","inputClassName"],m=["id","clearFocus","value","onChange","placeholder","mirror"],x=["children"],h=["name","error","nullValue"],v=["label","children"],f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forwardRef((function(a,i){var u=t.useContext(c.ZP)||(0,l.q9)("FormCtx"),m=a.name,x=a.error,h=(0,s.Z)(a,d);x=x||u.errors[m];var v=(0,l.UT)([r.className,a.className,x&&"is-invalid"]);return(0,o.jsx)(e,(0,n.Z)((0,n.Z)((0,n.Z)({value:u.values[m],onChange:function(e){u.handleChange(e)}},r.input),h),{},{name:m,className:v,ref:i}))}))},p=f("input",{className:"miq-form-input"}),j=f("textarea",{className:"miq-form-textarea"}),N=t.forwardRef((function(e,r){var a=e.id,t=e.className,c=e.inputClassName,d=(0,s.Z)(e,u);return(0,o.jsxs)("div",{id:a,className:(0,l.UT)(["miq-search-input-wrapper d-flex align-items-center",t]),children:[(0,o.jsx)("div",{className:"icon-wrapper",children:(0,o.jsx)(i.PJ.HN,{className:"miq-search-icon"})}),(0,o.jsx)("input",(0,n.Z)((0,n.Z)({name:"q",placeholder:"Search ...",minLength:3,maxLength:99,className:(0,l.UT)(["miq-form-input miq-search-input",c])},d),{},{type:"search",ref:r}))]})})),Z=f("input",{className:"miq-form-input",input:{minLength:7,maxLength:16,pattern:"[0-9]*",type:"tel",onKeyPress:function(e){return!/[0-9]/.test(e.key)&&e.preventDefault()}}}),b=f(t.forwardRef((function(e,r){var a=e.id,t=e.clearFocus,i=e.value,c=e.onChange,d=e.placeholder,u=void 0===d?"Start typing ...":d,x=e.mirror,h=(0,s.Z)(e,m),v=e.style;return(0,o.jsxs)("div",{id:a,className:(0,l.UT)(["miq-textareax",t&&"clear-focus"]),children:[x?(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:v,dangerouslySetInnerHTML:{__html:"".concat(x,"\n")}}):(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:v,children:"".concat(i,"\n")}),(0,o.jsx)("div",{className:"miq-textareax-input-wrapper",children:(0,o.jsx)("textarea",(0,n.Z)((0,n.Z)({},h),{},{value:i,onChange:c,placeholder:u,style:v,ref:r}))})]})}))),g=t.forwardRef((function(e,r){var a,i,d=e.children,u=(0,s.Z)(e,x),m=t.useContext(c.ZP)||(0,l.q9)("FormCtx"),v=u.name,f=u.error,p=u.nullValue,j=(0,s.Z)(u,h);return f=f||(null===m||void 0===m||null===(a=m.errors)||void 0===a?void 0:a[v]),(0,o.jsxs)("select",(0,n.Z)((0,n.Z)({value:null===m||void 0===m||null===(i=m.values)||void 0===i?void 0:i[v],onChange:m.handleChange},j),{},{name:v,className:(0,l.UT)(["miq-form-select",f&&"is-invalid",j.className]),ref:r,children:[(null===p||void 0===p?void 0:p.label)&&(0,o.jsx)(C,(0,n.Z)((0,n.Z)({},p),{},{value:(null===p||void 0===p?void 0:p.value)||""})),d]}))})),C=function(e){var r=e.label,a=e.children,t=(0,s.Z)(e,v);return(0,o.jsx)("option",(0,n.Z)((0,n.Z)({},t),{},{value:t.value,children:a||r}))},q=t.forwardRef((function(e,r){var a,s=t.useContext(c.ZP)||(0,l.q9)("FormCtx"),i=e.name,d=void 0===i?(0,l.q9)("Name prop"):i,u=e.error;return u=u||(null===s||void 0===s||null===(a=s.errors)||void 0===a?void 0:a[d]),(0,o.jsx)("input",(0,n.Z)((0,n.Z)({onChange:s.toggleCheck,checked:s.values[d]},e),{},{type:"checkbox",className:(0,l.UT)(["miq-form-checkbox",u&&"is-invalid",e.className]),ref:r}))}))},4425:function(e,r,a){a.d(r,{RV:function(){return o},cI:function(){return d}});var n=a(6714),s=a(8519),t=a(6009),i=a(2411),l=a(2145),c=(0,i.createContext)(null),o=c.Provider;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,i.useState)((0,s.Z)({},e)),a=(0,t.Z)(r,2),c=a[0],o=a[1],d=(0,i.useState)({}),u=(0,t.Z)(d,2),m=u[0],x=u[1],h=(0,i.useMemo)((function(){var e=function(e,r){o((0,s.Z)((0,s.Z)({},c),{},(0,n.Z)({},e,r)))},r=function(r){var a=r.target,n=a.name,s=a.checked;return e(n,s)};return{values:c,setValue:e,setValues:o,handleChange:function(a){var t=a.target,i=t.name,l=t.type,c=t.value;return Object.keys(m).includes(i)&&x((0,s.Z)((0,s.Z)({},m),{},(0,n.Z)({},i,null))),"checkbox"===l?r(a):e(i,c)},toggleCheck:r,errors:m,setError:function(e,r){x((0,s.Z)((0,s.Z)({},m),{},(0,n.Z)({},e,r)))},setErrors:x,handleError:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.response){var a=e.response;if(400!==a.status)return l.TQ&&r&&console.error("Request error status: ".concat(a.status)),e;var t={},i=a.data;l.TQ&&r&&console.error("ERROR=>",i),Object.keys(i).forEach((function(e){var r=i[e];Array.isArray(r)&&r.length>0&&(r=r[0]),t=(0,s.Z)((0,s.Z)({},t),{},(0,n.Z)({},e,r.message||r))})),x((0,s.Z)({},t))}},hasErrors:function(){return""!==Object.keys(m).join()}}}),[c,m]);return h}r.ZP=c},5603:function(e,r,a){a.d(r,{F$:function(){return Z},kq:function(){return m},bA:function(){return C},uV:function(){return g},lm:function(){return b},wd:function(){return N},ZP:function(){return T},cI:function(){return y.cI}});var n=a(8519),s=a(8312),t=a(2411),i=a(2145),l=a(2379),c=a(8136),o=["children","value"],d=function(e){var r=e.children,a=e.value,t=(0,s.Z)(e,o),i=r||("string"===typeof a?(0,c.jsx)("label",(0,n.Z)((0,n.Z)({},t),{},{children:a})):a);return(0,c.jsx)("div",{className:"miq-form-label",children:i})},u=function(e){var r=e.error;return r?(0,c.jsx)("div",{className:"miq-form-error",children:r}):null},m=a(8177),x=["label","text","error"],h=["label","text","error"],v=["label","text","error"],f=["label","text","error"],p=["label","text","error"],j=["children","label","text","error","checkbox"],N=function(e){var r=e.label,a=e.text,t=e.error,i=(0,s.Z)(e,x);return(0,c.jsx)(q,{label:r,text:a,error:t,children:(0,c.jsx)(m.cC,(0,n.Z)((0,n.Z)({},i),{},{name:"name",maxLength:99}))})},Z=function(e){var r=e.label,a=e.text,t=e.error,i=(0,s.Z)(e,h);return(0,c.jsx)(q,{label:r,text:a,error:t,children:(0,c.jsx)(m.fG,(0,n.Z)((0,n.Z)({},i),{},{name:"description"}))})},b=function(e){var r=e.label,a=void 0===r?"Meta title":r,t=e.text,i=e.error,l=(0,s.Z)(e,v);return(0,c.jsx)(q,{label:a,text:t,error:i,children:(0,c.jsx)(m.cC,(0,n.Z)((0,n.Z)({required:!0,maxLength:99},l),{},{name:"meta_title"}))})},g=function(e){var r=e.label,a=void 0===r?"Meta slug":r,t=e.text,i=e.error,l=(0,s.Z)(e,f);return(0,c.jsx)(q,{label:a,text:t,error:i,children:(0,c.jsx)(m.cC,(0,n.Z)((0,n.Z)({required:!0,maxLength:99},l),{},{name:"meta_slug"}))})},C=function(e){var r=e.label,a=void 0===r?"Meta description":r,t=e.text,i=e.error,l=(0,s.Z)(e,p);return(0,c.jsx)(q,{label:a,text:t,error:i,children:(0,c.jsx)(m.fG,(0,n.Z)((0,n.Z)({},l),{},{name:"meta_description"}))})};function q(e){var r=e.children,a=e.label,n=e.text,t=e.error,l=e.checkbox,o=(0,s.Z)(e,j),m=a||n;return l?(0,c.jsxs)("div",{className:(0,i.UT)(["miq-form-field",o.className]),children:[(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)("div",{className:"me-1",children:r}),(0,c.jsx)(d,{value:a})]}),n&&(0,c.jsx)("div",{className:"miq-form-field-text",children:n}),(0,c.jsx)(u,{error:t})]}):(0,c.jsxs)("div",{className:(0,i.UT)(["miq-form-field",o.className]),children:[m&&(0,c.jsxs)("div",{className:"miq-form-field-header",children:[a&&(0,c.jsx)(d,{value:a}),n&&(0,c.jsx)("div",{className:"miq-form-field-text",children:n})]}),r,(0,c.jsx)(u,{error:t})]})}var y=a(4425),_=["children","context"],w=["children","value"],k=t.forwardRef((function(e,r){var a=e.children,t=e.context,l=(0,s.Z)(e,_);return(0,c.jsx)("form",(0,n.Z)((0,n.Z)({},l),{},{ref:r,className:(0,i.UT)(["miq-form",l.className]),children:(0,c.jsx)(y.RV,{value:t,children:a})}))}));k.Provider=y.RV,k.Error=u,k.Label=d,k.Field=q,k.Submit=function(e){var r=e.children,a=e.value,t=(0,s.Z)(e,w);return(0,c.jsx)(l.zx,(0,n.Z)((0,n.Z)({},t),{},{type:"submit",children:r||a}))},k.Text=m.cC,k.TextArea=m.ld,k.TextAreaX=m.fG,k.Phone=m.EQ,k.Checkbox=m.fn,k.Option=m.Wx,k.Select=m.w6;var T=k},5879:function(e,r,a){a.r(r),a.d(r,{default:function(){return k}});var n=a(8312),s=a(6009),t=a(8519),i=a(9062),l=a(2411),c=a(2145),o=a(2379),d=a(8136),u=a(9002),m=function(e){var r=e.is_on_sale,a=e.retail_price,n=e.sale_price,s=r&&null!=(null===n||void 0===n?void 0:n.amountWithSymbol);return(0,d.jsxs)("div",{className:(0,c.UT)(["p-price",s&&"sale"]),children:[s&&(0,d.jsx)("div",{className:"p-price-sale text-danger me-1",children:n.amountWithSymbol}),(0,d.jsx)("div",{className:(0,c.UT)(["p-price-retail",s&&"text-line-through"]),children:a.amountWithSymbol})]})},x=function(e){var r=l.useContext(u.h2).categories;return r?(0,d.jsx)("div",{className:"p-category-links pb-2",children:null===r||void 0===r?void 0:r.map((function(r){var a,n;return(0,d.jsx)("div",{className:"item w-25 w-md-15",children:(0,d.jsxs)("a",{href:r.url,className:"",title:r.name,children:[e.showCover&&(null===r||void 0===r?void 0:r.cover)&&(0,d.jsx)(o.Ei.Picture,(0,t.Z)((0,t.Z)({},r.cover),{},{src_mobile:(null===r||void 0===r||null===(a=r.cover)||void 0===a?void 0:a.thumb_sq)||(null===r||void 0===r||null===(n=r.cover)||void 0===n?void 0:n.src_mobile)})),(0,d.jsx)("div",{className:"info",children:r.name_truncated})]})},r.meta_slug)}))}):null},h=function(e){return(0,d.jsx)(o.Ei.HorizontalGallery,(0,t.Z)((0,t.Z)({},e),{},{className:(0,c.UT)(["p-imgs-hgallery",e.className])}))},v=["clsPrefix","images","children"],f=["viewCN","pagination","className","children","items","renderItem"],p=function e(r){var a=r.clsPrefix,s=r.images,i=r.children,l=(0,n.Z)(r,v);return(0,d.jsx)(o.G7,(0,t.Z)((0,t.Z)({},l),{},{className:(0,c.UT)([a,r.className]),children:(0,d.jsxs)("div",{className:"".concat(a,"-grid d-grid grid-md-12"),children:[(0,d.jsx)("div",{className:"".concat(a,"-grid-media span-md-8"),children:s}),(0,d.jsx)("div",{className:"".concat(a,"-grid-product span-md-4"),children:i}),(0,d.jsx)(e.HorizontalGallery,{}),(0,d.jsx)(h,{})]})}))};p.HorizontalGallery=h;var j=function e(r){var a=r.viewCN,s=r.pagination,i=(r.className,r.children),l=r.items,c=r.renderItem,u=(0,n.Z)(r,f);return(0,d.jsx)(o.G7,(0,t.Z)((0,t.Z)({},u),{},{className:a,footer:s&&(0,d.jsx)(o.tl,(0,t.Z)({},s)),children:(0,d.jsx)(e.Grid,{children:i||l.map((function(e){return c(e)}))})}))};j.Grid=function(e){var r=e.className,a=void 0===r?"grid-2 grid-md-3 grid-lg-4 grid-xl-6 gap-2":r,n=e.children;return(0,d.jsx)("div",{className:(0,c.UT)([a,"miq-product-grid d-grid"]),children:n})};var N=a(1408),Z=a(5603),b=function(e){var r=(0,N.lr)(),a=(0,s.Z)(r,2),n=a[0],i=a[1];return(0,d.jsx)("form",(0,t.Z)((0,t.Z)({},e),{},{className:(0,c.UT)(["p-search-form",e.className]),children:(0,d.jsx)(Z.kq.Mj,{value:n.get("q")||"",onChange:function(e){i({q:e.target.value})},placeholder:"Cherchez un produit ..."})}))},g=a(6520),C=function(e){var r=e.attributes;return r?(0,d.jsx)("ul",{className:"product-attr-list",children:null===r||void 0===r?void 0:r.map((function(e){return(0,d.jsxs)("li",{className:"attr",children:[(0,d.jsxs)("span",{className:"attr-label",children:[e.name," : "]}),(0,d.jsx)("span",{className:"attr-value",children:e.value})]},e.name)}))}):null},q=["item","showName"],y=function(){var e=l.useContext(u.h2),r=e.product,a=e.similar,n=e.breadcrumbs,s=e.whatsapp_number,c=r.is_oos,x=r.is_pre_sale,h=r.is_pre_sale_text,v=r.cover,f=r.images,N=[v].concat((0,i.Z)(f));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.bu,{items:n,className:"my-3 px-2"}),(0,d.jsx)(p,{images:(0,d.jsx)("div",{className:"p-images mb-2",style:{position:"sticky",top:0},children:(0,d.jsx)(p.HorizontalGallery,{images:N,mobileOnly:!1})}),className:"product-detail-view",children:(0,d.jsxs)("div",{className:"p-details p-1",children:[c&&(0,d.jsx)("div",{className:"my-2",children:(0,d.jsx)("span",{className:"bg-red-100 px-1 rounded",children:"En rupture de stock"})}),(0,d.jsx)("h1",{className:"p-name fw-lighter mb-1",style:{fontSize:"1.25rem"},children:r.name}),(0,d.jsx)(m,(0,t.Z)((0,t.Z)({},r),{},{retail_price:r.retail_price})),(0,d.jsx)("div",{className:"mb-3"}),x&&h&&(0,d.jsx)("div",{className:"p-presale-text mb-3",children:h}),s&&(0,d.jsx)("div",{className:"mb-3 text-center",children:(0,d.jsx)("a",{href:"./?r=1&source=site&medium=shopbtn&campaign=web",className:"d-block btn btn-md btn-primary px-2 fw-bold",target:"_blank",rel:"noopener noreferrer",children:"Acheter"})}),r.description&&(0,d.jsx)("div",{className:"p-description mb-3",children:r.description}),(0,d.jsxs)("ul",{className:"p-extra my-3",children:[(null===r||void 0===r?void 0:r.has_attributes)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("li",{className:"p-extra-title mb-1",children:"D\xe9tails"}),(0,d.jsx)("li",{className:"p-extra-content",children:(0,d.jsx)(C,{attributes:r.attributes||[]})})]}),(0,d.jsx)("li",{className:"p-extra-title mb-1",children:"Livraison"}),(0,d.jsxs)("li",{className:"p-extra-content",children:[(0,d.jsx)("p",{className:"mb-1",children:"Livraison standard gratuite sur Cotonou pour les commandes de 50000 CFA et plus."}),(0,d.jsx)("div",{className:"text-sm text-muted",children:"*Le d\xe9lai de traitement de la livraison standard pour cet article est estim\xe9 \xe0 1 \xe0 5 jours ouvrables."})]})]})]})}),a&&(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("p",{className:"text-md mb-2",children:"Vous aimerez peut-\xeatre"}),(0,d.jsx)(j.Grid,{children:a.map((function(e){return(0,d.jsx)(w,{item:e},e.meta_slug)}))})]})]})},_=function(){var e=(0,N.lr)(),r=(0,s.Z)(e,1)[0],a=l.useContext(u.h2),n=a.object_list,i=void 0===n?[]:n,c=a.page_label,m=a.breadcrumbs,h=a.pagination,v=r.get("q");return(0,d.jsxs)(o.G7,{className:"p-listview p-1 pb-4",header:(0,d.jsxs)("header",{className:"p-listview-header",children:[(0,d.jsx)("div",{className:"miq-container center",children:(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)(b,{})})}),(0,d.jsx)(o.bu,{items:m,className:"mb-2"}),!v&&(0,d.jsx)(x,{showCover:!0})]}),children:[(0,d.jsx)(j,{title:c,viewCN:"miq-container-lg",items:i,renderItem:function(e){return(0,d.jsx)(w,{showName:!0,item:e},e.meta_slug)}}),(0,d.jsx)("div",{className:"mt-3",children:h&&(0,d.jsx)(o.tl,(0,t.Z)({},h))})]})},w=function(e){var r=e.item,a=e.showName,s=((0,n.Z)(e,q),r.url),i=r.cover,l=r.name,u=r.is_oos;return(0,d.jsx)("a",{href:"".concat(s),children:(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Ei.Picture,(0,t.Z)((0,t.Z)({},i),{},{className:"rounded"})),(0,d.jsxs)("div",{className:"product-grid-info",children:[u&&(0,d.jsx)("span",{className:"bg-red-100 px-1 rounded",children:"En rupture de stock"}),(0,d.jsx)(m,(0,t.Z)({},r)),a&&(0,d.jsx)("div",{className:"product-grid-name",children:(0,c.bI)(l)})]})]})})};function k(){return(0,d.jsxs)(g.Z5,{children:[(0,d.jsx)(g.AW,{path:":catMetaSlug/:prodMetaSlug/",element:(0,d.jsx)(y,{})}),(0,d.jsx)(g.AW,{path:":catMetaSlug/",element:(0,d.jsx)(_,{})}),(0,d.jsx)(g.AW,{index:!0,element:(0,d.jsx)(_,{})})]})}}}]);
//# sourceMappingURL=879.19e7c4a7.chunk.js.map