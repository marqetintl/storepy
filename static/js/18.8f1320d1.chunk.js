(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[18],{363:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var n=a(1),c=a(4),s=a(8),i=a(2),l=a(13),r=a(7),o=a(5),b=a(35),u=a(31),d=a(53),m=a(0),j=["isUpdated"],p=["isUpdated"];function x(e){var t=Object(i.useContext)(o.v),a=Object(i.useContext)(l.a),x=Object(i.useState)({}),h=Object(s.a)(x,2),_=h[0],O=h[1],g=a.site,v=void 0===g?{}:g,k=Object(r.c)({name:v.name,domain:v.domain,contact_number:_.contact_number||"",contact_number_display:_.contact_number_display||"",contact_number_title:_.contact_number_title||"",contact_email:_.contact_email||"",whatsapp_link:_.whatsapp_link||"",whatsapp_link_title:_.whatsapp_link_title||"",ga_tracking:_.ga_tracking||"",fb_pixel:_.fb_pixel||""}),f=v.settings,y=null===v||void 0===v?void 0:v.name,S=null===v||void 0===v?void 0:v.domain,w=k.setValues;if(Object(i.useEffect)((function(){u.a.detail(f).then((function(e){e.slug&&(O(e),w({name:y||"",domain:S||"",contact_number:e.contact_number||"",contact_number_title:e.contact_number_title||"",contact_number_display:e.contact_number_display||"",contact_email:e.contact_email||"",whatsapp_link:e.whatsapp_link||"",whatsapp_link_title:e.whatsapp_link_title||"",ga_tracking:e.ga_tracking||"",fb_pixel:e.fb_pixel||""}))})).catch((function(e){}))}),[f,w,y,S]),!_.slug)return null;return Object(m.jsxs)(b.a,{title:"Site General Settings",back:null===e||void 0===e?void 0:e.back,children:[Object(m.jsxs)("div",{className:"d-grid grid-md-4 gap-2",children:[Object(m.jsx)(r.b,{context:k,onSubmit:function(e){return e.preventDefault(),u.a.patchSite(f,{name:k.values.name,domain:k.values.domain},{name:v.name,domain:v.domain}).then((function(e){var n=e.isUpdated,s=Object(c.a)(e,j);n&&(a.updateSite(s.site),t.success({message:"Site updated."}))})).catch((function(e){return k.handleError(e)}))},className:"span-md-3",children:Object(m.jsxs)(b.a.Section,{title:"Site Details",children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(r.b.Label,{value:"Site name"}),Object(m.jsx)(r.b.TextInput,{required:!0,name:"name",error:k.errors.name,disabled:!Boolean(v.settings)})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(r.b.Label,{value:"Site domain"}),Object(m.jsx)(r.b.TextInput,{required:!0,name:"domain",error:k.errors.domain,disabled:!Boolean(v.settings)})]}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(r.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})}),Object(m.jsx)(b.a.Section,{title:"Site logo",className:"span-md-1",children:Object(m.jsx)(o.k,{slug:_&&_.logo_data?_.logo_data.slug:null,onCreate:function(e){return u.a.patch(_.slug,{logo:e.slug}).then((function(e){O(e),t.success({message:"Logo added."})})).catch((function(e){}))},onUpdate:function(e){O(Object(n.a)(Object(n.a)({},_),{},{logo_data:e})),t.success({message:"Logo updated."})},className:"site-logo-upload-button",children:Object(m.jsx)(o.h,Object(n.a)(Object(n.a)({},_.logo_data),{},{className:"site-logo"}))})})]}),Object(m.jsx)(d.a,{ctx:a,setting:_,setSetting:O,toast:t}),Object(m.jsxs)(r.b,{context:k,onSubmit:function(e){e.preventDefault();var a={};return Object.keys(k.values).forEach((function(e){a[e]=_[e]})),u.a.patch(_.slug,k.values,a).then((function(e){var a=e.isUpdated,n=Object(c.a)(e,p);a&&(O&&O(n),t&&t.success({message:"Site updated."}))})).catch((function(e){return k.handleError(e)}))},className:"d-grid grid-md-2 gap-2",children:[Object(m.jsxs)(b.a.Section,{title:"Contact",text:"What's the best way to contact you?",children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(r.b.Label,{value:"Phone number"}),Object(m.jsx)(r.b.TextInput,{name:"contact_number",type:"tel",error:k.errors.contact_number,placeholder:"Write your contact number with country extension ... ex(+1...)",minLength:8,maxLength:16})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(r.b.Label,{value:"Phone number display"}),Object(m.jsx)(r.b.TextInput,{name:"contact_number_display",error:k.errors.contact_number_display,placeholder:"Write your contact number without country extension ...",maxLength:99})]}),Object(m.jsxs)("div",{className:"mb-2",children:[Object(m.jsx)(r.b.Label,{value:"Phone number link text"}),Object(m.jsx)(r.b.TextInput,{name:"contact_number_title",error:k.errors.contact_number_title,placeholder:"Describe your phone number link ...",maxLength:99})]}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(r.b.Label,{value:"Email"}),Object(m.jsx)(r.b.TextInput,{name:"contact_email",type:"email",error:k.errors.contact_email,placeholder:"Write your contact email ...",maxLength:99})]})]}),Object(m.jsxs)(b.a.Section,{title:"Whatsapp",text:"A whatsapp icon will be added to your site.",children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(r.b.Label,{value:"Whatsapp link"}),Object(m.jsx)(r.b.TextInput,{name:"whatsapp_link",type:"url",error:k.errors.whatsapp_link,placeholder:"Write your whatsapp link ...",maxLength:200})]}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(r.b.Label,{value:"Whatsapp link text"}),Object(m.jsx)(r.b.TextInput,{name:"whatsapp_link_title",error:k.errors.whatsapp_link_title,placeholder:"Describe your whatsapp link ...",maxLength:99})]})]}),Object(m.jsxs)(b.a.Section,{title:"Analytics",text:"Set up third-party analytics.",className:"",children:[Object(m.jsx)(r.b.Field,{label:"Google Analytics Tracking Number",children:Object(m.jsx)(r.b.TextInput,{name:"ga_tracking",error:k.errors.ga_tracking})}),Object(m.jsx)(r.b.Field,{label:"Facebook Pixel",children:Object(m.jsx)(r.b.TextInput,{name:"fb_pixel",error:k.errors.fb_pixel})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(r.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]}),Object(m.jsx)(b.a.Section,{title:"Social",text:"Display Your social media accounts.",className:"span-md-1"})]})]})}}}]);
//# sourceMappingURL=18.8f1320d1.chunk.js.map