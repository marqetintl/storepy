{"version":3,"sources":["shop/constants.jsx","shop/index.jsx"],"names":["SHOP_PATHS","base","orderUpdate","slug","this","update","orderList","list","productUpdate","query","productList","categoryList","categoryUpdate","path","SHOP_MSGS","order","update_success","update_error","product","create_success","create_error","publish_success","unpublish_success","publish_error","publish_error_retail_price","publish_error_category","publish_error_page","delete_success","delete_error","cover_create_success","cover_update_success","cover_update_error","cover_delete_success","page_update_success","page_update_error","wrong","default","ProductStaffRoutes","lazy","CategoryStaffRoutes","SupplierOrderStaffRoutes","StaffShopRoutes","props","toastCtx","useToast","match","url","context","fallback","render","back","addForwardSlash","requiredPerms","title","className","Section","actions","to","label"],"mappings":"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","file":"static/js/15.946f1226.chunk.js","sourcesContent":["export const SHOP_PATHS = {\n  base: '/staff/shop/',\n\n  orderUpdate: function (slug) {\n    return this.update(this.orderList(), slug);\n  },\n  orderList: function () {\n    return this.list('orders/');\n  },\n\n  productUpdate: function (slug, query) {\n    return this.update(this.productList(), slug, query);\n  },\n  productList: function () {\n    return this.list('products/');\n  },\n\n  categoryList: function () {\n    return this.list('categories/');\n  },\n  categoryUpdate: function (slug) {\n    return this.update(this.categoryList(), slug);\n  },\n\n  update: function (path, slug, query) {\n    if (query) return `${path}${slug}/?${query}`;\n    return `${path}${slug}/`;\n  },\n  list: function (path) {\n    return `${this.base}${path}`;\n  },\n};\n\nexport const SHOP_MSGS = {\n  order: {\n    update_success: 'Order updated.',\n    update_error: 'Could not update order.',\n  },\n  product: {\n    create_success: 'Product created.',\n    create_error: 'Could not create product.',\n\n    update_success: 'Product updated.',\n    update_error: 'Could not update product.',\n\n    publish_success: 'Product published.',\n    unpublish_success: 'Product unpublished.',\n    publish_error: 'Could not publish product.',\n    publish_error_retail_price: 'You can not publish a product without price.',\n    publish_error_category: 'You can not publish a product without category.',\n    publish_error_page: 'You can not publish a product without page',\n\n    delete_success: 'Product deleted',\n    delete_error: 'Could not delete product.',\n\n    cover_create_success: 'Product cover added.',\n    cover_update_success: 'Product cover updated.',\n    cover_update_error: 'Could not upload cover image.',\n    cover_delete_success: 'Product cover deleted.',\n\n    page_update_success: 'Product page updated.',\n    page_update_error: 'Could not update page.',\n  },\n  wrong: 'Something went wrong.',\n  default: 'Something went awfully wrong!',\n};\n","import React from 'react';\nimport { lazy, Suspense } from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport { AdminRoute, AdminNavLink, AdminView } from '@miq/adminjs';\nimport { addForwardSlash } from '@miq/utils';\nimport { ToastProvider, useToast, Loading } from '@miq/components';\nimport { SHOP_PATHS } from './constants';\n\nconst ProductStaffRoutes = lazy(() => import('./product/'));\nconst CategoryStaffRoutes = lazy(() => import('./category/'));\nconst SupplierOrderStaffRoutes = lazy(() => import('./orders/'));\n\nexport default function StaffShopRoutes(props) {\n  const toastCtx = useToast();\n  const { path, url } = props.match;\n\n  return (\n    <ToastProvider context={toastCtx}>\n      <Suspense fallback={<Loading />}>\n        <Switch>\n          <AdminRoute\n            path={`${SHOP_PATHS.orderList()}`}\n            render={(props) => <SupplierOrderStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_supplierorder']}\n          />\n          <AdminRoute\n            path={`${SHOP_PATHS.categoryList()}`}\n            render={(props) => <CategoryStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_category']}\n          />\n          <AdminRoute\n            path={`${SHOP_PATHS.productList()}`}\n            render={(props) => <ProductStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_product']}\n          />\n          <AdminRoute path={path} requiredPerms={['shop.view_product']}>\n            <AdminView title=\"Store\" back={'/staff/'} className=\"miq-container-fluid\">\n              <AdminView.Section\n                title=\"Carts\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}carts`)}\n                    label=\"View carts\"\n                    requiredPerms={['shop.view_cart']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Supplier Orders\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}orders`)}\n                    label=\"View orders\"\n                    requiredPerms={['shop.view_supplierorder']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Products\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}products`)}\n                    label=\"View products\"\n                    requiredPerms={['shop.view_product']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Categories\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}categories`)}\n                    label=\"View categories\"\n                    requiredPerms={['shop.view_category']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n            </AdminView>\n          </AdminRoute>\n        </Switch>\n      </Suspense>\n    </ToastProvider>\n  );\n}\n"],"sourceRoot":""}