{"version":3,"sources":["../../../../packages/miq-adminjs/src/images/IndexView.jsx"],"names":["ImageRow","image","props","slug","Tr","Td","className","to","addForwardSlash","match","url","name_truncated","user","username","size","ImageIndexView","useState","results","data","setData","useEffect","imgServices","list","then","catch","err","setStatus","toasts","error","message","title","items","renderItem","item","key","pagination","count","next","previous","onPreviousClick","onNextClick"],"mappings":"gQASMA,EAAW,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAUC,EAAY,iBACxC,OAAKD,GAAUA,EAAME,KAGnB,eAAC,IAAMC,GAAP,WACE,cAAC,IAAMC,GAAP,CAAUC,UAAU,gBAApB,SACE,cAAC,IAAD,CAAMC,GAAE,UAAKC,YAAgBN,EAAMO,MAAMC,MAAjC,OAAwCT,EAAME,KAA9C,KAAR,SACE,sBAAKG,UAAU,SAAf,UACE,cAAC,IAAD,eAAeL,IACf,sBAAKK,UAAU,OAAf,UACE,qBAAKA,UAAU,WAAf,SAA2BL,EAAMU,iBACjC,sBAAML,UAAU,iCAAhB,SAAkDL,EAAMW,KAAKC,qBAMrE,cAAC,IAAMR,GAAP,UAAWJ,EAAMa,UAhBa,MAqBrB,SAASC,EAAeb,GACrC,MAAwBc,mBAAS,CAAEC,QAAS,KAA5C,mBAAOC,EAAP,KAAaC,EAAb,KACAC,qBAAU,WACRC,IACGC,OACAC,MAAK,SAACL,GACLC,EAAQD,MAETM,OAAM,SAACC,GACNC,UAAU,SACVC,OAAOC,MAAM,CAAEC,QAAS,8BAE3B,IAgBH,OACE,cAAC,IAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,IAAD,CACExB,UAAU,QACVyB,MAAOb,EAAKD,QACZe,WAAY,SAACC,GAAD,OAAU,wBAACjC,EAAD,2BAAcE,GAAd,IAAqBD,MAAOgC,EAAMC,IAAKD,EAAK9B,SAClEgC,WAAY,CACVC,MAAOlB,EAAKkB,MACZC,KAAMnB,EAAKmB,KACXC,SAAUpB,EAAKoB,SACfC,gBAxBoB,aAyBpBC,YAlBgB","file":"static/js/15.d2554abf.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { addForwardSlash } from '@miq/utils';\nimport { Table, ItemTable, ImgSquare } from '@miq/components';\n\nimport { AdminView } from '../views';\nimport { imgServices } from './utils';\n\nconst ImageRow = ({ image, ...props }) => {\n  if (!image || !image.slug) return null;\n\n  return (\n    <Table.Tr>\n      <Table.Td className=\"text-gray-800\">\n        <Link to={`${addForwardSlash(props.match.url)}${image.slug}/`}>\n          <div className=\"d-flex\">\n            <ImgSquare {...image} />\n            <div className=\"ms-1\">\n              <div className=\"img-name\">{image.name_truncated}</div>\n              <span className=\"img-created text-sm text-muted\">{image.user.username}</span>\n            </div>\n          </div>\n        </Link>\n      </Table.Td>\n\n      <Table.Td>{image.size}</Table.Td>\n    </Table.Tr>\n  );\n};\n\nexport default function ImageIndexView(props) {\n  const [data, setData] = useState({ results: [] });\n  useEffect(() => {\n    imgServices\n      .list()\n      .then((data) => {\n        setData(data);\n      })\n      .catch((err) => {\n        setStatus('error');\n        toasts.error({ message: 'Something went wrong' });\n      });\n  }, []);\n\n  const handlePreviousClick = () => {\n    // if (!data || !data.previous) return;\n    // return docServices.get(data.previous).then((newData) => {\n    //   setData(newData);\n    // });\n  };\n\n  const handleNextClick = () => {\n    // if (!data || !data.next) return;\n    // return docServices.get(data.next).then((newData) => {\n    //   setData(newData);\n    // });\n  };\n\n  return (\n    <AdminView title=\"Images\">\n      <ItemTable\n        className=\"w-100\"\n        items={data.results}\n        renderItem={(item) => <ImageRow {...props} image={item} key={item.slug} />}\n        pagination={{\n          count: data.count,\n          next: data.next,\n          previous: data.previous,\n          onPreviousClick: handlePreviousClick,\n          onNextClick: handleNextClick,\n        }}\n      />\n    </AdminView>\n  );\n}\n"],"sourceRoot":""}