(this["webpackJsonp@store/clientjs"]=this["webpackJsonp@store/clientjs"]||[]).push([[0],{344:function(e,t,c){"use strict";c.d(t,"b",(function(){return j})),c.d(t,"a",(function(){return m}));var s=c(22),r=c(4),a=c(2),l=c(6),n=c(9),i=c(5),u=c(341),o=c(0),d=["product"],b=["image"],j=function(e){var t=e.product,c=Object(r.a)(e,d);return t&&t.slug?Object(o.jsx)(i.k,{multiple:!0,className:"btn-primary-3",onCreate:function(e){return e=e.filter((function(e){return e&&e.slug})),u.a.patch(t.slug,{images:[].concat(Object(s.a)(t.images),Object(s.a)(e.map((function(e){return e.slug}))))}).then((function(e){c.onCreateSuccess&&c.onCreateSuccess(e)})).catch((function(e){c.onCreateError&&c.onCreateError(e)}))}}):null},m=function(e){var t=e.image,c=Object(r.a)(e,b),s=Object(l.c)({alt_text:(null===t||void 0===t?void 0:t.alt_text)||""}),i=null===t||void 0===t?void 0:t.slug,u=null===t||void 0===t?void 0:t.alt_text,d=s.setValues;return Object(a.useEffect)((function(){d({alt_text:u})}),[i,d,u]),t&&t.slug?Object(o.jsx)(l.a,{value:s,className:c.className,children:Object(o.jsx)(n.h,{required:!0,image:t,onSuccess:c.onSuccess,onError:c.onError,placeholder:"Add an alternative text ..."})}):null}},348:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var s=c(4),r=c(0),a=["product"],l=function(e){var t=e.product;Object(s.a)(e,a);return t?Object(r.jsx)("div",{className:"product-supplier-data",children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"",children:"Supplier"}),Object(r.jsx)("span",{className:"",children:t.supplier_name})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"",children:"Item id"}),Object(r.jsx)("span",{className:"",children:t.supplier_item_id})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"",children:"Category"}),Object(r.jsx)("span",{className:"",children:t.supplier_item_category})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"",children:"Item cost"}),Object(r.jsxs)("span",{className:"",children:[t.supplier_item_cost," (",t.supplier_item_cost_currency,")"]})]}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:t.supplier_item_url,className:"text-underline",target:"_blank",rel:"noopener noreferrer",children:"View supplier page"})})]})}):null}},349:function(e,t,c){"use strict";c.d(t,"b",(function(){return y})),c.d(t,"a",(function(){return T}));var s=c(1),r=c(4),a=c(2),l=c(9),n=c(6),i=c(341),u=c(344),o=c(342),d=c(0),b=["form","product"],j=["showLabel","label"],m=["placeholder"],v=["showLabel","label"],p=["categories"],O=["showLabel","label"],x=["showLabel","label"],h=["showLabel","label"],g=["showLabel","label"],f=["showLabel","label"],_=["stages","name"],N=["children","context","fields","prodSlug"],S=["onSuccess","onError"];function y(e){var t,c,j,m,v,p,O,x=e.form,h=e.product,g=Object(r.a)(e,b),f=g.setProduct,_=g.toast,N=g.categories,S=null===h||void 0===h?void 0:h.slug;Object(a.useEffect)((function(){}),[S]);return Object(d.jsx)(T,{context:x,onSubmit:function(e){e.preventDefault();var t={name:x.values.name,retail_price:x.values.retail_price,is_on_sale:x.values.is_on_sale,is_pre_sale:x.values.is_pre_sale};return x.values.category&&(t.category=x.values.category),x.values.is_on_sale&&(t.sale_price=x.values.sale_price),x.values.is_pre_sale&&(t.is_pre_sale_text=x.values.is_pre_sale_text),i.a.patch(h.slug,t).then((function(e){null===f||void 0===f||f(Object(s.a)(Object(s.a)({},h),e)),null===_||void 0===_||_.success({message:o.a.product.update_success})})).catch((function(e){return null===_||void 0===_||_.error({message:o.a.product.update_error}),x.handleError(e)}))},children:Object(d.jsxs)("div",{className:"d-grid grid-md-3 gap-3",children:[Object(d.jsx)("div",{className:"span-md-2",children:Object(d.jsxs)(l.g.Section,{title:"Details",actions:Object(d.jsx)(l.i,{is_published:null===h||void 0===h||null===(t=h.page)||void 0===t?void 0:t.is_published,pill:!0}),children:[Object(d.jsx)("div",{className:"mb-1",children:Object(d.jsx)(L,{error:x.errors.name})}),N&&Object(d.jsx)("div",{className:"mb-1",children:Object(d.jsx)(w,{categories:N,error:null===x||void 0===x||null===(c=x.errors)||void 0===c?void 0:c.category})}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)("div",{className:"mb-1",children:Object(d.jsx)(I,{error:null===x||void 0===x||null===(j=x.errors)||void 0===j?void 0:j.retail_price})}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)("div",{className:"d-flex align-items-center mb-1",children:Object(d.jsx)(k,{error:null===x||void 0===x||null===(m=x.errors)||void 0===m?void 0:m.is_pre_sale})}),x.values.is_pre_sale&&Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsx)(C,{error:null===x||void 0===x||null===(v=x.errors)||void 0===v?void 0:v.is_pre_sale_text})})]}),Object(d.jsx)("div",{className:"d-flex align-items-center mb-1",children:Object(d.jsx)(P,{error:null===x||void 0===x||null===(p=x.errors)||void 0===p?void 0:p.is_on_sale})}),x.values.is_on_sale&&Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsx)(E,{error:null===x||void 0===x||null===(O=x.errors)||void 0===O?void 0:O.sale_price})})]}),Object(d.jsx)("div",{className:"my-3",children:Object(d.jsx)(n.b.Submit,{value:"Update product",className:"btn btn-primary-3"})})]})}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)(l.k,{slug:null===h||void 0===h?void 0:h.cover,data:h.cover_data,onCreate:function(e){i.a.patch(h.slug,{cover:e.slug}).then((function(e){null===f||void 0===f||f(Object(s.a)(Object(s.a)({},h),e)),null===_||void 0===_||_.success({message:o.a.product.cover_create_success})})).catch((function(e){null===_||void 0===_||_.error({message:o.a.product.cover_update_error})}))},onUpdate:function(e){return null===_||void 0===_||_.success({message:o.a.product.cover_update_success}),null===f||void 0===f?void 0:f(Object(s.a)(Object(s.a)({},h),{},{cover_data:e}))},onDelete:function(){return null===_||void 0===_||_.success({message:o.a.product.cover_delete_success}),null===f||void 0===f?void 0:f(Object(s.a)(Object(s.a)({},h),{},{cover_data:null,cover:null}))},className:"mb-1"}),Object(d.jsx)(u.a,{image:null===h||void 0===h?void 0:h.cover_data})]})]})})}var L=function(e){var t=e.showLabel,c=void 0===t||t,a=e.label,l=void 0===a?"Name":a,i=Object(r.a)(e,j),u=i.placeholder,o=void 0===u?"Give a name to the item":u,b=Object(r.a)(i,m);return Object(d.jsxs)(d.Fragment,{children:[c&&Object(d.jsx)(n.b.Label,{value:l,className:"mb-1"}),Object(d.jsx)(n.b.TextInput,Object(s.a)(Object(s.a)({},b),{},{required:!0,name:"name",placeholder:o,maxLength:99}))]})},w=function(e){var t,c=e.showLabel,l=void 0===c||c,i=e.label,u=void 0===i?"Category":i,o=Object(r.a)(e,v),b=o.categories,j=Object(r.a)(o,p);return Object(d.jsxs)(d.Fragment,{children:[l&&Object(d.jsx)(n.b.Label,{value:u}),Object(d.jsx)(n.b.SelectInput,Object(s.a)(Object(s.a)({},j),{},{required:!0,name:"category",nullValue:{label:"Select category"},children:null===b||void 0===b||null===(t=b.items)||void 0===t?void 0:t.map((function(e){return Object(a.createElement)(n.b.SelectInput.Option,Object(s.a)(Object(s.a)({},e),{},{key:e.value}))}))}))]})},I=function(e){var t=e.showLabel,c=void 0===t||t,a=e.label,l=void 0===a?"Retail price":a,i=Object(r.a)(e,O);return Object(d.jsxs)(d.Fragment,{children:[c&&Object(d.jsx)(n.b.Label,{value:l,id:"retail_price_label"}),Object(d.jsx)(n.b.TextInput,Object(s.a)(Object(s.a)({},i),{},{required:!0,type:"number",name:"retail_price","aria-describedby":"retail_price_label",min:"0",step:"0.01"}))]})},k=function(e){e.showLabel;var t=e.label,c=void 0===t?"Pre-sale":t,a=Object(r.a)(e,x);return Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(n.b.CheckboxInput,Object(s.a)(Object(s.a)({},a),{},{name:"is_pre_sale",className:"me-2"})),Object(d.jsx)(n.b.Label,{value:c})]})},C=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(n.b.Label,{value:"Pre sale text",id:"is_pre_sale_text_label",className:"miq-checkbox-label"}),Object(d.jsx)(n.b.TextAreaX,{name:"is_pre_sale_text","aria-describedby":"is_pre_sale_text_label"})]})},P=function(e){e.showLabel;var t=e.label,c=void 0===t?"On Sale":t,a=Object(r.a)(e,h);return Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(n.b.CheckboxInput,Object(s.a)(Object(s.a)({},a),{},{name:"is_on_sale",className:"me-2"})),Object(d.jsx)(n.b.Label,{value:c})]})},E=function(e){var t=e.showLabel,c=void 0===t||t,a=e.label,l=void 0===a?"Sale price":a,i=Object(r.a)(e,g);return Object(d.jsxs)(d.Fragment,{children:[c&&Object(d.jsx)(n.b.Label,{value:l,id:"sale_price_label",className:"miq-checkbox-label"}),Object(d.jsx)(n.b.TextInput,Object(s.a)(Object(s.a)({},i),{},{required:!0,type:"number",name:"sale_price","aria-describedby":"sale_price_label",min:"0",step:"0.01"}))]})},T=function(e){var t=e.children,c=e.context,a=e.fields,l=void 0===a?[]:a,u=e.prodSlug,o=Object(r.a)(e,N),b=(o.onSuccess,o.onError,Object(r.a)(o,S));return Object(d.jsx)(n.b,Object(s.a)(Object(s.a)({},b),{},{context:c,onSubmit:o.onSubmit||function(e){if(c&&l){e.preventDefault();var t={};if(l.forEach((function(e){var s=c.values[e];null!=s&&(t[e]=s)})),u)return i.a.patch(u,t).then((function(e){var t;null===o||void 0===o||null===(t=o.onSuccess)||void 0===t||t.call(o,e)})).catch((function(e){return o.onError?o.onError(e):(console.log("ehey"),c.handleError(e))}))}},children:t}))};T.NameInput=L,T.CategoryInput=w,T.RetailPriceInput=I,T.PresaleCheckboxInput=k,T.PresaleTextInput=C,T.OnSaleCheckboxInput=P,T.SalePriceInput=E,T.StageSelect=function(e){var t,c=e.showLabel,l=void 0===c||c,i=e.label,u=void 0===i?"Stage":i,o=Object(r.a)(e,f),b=o.stages,j=o.name,m=Object(r.a)(o,_);return Object(d.jsxs)(d.Fragment,{children:[l&&Object(d.jsx)(n.b.Label,{value:u}),Object(d.jsx)(n.b.SelectInput,Object(s.a)(Object(s.a)({},m),{},{required:!0,name:j||"stage",nullValue:{label:"Select stage"},children:null===b||void 0===b||null===(t=b.map)||void 0===t?void 0:t.call(b,(function(e){return Object(a.createElement)(n.b.SelectInput.Option,Object(s.a)(Object(s.a)({},e),{},{key:e.value}))}))}))]})}},353:function(e,t,c){"use strict";c.r(t),c.d(t,"productFormDefaultValues",(function(){return S})),c.d(t,"default",(function(){return y})),c.d(t,"ProductPublishButton",(function(){return L}));var s=c(4),r=c(1),a=c(8),l=c(2),n=c(9),i=c(6),u=c(3),o=c(5),d=c(348),b=c(341),j=c(344),m=c(0),v=["instance","product"],p=["product"],O=function(e){return Object(m.jsx)(i.b.TextInput,Object(r.a)(Object(r.a)({placeholder:"Nom de l'attribut"},e),{},{required:!0,name:"name",maxLength:30,minLength:3}))},x=function(e){return Object(m.jsx)(i.b.TextInput,Object(r.a)(Object(r.a)({placeholder:"Valeur de l'attribut"},e),{},{required:!0,name:"value",maxLength:99,minLength:3}))},h=function(e){var t=e.instance,c=e.product,r=Object(s.a)(e,v),a=Object(i.c)({name:(null===t||void 0===t?void 0:t.name)||"",value:(null===t||void 0===t?void 0:t.value)||""});if(!t||!t.slug||!c||!c.slug)return null;return Object(m.jsx)(i.b,{context:a,onSubmit:function(e){return e.preventDefault(),b.a.patchAttribute(c.slug,t.slug,a.values).then((function(e){return null===r||void 0===r?void 0:r.onSuccess(e)})).catch((function(e){return a.handleError(e)}))},children:Object(m.jsxs)("div",{className:"d-flex flex-column flex-md-row",style:{alignItems:"end"},children:[Object(m.jsx)("div",{className:"me-md-1",children:Object(m.jsx)(O,{error:a.errors.name})}),Object(m.jsx)("div",{className:"w-100 me-md-1",children:Object(m.jsx)(x,{error:a.errors.value})}),Object(m.jsxs)("div",{className:"d-flex ms-md-1",children:[Object(m.jsx)(o.c,{Icon:o.g.Trash,render:function(e){return Object(m.jsx)("div",{className:"p-3 w-100 d-flex justify-content-center",children:Object(m.jsxs)("div",{className:"w-md-50 d-flex align-items-center justify-content-between",children:[Object(m.jsx)("div",{children:Object(m.jsx)(o.b,{onClick:function(){return b.a.deleteAttribute(c.slug,t.slug).then((function(t){return null===e||void 0===e||e.setOpen(!1),null===r||void 0===r?void 0:r.onSuccess(t)})).catch((function(){var e;null===r||void 0===r||null===(e=r.toast)||void 0===e||e.error({message:"Could not delete attribute."})}))},className:"btn-danger",children:"Supprimer"})}),Object(m.jsx)("div",{children:Object(m.jsx)(o.b,{onClick:function(){return null===e||void 0===e?void 0:e.setOpen(!1)},children:"Annuler"})})]})})},renderHeader:function(e){return Object(m.jsx)("div",{className:"p-3",children:Object(m.jsxs)("div",{className:"fw-bold",children:["Supprimer l'attribut \"",t.name,'"']})})},className:"btn-danger-3 me-1"}),Object(m.jsx)(i.b.Submit,{value:"Save",className:"btn btn-primary-2"})]})]})})};function g(e){var t=e.product,c=Object(s.a)(e,p),r={name:"",value:""},a=Object(i.c)(r);if(!t||!t.slug)return null;return Object(m.jsx)(i.b,{context:a,onSubmit:function(e){return e.preventDefault(),b.a.postAttribute(t.slug,a.values).then((function(e){return a.setValues(r),null===c||void 0===c?void 0:c.onSuccess(e)})).catch((function(e){return a.handleError(e)}))},children:Object(m.jsxs)("div",{className:"d-flex flex-column flex-md-row",style:{alignItems:"end"},children:[Object(m.jsxs)("div",{className:"me-md-1",children:[Object(m.jsx)(i.b.Label,{value:"Name"}),Object(m.jsx)(O,{error:a.errors.name})]}),Object(m.jsxs)("div",{className:"w-100 me-md-1",children:[Object(m.jsx)(i.b.Label,{value:"Value"}),Object(m.jsx)(x,{error:a.errors.value})]}),Object(m.jsx)("div",{className:"ms-md-1",children:Object(m.jsx)(o.d,{type:"submit",className:"btn-primary-3"})})]})})}var f=c(349),_=c(342),N=["tab"],S={name:"",description:"",title:"",category:"",slug_public:"",retail_price:0,is_pre_sale:!1,is_pre_sale_text:"",sale_price:0,is_on_sale:!1};function y(e){var t=e.match.params.prodSlug,c=Object(l.useState)({}),s=Object(a.a)(c,2),r=s[0],d=s[1],j=Object(l.useState)("info"),v=Object(a.a)(j,2),p=v[0],O=v[1],x=Object(l.useContext)(o.v),h=Object(i.c)(S),g=h.setValues;if(Object(l.useEffect)((function(){b.a.detail(t).then((function(e){var t;d(e),g({name:e.name||"",description:e.description||"",category:e.category||"",retail_price:(null===e||void 0===e?void 0:e.retail_price)||0,is_pre_sale:e.is_pre_sale||!1,is_pre_sale_text:e.is_pre_sale_text||"",is_on_sale:e.is_on_sale||!1,sale_price:(null===e||void 0===e?void 0:e.sale_price)||0,title:e.page.title||"",slug_public:(null===e||void 0===e||null===(t=e.page)||void 0===t?void 0:t.slug_public)||""})})).catch((function(e){!e.response||(console.log(e.response),e.response.status)}))}),[t,g]),!r)return null;var N=r.prev_slug,y=r.next_slug;return Object(m.jsxs)(n.g,{back:null===e||void 0===e?void 0:e.back,actions:Object(m.jsxs)("div",{children:[N&&Object(m.jsx)("a",{href:_.b.productUpdate(N),className:"btn me-1",title:"Voir le produit pr\xe9c\xe9dent",children:"Previous"}),y&&Object(m.jsx)("a",{href:_.b.productUpdate(y),className:"btn",title:"Voir le produit suivant",children:"Next"})]}),className:"product-update-view",children:[Object(m.jsx)(f.b,{form:h,product:r,categories:null===r||void 0===r?void 0:r.categories,setProduct:d,toast:x}),Object(m.jsxs)("div",{className:"my-2",children:[Object(m.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[Object(m.jsx)(o.b,{onClick:function(){return O("info")},className:Object(u.j)(["me-1","info"===p&&"btn-primary-3"]),children:"Info"}),Object(m.jsx)(o.b,{onClick:function(){return O("inventory")},className:Object(u.j)(["me-1","inventory"===p&&"btn-primary-3"]),children:"Inventory"}),Object(m.jsx)(o.b,{onClick:function(){return O("imgs")},className:Object(u.j)(["me-1","imgs"===p&&"btn-primary-3"]),children:"Images"}),Object(m.jsx)(o.b,{onClick:function(){return O("setting")},className:Object(u.j)(["setting"===p&&"btn-primary-3"]),children:"Settings"})]})}),Object(m.jsx)(w,{tab:p,prodSlug:t,product:r,setProduct:d,form:h,toast:x,onDelete:function(){var t;return null===e||void 0===e||null===(t=e.history)||void 0===t?void 0:t.push(e.back)}})]})]})}var L=function(e){var t=e.product,c=e.setProduct,s=e.toast;if(!(null===t||void 0===t?void 0:t.page))return null;var a=t.page.is_published;return Object(m.jsxs)(o.b,{onClick:function(){return a?b.a.unpublish(t.slug).then((function(e){return c(Object(r.a)(Object(r.a)({},t),e)),null===s||void 0===s?void 0:s.success({message:_.a.product.unpublish_success})})).catch((function(e){return null===s||void 0===s?void 0:s.error({message:_.a.default})})):b.a.publish(t.slug).then((function(e){return null===c||void 0===c||c(Object(r.a)(Object(r.a)({},t),e)),null===s||void 0===s?void 0:s.success({message:_.a.product.publish_success})})).catch((function(e){var t=e.response,c=void 0===t?{}:t;if(!c.data)return null===s||void 0===s?void 0:s.error({message:_.a.default});var r=c.data,a=r.retail_price,l=r.category,n=r.page;return a?null===s||void 0===s?void 0:s.error({message:_.a.product.publish_error_retail_price}):l?null===s||void 0===s?void 0:s.error({message:_.a.product.publish_error_category}):n?null===s||void 0===s?void 0:s.error({message:_.a.product.publish_error_page}):void 0}))},className:a?"btn-danger":"btn-primary",children:[a?"Unpublish":"Publish"," product"]})},w=function(e){var t=e.tab,c=Object(s.a)(e,N),a=c.product,l=c.setProduct,u=c.form,o=c.toast;if(!a.slug)return null;switch(t){case"inventory":return Object(m.jsx)(I,Object(r.a)({},c));case"imgs":return Object(m.jsx)(k,Object(r.a)({},c));case"setting":return Object(m.jsx)(C,Object(r.a)({},c));default:return Object(m.jsxs)("div",{className:"d-grid grid-md-3 gap-3",children:[Object(m.jsx)(n.g.Section,{title:"Description",className:"span-md-2",children:Object(m.jsxs)(f.a,{context:u,children:[Object(m.jsx)(i.b.TextAreaX,{name:"description",fields:["description"],error:u.errors.description,placeholder:"Give a description to the item"}),Object(m.jsx)("div",{className:"my-2",children:Object(m.jsx)(i.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})}),Object(m.jsx)(n.g.Section,{title:"Status",text:a.page.is_published?"This item is published.":"This item is not published. It does not show in your store.",className:"",children:Object(m.jsx)(L,{product:a,setProduct:l,toast:o})})]})}},I=function(e){var t=Object(l.useState)(!1),c=Object(a.a)(t,2),s=c[0],i=c[1],u=e.product,b=e.setProduct;return Object(m.jsxs)("div",{className:"d-flex flex-column flex-md-row",children:[Object(m.jsxs)("div",{className:"flex-1",children:[Object(m.jsx)(n.g.Section,{title:"Sizes",text:"Add sizes"}),Object(m.jsxs)(n.g.Section,{title:"Attributes",actions:Object(m.jsx)(o.b,{onClick:function(){return i(!s)},className:"btn-primary-3",children:"Ajouter attribut"}),children:[s&&Object(m.jsxs)("div",{className:"border-bottom mb-2 pb-3",children:[Object(m.jsx)("p",{className:"text-center mb-3",children:"Ajouter un attribut au produit."}),Object(m.jsx)(g,{product:u,onSuccess:function(e){return b(Object(r.a)(Object(r.a)({},u),e))}})]}),Object(m.jsx)("div",{className:"my-3",children:u.attributes.map((function(e){return Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)(h,{instance:e,product:u,onSuccess:function(e){return b(Object(r.a)(Object(r.a)({},u),e))}})},e.slug)}))})]})]}),Object(m.jsx)("div",{className:"w-md-35 ms-md-2",children:Object(m.jsx)(d.a,{product:u})})]})},k=function(e){var t=e.product,c=e.setProduct;return Object(m.jsx)(n.g.Section,{title:"Images",text:"Add images to your product",actions:Object(m.jsx)(j.b,{product:t,onCreateSuccess:function(e){c(Object(r.a)(Object(r.a)({},t),e))}}),children:Object(m.jsx)("div",{className:"d-grid grid-md-3 grid-lg-4",style:{gap:4},children:t.images_data.map((function(e){return Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(o.h,Object(r.a)(Object(r.a)({},e),{},{className:"product-img"})),Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)(j.a,{image:e}),Object(m.jsx)(o.i,{slug:e.slug,label:"",className:"btn-danger-3 ms-1",onSuccess:function(){c(Object(r.a)(Object(r.a)({},t),{},{images_data:t.images_data.filter((function(t){return t.slug!==e.slug})),images:t.images.filter((function(t){return t!==e.slug}))}))}})]})]},e.slug)}))})})},C=function(e){var t=e.prodSlug,c=e.product,s=e.setProduct,a=e.form,l=e.toast;return Object(m.jsxs)(i.b,{context:a,onSubmit:function(e){var n,i;e.preventDefault();var u={title:a.values.title,slug_public:a.values.slug_public};return b.a.patchPage(t,u,{title:null===c||void 0===c||null===(n=c.page)||void 0===n?void 0:n.title,slug_public:null===c||void 0===c||null===(i=c.page)||void 0===i?void 0:i.slug_public}).then((function(e){s(Object(r.a)(Object(r.a)({},c),e)),l.success({message:_.a.product.page_update_success})})).catch((function(e){a.handleError(e),l.error({message:_.a.product.page_update_error})}))},children:[Object(m.jsxs)(n.g.Section,{title:"Seo",children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(i.b.Label,{value:"Meta title",className:"mb-1"}),Object(m.jsx)(i.b.TextInput,{required:!0,name:"title",error:a.errors.title,placeholder:"Give a name to the item",maxLength:99})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(i.b.Label,{value:"Slug",className:"mb-1"}),Object(m.jsx)(i.b.TextInput,{required:!0,name:"slug_public",error:a.errors.slug_public,placeholder:"Write slug ...",maxLength:99})]}),Object(m.jsx)("div",{className:"my-2",children:Object(m.jsx)(i.b.Submit,{value:"Update",className:"btn btn-primary-3"})})]}),Object(m.jsx)(n.g.Section,{children:Object(m.jsx)(o.b,{className:"btn-danger",onClick:function(){return b.a.delete(t||c.slug).then((function(t){return null===l||void 0===l||l.success({message:_.a.product.delete_success}),null===e||void 0===e?void 0:e.onDelete()})).catch((function(e){return null===l||void 0===l?void 0:l.error({message:_.a.product.delete_error})}))},children:"Delete product"})})]})}}}]);
//# sourceMappingURL=0.f4f6a8e0.chunk.js.map