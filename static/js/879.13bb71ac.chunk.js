"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[879],{3308:function(e,r,a){a.d(r,{F$:function(){return V},kq:function(){return n},bA:function(){return D},uV:function(){return I},lm:function(){return G},wd:function(){return O},ZP:function(){return K},cI:function(){return f}});var n={};a.r(n),a.d(n,{fn:function(){return L},EQ:function(){return T},w6:function(){return S},ld:function(){return w},fG:function(){return U},cC:function(){return _},Wx:function(){return E},Mj:function(){return k}});var s=a(8519),t=a(8312),i=a(2411),l=a(2145),c=a(2379),o=a(8136),d=["children","value"],u=function(e){var r=e.children,a=e.value,n=(0,t.Z)(e,d),i=r||("string"===typeof a?(0,o.jsx)("label",(0,s.Z)((0,s.Z)({},n),{},{children:a})):a);return(0,o.jsx)("div",{className:"miq-form-label",children:i})},m=function(e){var r=e.error;return r?(0,o.jsx)("div",{className:"miq-form-error",children:r}):null},x=a(6714),h=a(6009),v=(0,i.createContext)(null),j=v.Provider,p=v;function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,i.useState)((0,s.Z)({},e)),a=(0,h.Z)(r,2),n=a[0],t=a[1],c=(0,i.useState)({}),o=(0,h.Z)(c,2),d=o[0],u=o[1],m=(0,i.useMemo)((function(){var e=function(e,r){t((0,s.Z)((0,s.Z)({},n),{},(0,x.Z)({},e,r)))},r=function(r){var a=r.target,n=a.name,s=a.checked;return e(n,s)};return{values:n,setValue:e,setValues:t,handleChange:function(a){var n=a.target,t=n.name,i=n.type,l=n.value;return Object.keys(d).includes(t)&&u((0,s.Z)((0,s.Z)({},d),{},(0,x.Z)({},t,null))),"checkbox"===i?r(a):e(t,l)},toggleCheck:r,errors:d,setError:function(e,r){u((0,s.Z)((0,s.Z)({},d),{},(0,x.Z)({},e,r)))},setErrors:u,handleError:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.response){var a=e.response;if(400!==a.status)return l.TQ&&r&&console.error("Request error status: ".concat(a.status)),e;var n={},t=a.data;l.TQ&&r&&console.error("ERROR=>",t),Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)&&r.length>0&&(r=r[0]),n=(0,s.Z)((0,s.Z)({},n),{},(0,x.Z)({},e,r.message||r))})),u((0,s.Z)({},n))}},hasErrors:function(){return""!==Object.keys(d).join()}}}),[n,d]);return m}var N=["name","error"],Z=["id","className","inputClassName"],g=["id","clearFocus","value","onChange","placeholder","mirror"],b=["children"],q=["name","error","nullValue"],C=["label","children"],y=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.forwardRef((function(a,n){var c=i.useContext(p)||(0,l.q9)("FormCtx"),d=a.name,u=a.error,m=(0,t.Z)(a,N);u=u||c.errors[d];var x=(0,l.UT)([r.className,a.className,u&&"is-invalid"]);return(0,o.jsx)(e,(0,s.Z)((0,s.Z)((0,s.Z)({value:c.values[d],onChange:function(e){c.handleChange(e)}},r.input),m),{},{name:d,className:x,ref:n}))}))},_=y("input",{className:"miq-form-input"}),w=y("textarea",{className:"miq-form-textarea"}),k=i.forwardRef((function(e,r){var a=e.id,n=e.className,i=e.inputClassName,d=(0,t.Z)(e,Z);return(0,o.jsxs)("div",{id:a,className:(0,l.UT)(["miq-search-input-wrapper d-flex align-items-center",n]),children:[(0,o.jsx)("div",{className:"icon-wrapper",children:(0,o.jsx)(c.PJ.HN,{className:"miq-search-icon"})}),(0,o.jsx)("input",(0,s.Z)((0,s.Z)({name:"q",placeholder:"Search ...",minLength:3,maxLength:99,className:(0,l.UT)(["miq-form-input miq-search-input",i])},d),{},{type:"search",ref:r}))]})})),T=y("input",{className:"miq-form-input",input:{minLength:7,maxLength:16,pattern:"[0-9]*",type:"tel",onKeyPress:function(e){return!/[0-9]/.test(e.key)&&e.preventDefault()}}}),U=y(i.forwardRef((function(e,r){var a=e.id,n=e.clearFocus,i=e.value,c=e.onChange,d=e.placeholder,u=void 0===d?"Start typing ...":d,m=e.mirror,x=(0,t.Z)(e,g),h=e.style;return(0,o.jsxs)("div",{id:a,className:(0,l.UT)(["miq-textareax",n&&"clear-focus"]),children:[m?(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:h,dangerouslySetInnerHTML:{__html:"".concat(m,"\n")}}):(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:h,children:"".concat(i,"\n")}),(0,o.jsx)("div",{className:"miq-textareax-input-wrapper",children:(0,o.jsx)("textarea",(0,s.Z)((0,s.Z)({},x),{},{value:i,onChange:c,placeholder:u,style:h,ref:r}))})]})}))),S=i.forwardRef((function(e,r){var a,n,c=e.children,d=(0,t.Z)(e,b),u=i.useContext(p)||(0,l.q9)("FormCtx"),m=d.name,x=d.error,h=d.nullValue,v=(0,t.Z)(d,q);return x=x||(null===u||void 0===u||null===(a=u.errors)||void 0===a?void 0:a[m]),(0,o.jsxs)("select",(0,s.Z)((0,s.Z)({value:null===u||void 0===u||null===(n=u.values)||void 0===n?void 0:n[m],onChange:u.handleChange},v),{},{name:m,className:(0,l.UT)(["miq-form-select",x&&"is-invalid",v.className]),ref:r,children:[(null===h||void 0===h?void 0:h.label)&&(0,o.jsx)(E,(0,s.Z)((0,s.Z)({},h),{},{value:(null===h||void 0===h?void 0:h.value)||""})),c]}))})),E=function(e){var r=e.label,a=e.children,n=(0,t.Z)(e,C);return(0,o.jsx)("option",(0,s.Z)((0,s.Z)({},n),{},{value:n.value,children:a||r}))},L=i.forwardRef((function(e,r){var a,n=i.useContext(p)||(0,l.q9)("FormCtx"),t=e.name,c=void 0===t?(0,l.q9)("Name prop"):t,d=e.error;return d=d||(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a[c]),(0,o.jsx)("input",(0,s.Z)((0,s.Z)({onChange:n.toggleCheck,checked:n.values[c]},e),{},{type:"checkbox",className:(0,l.UT)(["miq-form-checkbox",d&&"is-invalid",e.className]),ref:r}))})),M=["label","text","error"],F=["label","text","error"],P=["label","text","error"],R=["label","text","error"],A=["label","text","error"],W=["children","label","text","error","checkbox"],O=function(e){var r=e.label,a=e.text,n=e.error,i=(0,t.Z)(e,M);return(0,o.jsx)(z,{label:r,text:a,error:n,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({},i),{},{name:"name",maxLength:99}))})},V=function(e){var r=e.label,a=e.text,n=e.error,i=(0,t.Z)(e,F);return(0,o.jsx)(z,{label:r,text:a,error:n,children:(0,o.jsx)(U,(0,s.Z)((0,s.Z)({},i),{},{name:"description"}))})},G=function(e){var r=e.label,a=void 0===r?"Meta title":r,n=e.text,i=e.error,l=(0,t.Z)(e,P);return(0,o.jsx)(z,{label:a,text:n,error:i,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({required:!0,maxLength:99},l),{},{name:"meta_title"}))})},I=function(e){var r=e.label,a=void 0===r?"Meta slug":r,n=e.text,i=e.error,l=(0,t.Z)(e,R);return(0,o.jsx)(z,{label:a,text:n,error:i,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({required:!0,maxLength:99},l),{},{name:"meta_slug"}))})},D=function(e){var r=e.label,a=void 0===r?"Meta description":r,n=e.text,i=e.error,l=(0,t.Z)(e,A);return(0,o.jsx)(z,{label:a,text:n,error:i,children:(0,o.jsx)(U,(0,s.Z)((0,s.Z)({},l),{},{name:"meta_description"}))})};function z(e){var r=e.children,a=e.label,n=e.text,s=e.error,i=e.checkbox,c=(0,t.Z)(e,W),d=a||n;return i?(0,o.jsxs)("div",{className:(0,l.UT)(["miq-form-field",c.className]),children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("div",{className:"me-1",children:r}),(0,o.jsx)(u,{value:a})]}),n&&(0,o.jsx)("div",{className:"miq-form-field-text",children:n}),(0,o.jsx)(m,{error:s})]}):(0,o.jsxs)("div",{className:(0,l.UT)(["miq-form-field",c.className]),children:[d&&(0,o.jsxs)("div",{className:"miq-form-field-header",children:[a&&(0,o.jsx)(u,{value:a}),n&&(0,o.jsx)("div",{className:"miq-form-field-text",children:n})]}),r,(0,o.jsx)(m,{error:s})]})}var H=["children","context"],Q=["children","value"],J=i.forwardRef((function(e,r){var a=e.children,n=e.context,i=(0,t.Z)(e,H);return(0,o.jsx)("form",(0,s.Z)((0,s.Z)({},i),{},{ref:r,className:(0,l.UT)(["miq-form",i.className]),children:(0,o.jsx)(j,{value:n,children:a})}))}));J.Provider=j,J.Error=m,J.Label=u,J.Field=z,J.Submit=function(e){var r=e.children,a=e.value,n=(0,t.Z)(e,Q);return(0,o.jsx)(c.zx,(0,s.Z)((0,s.Z)({},n),{},{type:"submit",children:r||a}))},J.Text=_,J.TextArea=w,J.TextAreaX=U,J.Phone=T,J.Checkbox=L,J.Option=E,J.Select=S;var K=J},5879:function(e,r,a){a.r(r),a.d(r,{default:function(){return U}});var n=a(8312),s=a(6009),t=a(8519),i=a(9062),l=a(2411),c=a(2145),o=a(2379),d=a(8136),u=a(9002),m=function(e){var r=e.is_on_sale,a=e.retail_price,n=e.sale_price,s=r&&null!=(null===n||void 0===n?void 0:n.amountWithSymbol);return(0,d.jsxs)("div",{className:(0,c.UT)(["p-price",s&&"sale"]),children:[s&&(0,d.jsx)("div",{className:"p-price-sale text-danger me-1",children:n.amountWithSymbol}),(0,d.jsx)("div",{className:(0,c.UT)(["p-price-retail",s&&"text-line-through"]),children:a.amountWithSymbol})]})},x=function(e){var r=e.className,a=void 0===r?"grid-2 grid-md-3 grid-lg-4 gap-2":r,n=e.children;return(0,d.jsx)("div",{className:(0,c.UT)(["miq-product-grid d-grid",a]),children:n})},h=function(e){var r=l.useContext(u.h2).categories;return r?(0,d.jsx)("div",{className:"p-category-links pb-2",children:null===r||void 0===r?void 0:r.map((function(r){var a,n;return(0,d.jsx)("div",{className:"item w-25 w-md-15",children:(0,d.jsxs)("a",{href:r.url,className:"",title:r.name,children:[e.showCover&&(null===r||void 0===r?void 0:r.cover)&&(0,d.jsx)(o.Ei.Picture,(0,t.Z)((0,t.Z)({},r.cover),{},{src_mobile:(null===r||void 0===r||null===(a=r.cover)||void 0===a?void 0:a.thumb_sq)||(null===r||void 0===r||null===(n=r.cover)||void 0===n?void 0:n.src_mobile)})),(0,d.jsx)("div",{className:"info",children:r.name_truncated})]})},r.meta_slug)}))}):null},v=function(e){return(0,d.jsx)(o.Ei.HorizontalGallery,(0,t.Z)((0,t.Z)({},e),{},{className:(0,c.UT)(["p-imgs-hgallery",e.className])}))},j=["clsPrefix","images","children"],p=["viewCN","pagination","className","children","items","renderItem"],f=function(e){var r=e.clsPrefix,a=e.images,s=e.children,i=(0,n.Z)(e,j);return(0,d.jsx)(o.G7,(0,t.Z)((0,t.Z)({},i),{},{className:(0,c.UT)([r,e.className]),children:(0,d.jsxs)("div",{className:"".concat(r,"-grid d-grid grid-md-12"),children:[(0,d.jsx)("div",{className:"".concat(r,"-grid-media span-md-8"),children:a}),(0,d.jsx)("div",{className:"".concat(r,"-grid-product span-md-4"),children:s})]})}))},N=function(e){var r=e.viewCN,a=e.pagination,s=e.className,i=e.children,l=e.items,c=e.renderItem,u=(0,n.Z)(e,p);return(0,d.jsx)(o.G7,(0,t.Z)((0,t.Z)({},u),{},{className:r,footer:a&&(0,d.jsx)(o.tl,(0,t.Z)({},a)),children:(0,d.jsx)(x,{className:s,children:i||l.map((function(e){return c(e)}))})}))},Z=a(1408),g=a(3308),b=function(e){var r=(0,Z.lr)(),a=(0,s.Z)(r,2),n=a[0],i=a[1];return(0,d.jsx)("form",(0,t.Z)((0,t.Z)({},e),{},{className:(0,c.UT)(["p-search-form",e.className]),children:(0,d.jsx)(g.kq.Mj,{value:n.get("q")||"",onChange:function(e){i({q:e.target.value})},placeholder:"Cherchez un produit ..."})}))},q=a(6520),C=function(e){var r=e.attributes;return r?(0,d.jsx)("ul",{className:"product-attr-list",children:null===r||void 0===r?void 0:r.map((function(e){return(0,d.jsxs)("li",{className:"attr",children:[(0,d.jsxs)("span",{className:"attr-label",children:[e.name," : "]}),(0,d.jsx)("span",{className:"attr-value",children:e.value})]},e.name)}))}):null},y=a(2134),_=["item","showName"],w=function(){var e=l.useContext(u.h2),r=e.product,a=e.similar,n=e.breadcrumbs,s=r.is_oos,c=r.is_pre_sale,h=r.is_pre_sale_text,j=r.cover,p=r.images,N=[j].concat((0,i.Z)(p));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.bu,{items:n,className:"my-3 px-2"}),(0,d.jsx)(f,{images:(0,d.jsx)("div",{className:"p-images mb-2",style:{position:"sticky",top:0},children:(0,d.jsx)(v,{images:N,mobileOnly:!1})}),className:"product-detail-view",children:(0,d.jsxs)("div",{className:"p-details p-1",children:[s&&(0,d.jsx)("div",{className:"my-2",children:(0,d.jsx)("span",{className:"bg-red-100 px-1 rounded",children:"En rupture de stock"})}),(0,d.jsx)("h1",{className:"p-name text-md fw-lighter",children:r.name}),(0,d.jsx)(m,(0,t.Z)((0,t.Z)({},r),{},{retail_price:r.retail_price})),(0,d.jsx)("div",{className:"mb-3"}),c&&h&&(0,d.jsx)("div",{className:"p-presale-text mb-3",children:h}),(0,d.jsx)("div",{className:"mb-3"}),r.description&&(0,d.jsx)("div",{className:"p-description mb-3",children:r.description}),(0,d.jsxs)("ul",{className:"p-extra mb-3",children:[(null===r||void 0===r?void 0:r.has_attributes)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("li",{className:"p-extra-title mb-1",children:"D\xe9tails"}),(0,d.jsx)("li",{className:"p-extra-content",children:(0,d.jsx)(C,{attributes:r.attributes||[]})})]}),(0,d.jsx)("li",{className:"p-extra-title mb-1",children:"Livraison"}),(0,d.jsx)("li",{className:"p-extra-content",children:(0,d.jsxs)("p",{className:"mb-2",children:["Livraison standard gratuite sur Cotonou pour les commandes de 50000 CFA et plus.",(0,d.jsx)("br",{}),"Le d\xe9lai de traitement de la livraison standard pour cet article est estim\xe9 \xe0 1 \xe0 5 jours ouvrables."]})})]})]})}),a&&(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("p",{className:"text-md mb-2",children:"Voir les styles semblables"}),(0,d.jsx)(x,{children:a.map((function(e){return(0,d.jsx)(T,{item:e},e.meta_slug)}))})]})]})},k=function(){var e=(0,Z.lr)(),r=(0,s.Z)(e,1)[0],a=((0,y.Sj)().isMDDown,l.useContext(u.h2)),n=a.object_list,i=void 0===n?[]:n,c=a.page_label,m=a.breadcrumbs,x=a.pagination,v=r.get("q"),j=r.get("page");return(0,d.jsxs)(o.G7,{className:"p-listview p-1 pb-4",header:(0,d.jsxs)("header",{className:"p-listview-header",children:[(0,d.jsx)("div",{className:"miq-container center",children:(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)(b,{})})}),(0,d.jsx)(o.bu,{items:m,className:"mb-2"}),!v&&!j&&(0,d.jsx)(h,{showCover:!0})]}),children:[(0,d.jsx)(N,{title:c,viewCN:"miq-container-lg",items:i,renderItem:function(e){return(0,d.jsx)(T,{showName:!0,item:e},e.meta_slug)}}),(0,d.jsx)("div",{className:"mt-3",children:x&&(0,d.jsx)(o.tl,(0,t.Z)({},x))})]})},T=function(e){var r=e.item,a=e.showName,s=((0,n.Z)(e,_),r.url),i=r.cover,l=r.name,c=r.is_oos;return(0,d.jsx)("a",{href:"".concat(s),children:(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)(o.Ei.Picture,(0,t.Z)({},i)),(0,d.jsxs)("div",{className:"product-grid-info",children:[c&&(0,d.jsx)("span",{className:"bg-red-100 px-1 rounded",children:"En rupture de stock"}),a&&(0,d.jsx)("div",{className:"product-grid-name",children:l}),(0,d.jsx)(m,(0,t.Z)({},r))]})]})})};function U(){return(0,d.jsxs)(q.Z5,{children:[(0,d.jsx)(q.AW,{path:":catMetaSlug/:prodMetaSlug/",element:(0,d.jsx)(w,{})}),(0,d.jsx)(q.AW,{path:":catMetaSlug/",element:(0,d.jsx)(k,{})}),(0,d.jsx)(q.AW,{index:!0,element:(0,d.jsx)(k,{})})]})}}}]);
//# sourceMappingURL=879.13bb71ac.chunk.js.map