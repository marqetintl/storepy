"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[825],{7825:function(e,t,n){n.r(t),n.d(t,{SupplierOrder:function(){return l.e},default:function(){return m}});var r=n(8519),i=n(6009),s=(n(2411),n(2134)),c=n(2782),o=n(2145),u=n(1408),a=n(6520),l=n(3432),d=n(2379),h=n(8136),p=function(e){var t=e.instance,n=e.onSuccess,r=e.onError,i=e.label;return(0,h.jsxs)(d.pu,{renderHeader:function(){return(0,h.jsxs)("div",{children:["Supprimer '",t.name,"'"]})},renderFooter:function(e){var i=e.setOpen;return(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,h.jsx)(d.zx,{onClick:function(){return i(!1)},children:"Annuler"}),(0,h.jsx)(d.zx,{onClick:function(){return function(e){t.destroy().then((function(t){null===e||void 0===e||e(!1),null===n||void 0===n||n(t)})).catch((function(e){return null===r||void 0===r?void 0:r(e)}))}(i)},className:"btn-danger",children:"Supprimer"})]})},render:function(){return(0,h.jsx)("div",{className:"p-3",children:"Are you sure you want to delete this"})},className:(0,o.UT)(["s-order-delete-button btn-danger-3",e.className]),children:[(0,h.jsx)(d.PJ.rF,{}),i&&(0,h.jsx)("span",{className:"label",children:i})]})};function m(){var e=(0,a.s0)(),t=(0,u.lr)(),n=(0,i.Z)(t,1)[0].get("page"),m=(0,s.QT)((function(){return(0,l.e)().list({params:{page:n}})}),{refreshDeps:[n]}),x=m.res,v=m.removeItem,j=new o.HM(x);return j.isSuccess?(0,h.jsx)(c.ZP.View,{title:"Orders",back:"/staff/store/",actions:(0,h.jsx)(c.ZP.Button,{onClick:function(){(0,l.e)().create({}).then((function(t){var n=t.data;return e("".concat(n.slug,"/"))})).catch((function(e){}))},className:"btn-primary-3",requiredPerms:["store.add_supplierorder"],title:"Add a new order",children:"Add order"}),requiredPerms:["store.view_supplierorder"],children:(0,h.jsx)(c.ZP.Section,{footer:(0,h.jsx)(d.tl,(0,r.Z)((0,r.Z)({},j.data),{},{component:c.ZP.Link,to:!0})),children:(0,h.jsx)(d.iA,{border:!0,items:j.items,header:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.iA.Th,{}),(0,h.jsx)(d.iA.Th,{children:"Items"}),(0,h.jsx)(d.iA.Th,{children:"Total Cost"}),(0,h.jsx)(d.iA.Th,{children:"Est. Revenue"}),(0,h.jsx)(d.iA.Th,{})]}),renderItem:function(e){var t=e.name,n=void 0===t?"New order":t,i=e.slug,s=e.is_paid,u=e.items,a=e.items_revenue;return(0,h.jsxs)(d.iA.Tr,{children:[(0,h.jsxs)(d.iA.Td,{children:[(0,h.jsx)(c.ZP.Link,{to:"".concat(i,"/"),className:"",children:(0,h.jsx)("div",{className:(0,o.UT)(["fw-bold text-ellipsis",s&&"text-line-through"]),children:n})}),(0,h.jsx)("span",{className:"text-sm",children:e.avg_cost})]}),(0,h.jsx)(d.iA.Td,{children:null===u||void 0===u?void 0:u.length}),(0,h.jsx)(d.iA.Td,{children:(0,h.jsx)(f,(0,r.Z)({},e.total_cost_data))}),(0,h.jsx)(d.iA.Td,{children:(0,h.jsx)(f,(0,r.Z)({},a))}),(0,h.jsx)(d.iA.Td,{children:(0,h.jsx)(p,{instance:(0,l.e)(e),onSuccess:function(){return null===v||void 0===v?void 0:v({slug:i})}})})]},i)},className:"w-100"})})}):null}var f=function(e){var t=e.amountWithSymbol;return(0,h.jsx)("div",{className:"miq-price",children:t})}},3432:function(e,t,n){n.d(t,{e:function(){return d}});var r=n(8519),i=n(1135),s=n(7411),c=n(2518),o=n(2485),u=n(2782),a=1e4,l=function(e){(0,c.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"postFnova",value:function(e){return this.post("".concat(this._path,"fnova/"),{url:e},{timeout:a})}},{key:"postPlt",value:function(e){return this.post("".concat(this._path,"plt/"),{url:e},{timeout:a})}},{key:"postShein",value:function(e){return this.post("".concat(this._path,"shein/"),{url:e},{timeout:a})}},{key:"destroyItem",value:function(e){return this.delete("".concat(this._path,"item/").concat(e,"/"),{timeout:a})}},{key:"updateItem",value:function(e,t){return this.post("".concat(this._path,"item/").concat(e,"/"),(0,r.Z)({},t),{timeout:a})}}]),n}(u.x5),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.eR)(e,"supplierorders",l)}}}]);
//# sourceMappingURL=825.f7c965c5.chunk.js.map