(this["webpackJsonp@store/clientjs"]=this["webpackJsonp@store/clientjs"]||[]).push([[12],{353:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(22),a=c(33),s=c(24),r=c(23),i=new(function(e){Object(s.a)(c,e);var t=Object(r.a)(c);function c(){return Object(n.a)(this,c),t.apply(this,arguments)}return Object(a.a)(c,[{key:"patchPage",value:function(e,t,c){return this.patchPath("".concat(this.path).concat(e,"/page/"),t,c)}}]),c}(c(3).f))("categories/")},354:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(1),a=c(7),s=c(0),r=function(e){return Object(s.jsx)(a.b.TextInput,Object(n.a)(Object(n.a)({placeholder:"Entrez le nom de la cat\xe9gorie ...",maxLength:99},e),{},{required:!0,name:"name"}))}},362:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return x}));var n=c(1),a=c(8),s=c(2),r=c(20),i=c(9),o=c(7),u=c(13),l=c(10),d=c(5),b=c(353),j=c(3),h=c(354),O=c(0),m=Object(s.lazy)((function(){return c.e(23).then(c.bind(null,367))})),v=function(e){var t=Object(o.c)({name:""});return Object(O.jsxs)(o.b,{context:t,onSubmit:function(c){if(e.canAdd)return c.preventDefault(),b.a.post(t.values).then((function(){var t,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{slug:slug};return e.history.push("".concat(Object(j.g)(null===(t=e.match)||void 0===t?void 0:t.url)).concat(c.slug,"/"))})).catch((function(e){t.handleError(e)}))},children:[Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(o.b.Label,{value:"Nom de la cat\xe9gorie"}),Object(O.jsx)(h.a,{error:t.errors.name})]}),Object(O.jsx)("div",{className:"my-3",children:Object(O.jsx)(o.b.Submit,{value:"Save category",disabled:!(null===e||void 0===e?void 0:e.canAdd),className:"btn btn-primary"})})]})},p=function(e){var t=Object(s.useState)({}),c=Object(a.a)(t,2),i=c[0],o=c[1],h=Object(s.useState)(!1),m=Object(a.a)(h,2),p=m[0],x=m[1],f=Object(s.useContext)(u.a).perms;Object(s.useEffect)((function(){b.a.list().then((function(e){o(e)}))}),[]);var g=Object(l.l)(f.perms,["shop.add_category"]);return Object(O.jsxs)(l.g,{title:"Categories (".concat(i.count,")"),back:e.back,actions:Object(O.jsx)(d.c,{onClick:function(){return x(!p)},disabled:!g,className:"btn-primary-3",title:g?"Add a new category":"You cannot perform this action",children:"Add category"}),children:[p&&Object(O.jsx)(l.g.Section,{title:"Add a category",children:Object(O.jsx)(v,{history:e.history,match:e.match,canAdd:g})}),(null===i||void 0===i?void 0:i.results)&&Object(O.jsx)(l.g.Section,{className:"category-table mb-3",children:Object(O.jsx)(d.p,{className:"w-100",items:i.results,renderItem:function(t){var c;return Object(O.jsxs)(d.w.Tr,{className:"border-bottom",children:[Object(O.jsx)(d.w.Td,{className:"",children:Object(O.jsx)(d.l,Object(n.a)(Object(n.a)({},t.cover_data),{},{className:"rounded"}))}),Object(O.jsxs)(d.w.Td,{className:"w-100",children:[Object(O.jsx)(r.b,{to:"".concat(Object(j.g)(e.match.url)).concat(t.slug,"/"),children:Object(O.jsx)("div",{className:"fw-bold",title:t.title,children:t.name})}),Object(O.jsxs)("div",{className:"text-muted text-sm",children:[Object(O.jsxs)("span",{className:"me-1",children:["Products: ",null===t||void 0===t?void 0:t.products_count]}),Object(O.jsxs)("span",{className:"me-1",children:["Published: ",null===t||void 0===t?void 0:t.published_count]}),Object(O.jsxs)("span",{children:["Unpublished: ",null===t||void 0===t?void 0:t.draft_count]})]})]}),Object(O.jsx)(d.w.Td,{className:"d-none d-md-table-cell text-sm text-center",children:Object(O.jsx)(l.i,{is_published:null===t||void 0===t||null===(c=t.page)||void 0===c?void 0:c.is_published,pill:!0})})]},t.slug)},pagination:{count:i.count,next:i.next,previous:i.previous,onPreviousClick:function(){b.a.get(i.previous).then((function(e){o(e)})).catch((function(e){var t;null===(t=toast)||void 0===t||t.error({message:SHOP_MSGS.default})}))},onNextClick:function(){b.a.get(products.next).then((function(e){o(e)})).catch((function(e){var t;null===(t=toast)||void 0===t||t.error({message:SHOP_MSGS.default})}))}}})})]})};function x(e){var t=e.match,c=t.path,a=t.url;return Object(O.jsxs)(i.c,{children:[Object(O.jsx)(l.e,{path:"".concat(c,":catSlug/"),render:function(e){return Object(O.jsx)(m,Object(n.a)(Object(n.a)({},e),{},{back:Object(j.g)(a)}))},requiredPerms:["shop.change_category"]}),Object(O.jsx)(l.e,{requiredPerms:["shop.view_category"],render:function(t){return Object(O.jsx)(p,Object(n.a)(Object(n.a)({},t),{},{back:e.back}))}})]})}}}]);
//# sourceMappingURL=12.bb142c41.chunk.js.map