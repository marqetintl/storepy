(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[8],{347:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(17),a=c(30),s=c(23),r=c(22),i=new(function(e){Object(s.a)(c,e);var t=Object(r.a)(c);function c(){return Object(n.a)(this,c),t.apply(this,arguments)}return Object(a.a)(c,[{key:"patchPage",value:function(e,t,c){return this.patchPath("".concat(this.path).concat(e,"/page/"),t,c)}}]),c}(c(3).e))("categories/")},348:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(1),a=c(7),s=c(0),r=function(e){return Object(s.jsx)(a.b.TextInput,Object(n.a)(Object(n.a)({placeholder:"Entrez le nom de la cat\xe9gorie ...",maxLength:99},e),{},{required:!0,name:"name"}))}},355:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return p}));var n=c(1),a=c(8),s=c(2),r=c(24),i=c(9),o=c(7),l=c(13),u=c(10),d=c(5),b=c(347),j=c(3),h=c(348),O=c(0),m=Object(s.lazy)((function(){return c.e(21).then(c.bind(null,357))})),v=function(e){var t=Object(o.c)({name:""});return Object(O.jsxs)(o.b,{context:t,onSubmit:function(c){e.canAdd&&(c.preventDefault(),b.a.post(t.values).then((function(t){var c;null===e||void 0===e||null===(c=e.history)||void 0===c||c.push("".concat(Object(j.f)(e.match.url)).concat(t.slug,"/"))})).catch((function(e){t.handleError(e)})))},children:[Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(o.b.Label,{value:"Nom de la cat\xe9gorie"}),Object(O.jsx)(h.a,{error:t.errors.name})]}),Object(O.jsx)("div",{className:"my-3",children:Object(O.jsx)(o.b.Submit,{value:"Save category",disabled:!(null===e||void 0===e?void 0:e.canAdd),className:"btn btn-primary"})})]})},x=function(e){var t=Object(s.useState)({}),c=Object(a.a)(t,2),i=c[0],o=c[1],h=Object(s.useState)(!1),m=Object(a.a)(h,2),x=m[0],p=m[1],f=Object(s.useContext)(l.a).perms;Object(s.useEffect)((function(){b.a.list().then((function(e){o(e)}))}),[]);var g=Object(u.l)(f.perms,["shop.add_category"]);return Object(O.jsxs)(u.g,{title:"Categories (".concat(i.count,")"),back:e.back,actions:Object(O.jsx)(d.b,{onClick:function(){return p(!x)},disabled:!g,className:"btn-primary-3",title:g?"Add a new category":"You cannot perform this action",children:"Add category"}),children:[x&&Object(O.jsx)(u.g.Section,{title:"Add a category",children:Object(O.jsx)(v,{history:e.history,match:e.match,canAdd:g})}),(null===i||void 0===i?void 0:i.results)&&Object(O.jsx)(u.g.Section,{className:"category-table mb-3",children:Object(O.jsx)(d.n,{className:"w-100",items:i.results,renderItem:function(t){var c,a,s,i,o;return Object(O.jsxs)(d.t.Tr,{className:"border-bottom",children:[Object(O.jsx)(d.t.Td,{className:"",children:Object(O.jsx)(d.j,Object(n.a)(Object(n.a)({},t.cover_data),{},{className:"rounded"}))}),Object(O.jsxs)(d.t.Td,{className:"w-100",children:[Object(O.jsx)(r.b,{to:"".concat(Object(j.f)(e.match.url)).concat(t.slug,"/"),children:Object(O.jsx)("div",{className:"fw-bold",title:t.title,children:t.name})}),Object(O.jsxs)("div",{className:"text-muted text-sm",children:[Object(O.jsxs)("span",{className:"me-1",children:["Products: ",null!==(c=null===t||void 0===t||null===(a=t.products_count)||void 0===a?void 0:a.total)&&void 0!==c?c:0]}),Object(O.jsxs)("span",{children:["Published: ",null!==(s=null===t||void 0===t||null===(i=t.products_count)||void 0===i?void 0:i.published)&&void 0!==s?s:0]})]})]}),Object(O.jsx)(d.t.Td,{className:"d-none d-md-table-cell text-sm text-center",children:Object(O.jsx)(u.i,{is_published:null===t||void 0===t||null===(o=t.page)||void 0===o?void 0:o.is_published,pill:!0})})]},t.slug)},pagination:{count:i.count,next:i.next,previous:i.previous}})})]})};function p(e){var t=e.match,c=t.path,a=t.url;return Object(O.jsxs)(i.c,{children:[Object(O.jsx)(u.e,{path:"".concat(c,":catSlug/"),render:function(e){return Object(O.jsx)(m,Object(n.a)(Object(n.a)({},e),{},{back:Object(j.f)(a)}))},requiredPerms:["shop.change_category"]}),Object(O.jsx)(u.e,{requiredPerms:["shop.view_category"],render:function(t){return Object(O.jsx)(x,Object(n.a)(Object(n.a)({},t),{},{back:e.back}))}})]})}}}]);
//# sourceMappingURL=8.2f72b8cb.chunk.js.map