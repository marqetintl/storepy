"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[515],{7515:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(8312),r=n(8519),i=n(6009),s=n(2411),c=n(1408),l=n(2782),o=n(2134),u=n(5603),d=n(9002),m=n(2145),p=n(7089),h=n(2379),x=n(8177),b=n(8136),_=["settingSlug","instance","fields"],f=["onUpdate"],Z=s.lazy((function(){return n.e(747).then(n.bind(n,6747))})),j=["contact_number","contact_number_title","contact_number_display","contact_email"],w=["whatsapp_number","whatsapp_link","whatsapp_link_title"],P=["ga_tracking","fb_pixel"],v=["fb_app_id","fb_app_secret"],g=[].concat(j,w,P,v),y=function(e){var t=e.children,n=e.back;return(0,b.jsx)(l.ZP.View,{title:"Site General Settings",back:n,actions:(0,b.jsx)(l.ZP.NavLink,{to:"./?tab=privacy",children:(0,b.jsx)(h.PJ.XV,{})}),children:t})};function k(){var e=(0,c.lr)(),t=(0,i.Z)(e,1)[0],n=s.useContext(d.h2).site,a=n.settings,h=(0,u.cI)(T({})),x=(0,o.QT)((function(){return(0,p.pE)({slug:a}).retrieve()}),{refreshDeps:[a],onSuccess:function(e){var t=e.data;return h.setValues(T(t))}}),_=x.res,f=x.updateData,g=new m.HM(_);if(!g.isSuccess)return null;var k=(0,p.pE)(g.data),N={settingSlug:a,instance:k,context:h,res:_,onUpdate:f,site:n};return"privacy"===t.get("tab")?(0,b.jsx)(y,{back:"./",children:(0,b.jsx)(Z,(0,r.Z)({},N))}):(0,b.jsxs)(y,{back:"../",children:[(0,b.jsx)("div",{className:"d-grid grid-md-5 gap-2",children:(0,b.jsx)(l.ZP.Section,{title:"Site Details",className:"span-md-3",children:(0,b.jsx)(F,(0,r.Z)({},N))})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.ZP.Section,{title:"Contact",text:"What's the best way to contact you?",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:j}))}),(0,b.jsx)(l.ZP.Section,{title:"Whatsapp",text:"A whatsapp icon will be added to your site.",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:w}))}),(0,b.jsx)(l.ZP.Section,{title:"Analytics",text:"Set up third-party analytics.",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:P}))}),(0,b.jsx)(l.ZP.Section,{title:"Facebook App",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:v}))}),(0,b.jsx)(l.ZP.Section,{title:"Social",text:"Display Your social media accounts. Comin Soon ..."})]})]})}var S=function(e){e.settingSlug;var t=e.instance,n=e.fields,i=(0,a.Z)(e,_),s=i.context,c=i.onUpdate,l=(0,a.Z)(i,f);return(0,b.jsxs)(u.ZP,(0,r.Z)((0,r.Z)({},l),{},{onSubmit:function(e){e.preventDefault();var a={};return n.forEach((function(e){a[e]=s.values[e]})),t.update(a).then((function(e){var t=e.data;null===c||void 0===c||c(t)})).catch((function(e){s.handleError(e)}))},children:[n.map((function(e,t){return N(e,s,t)})),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(u.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]}))},N=function(e,t,n){switch(e){case"contact_number":return(0,b.jsx)(u.ZP.Field,{label:"Phone number",text:"Write your (business) contact number without country extension.",error:t.errors.contact_number,children:(0,b.jsx)(x.EQ,{name:"contact_number",className:"w-100 w-md-50"})},n);case"contact_number_title":return(0,b.jsx)(u.ZP.Field,{label:"Phone number link text",text:"Describe your phone number link (SEO).",error:t.errors.contact_number_title,children:(0,b.jsx)(u.ZP.Text,{name:"contact_number_title",className:"w-100 w-md-50",maxLength:99})},n);case"contact_number_display":return(0,b.jsx)(u.ZP.Field,{label:"Phone number display",text:"Write a call to action for your contact number.",error:t.errors.contact_number_display,children:(0,b.jsx)(u.ZP.Text,{name:"contact_number_display",placeholder:"Call us now",maxLength:99,className:"w-100 w-md-50"})},n);case"contact_email":return(0,b.jsx)(u.ZP.Field,{label:"Email",text:"Write your (business) contact email.",error:t.errors.contact_email,children:(0,b.jsx)(u.ZP.Text,{name:"contact_email",type:"email",className:"w-100 w-md-50",maxLength:99})},n);case"whatsapp_number":return(0,b.jsx)(u.ZP.Field,{label:"Whatsapp number",text:"Write your international whatsapp number.(229 ...)",error:t.errors.whatsapp_number,children:(0,b.jsx)(u.ZP.Phone,{name:"whatsapp_number",className:"w-100 w-md-50"})},n);case"whatsapp_link":return(0,b.jsx)(u.ZP.Field,{label:"Whatsapp link",text:"Write your whatsapp link.",children:(0,b.jsx)(u.ZP.Text,{name:"whatsapp_link",type:"url",maxLength:200,className:"w-100 w-md-50"})},n);case"whatsapp_link_title":return(0,b.jsx)(u.ZP.Field,{label:"Whatsapp link text",text:"Describe your whatsapp link.",error:t.errors.whatsapp_link_title,children:(0,b.jsx)(u.ZP.Text,{name:"whatsapp_link_title",className:"w-100 w-md-50",maxLength:99})},n);case"ga_tracking":return(0,b.jsx)(u.ZP.Field,{label:"Google Analytics Tracking Number",children:(0,b.jsx)(u.ZP.Text,{name:"ga_tracking",className:"w-100 w-md-50",placeholder:"G-"})},n);case"fb_pixel":return(0,b.jsx)(u.ZP.Field,{label:"Facebook Pixel",error:t.errors.fb_pixel,children:(0,b.jsx)(u.ZP.Text,{name:"fb_pixel",className:"w-100 w-md-50"})},n);case"fb_app_id":return(0,b.jsx)(u.ZP.Field,{label:"Facebook App ID",error:t.errors.fb_app_id,children:(0,b.jsx)(u.ZP.Text,{name:"fb_app_id",className:"w-100 w-md-50"})},n);case"fb_app_secret":return(0,b.jsx)(u.ZP.Field,{label:"Facebook App Secret",error:t.errors.fb_app_secret,children:(0,b.jsx)(u.ZP.Text,{name:"fb_app_secret",className:"w-100 w-md-50"})},n);default:return null}},F=function(e){var t=s.useContext(d.h2),n=t.site,a=(0,u.cI)({name:n.name,domain:n.domain}),r=e.instance,i=!Boolean(n.settings);return(0,b.jsxs)(u.ZP,{context:a,onSubmit:function(e){return e.preventDefault(),r.updateSite({name:a.values.name,domain:a.values.domain}).then((function(e){t.updateSite(e.data.site)})).catch((function(e){return a.handleError(e)}))},children:[(0,b.jsx)(u.ZP.Field,{label:"Site name",text:"Give a name to your site. Keep it short and clean.(65 Characters max.)",error:a.errors.name,children:(0,b.jsx)(u.ZP.Text,{required:!0,name:"name",placeholder:"example",maxLength:65,minLength:2,disabled:i,className:"w-100 w-md-50"})}),(0,b.jsx)(u.ZP.Field,{label:"Site domain",text:"Enter your domain name url. Include the http(s) part.",error:a.errors.domain,children:(0,b.jsx)(u.ZP.Text,{required:!0,type:"url",name:"domain",maxLength:99,placeholder:"http(s)://example.com",minLength:3,disabled:i})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(u.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return g.forEach((function(n){t[n]=e[n]||""})),t}},7089:function(e,t,n){n.d(t,{gm:function(){return u},pE:function(){return o}});var a=n(1135),r=n(7411),i=n(2518),s=n(2485),c=n(4636),l=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"updatePages",value:function(e){return this.patch("".concat(this._path,"pages/"),e)}},{key:"updateSite",value:function(e){return this.patch("".concat(this._path,"site/"),e)}}]),n}(c.x5);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"settings/",l)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"index/")}}}]);
//# sourceMappingURL=515.5c877086.chunk.js.map