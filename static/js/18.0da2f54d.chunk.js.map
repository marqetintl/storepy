{"version":3,"sources":["../../../../packages/miq-adminjs/src/settings/IndexSettingsUpdateView.jsx"],"names":["IndexSettingsUpdateView","props","useState","page","setPage","form","useForm","title","setValues","useEffect","indexStaffServices","detail","then","data","catch","err","slug","context","onSubmit","e","preventDefault","patch","values","Section","className","Label","value","TextInput","required","name","error","errors","Submit"],"mappings":"uNAQe,SAASA,EAAwBC,GAC9C,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAEMC,EAAOC,YAAQ,CACnBC,MAAOJ,EAAKI,OAAS,KAGjBC,EAAYH,EAAKG,UAYvB,GAVAC,qBAAU,WACRC,IACGC,OAAO,WACPC,MAAK,SAACC,GACLT,EAAQS,GACRL,EAAU,CAAED,MAAOM,EAAKN,OAAS,QAElCO,OAAM,SAACC,SACT,CAACP,KAECL,IAASA,EAAKa,KAAM,OAAO,KAahC,OACE,eAAC,IAAD,CAAWT,MAAM,yBAAjB,UACE,cAAC,IAAD,CAAMU,QAASZ,EAAMa,SAbJ,SAACC,GAGpB,OAFAA,EAAEC,iBAEKV,IACJW,MAAM,UAAWhB,EAAKiB,QACtBV,MAAK,SAACC,OAGNC,OAAM,SAACC,QAKR,SACE,eAAC,IAAUQ,QAAX,CAAmBhB,MAAM,qBAAzB,UACE,sBAAKiB,UAAU,OAAf,UACE,cAAC,IAAKC,MAAN,CAAYC,MAAM,eAClB,cAAC,IAAKC,UAAN,CAAgBC,UAAQ,EAACC,KAAK,QAAQC,MAAOzB,EAAK0B,OAAOxB,WAG3D,qBAAKiB,UAAU,GAAf,SACE,cAAC,IAAKQ,OAAN,CAAaN,MAAM,OAAOF,UAAU,6BAI1C,cAAC,IAAD","file":"static/js/18.0da2f54d.chunk.js","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\n\nimport Form, { useForm } from '@miq/form/';\nimport { SectionsEditor, indexStaffServices } from '@miq/editor/';\n\nimport { AdminView } from '../views';\n\nexport default function IndexSettingsUpdateView(props) {\n  const [page, setPage] = useState({});\n\n  const form = useForm({\n    title: page.title || '',\n  });\n\n  const setValues = form.setValues;\n\n  useEffect(() => {\n    indexStaffServices\n      .detail('current')\n      .then((data) => {\n        setPage(data);\n        setValues({ title: data.title || '' });\n      })\n      .catch((err) => {});\n  }, [setValues]);\n\n  if (!page || !page.slug) return null;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    return indexStaffServices\n      .patch('current', form.values)\n      .then((data) => {\n        // setPage(data);\n      })\n      .catch((err) => {});\n  };\n\n  return (\n    <AdminView title=\"Site HomePage Settings\">\n      <Form context={form} onSubmit={handleSubmit}>\n        <AdminView.Section title=\"Index Page Details\">\n          <div className=\"mb-1\">\n            <Form.Label value=\"Page title\" />\n            <Form.TextInput required name=\"title\" error={form.errors.title} />\n          </div>\n\n          <div className=\"\">\n            <Form.Submit value=\"Save\" className=\"btn btn-primary-2\" />\n          </div>\n        </AdminView.Section>\n      </Form>\n      <SectionsEditor>{/* <PageEditor.Sections sourceSlug={page.slug} sourceType=\"index\" /> */}</SectionsEditor>\n    </AdminView>\n  );\n}\n"],"sourceRoot":""}