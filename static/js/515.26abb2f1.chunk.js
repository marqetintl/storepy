"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[515],{7515:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(8312),r=n(8519),i=n(6009),s=n(2411),c=n(1408),l=n(3576),o=n(2134),u=n(3308),d=n(9002),m=n(2145),p=n(7089),x=n(2379),h=n(8136),b=["settingSlug","instance","fields"],_=["onUpdate"],f=s.lazy((function(){return n.e(747).then(n.bind(n,6747))})),Z=["contact_number","contact_number_title","contact_number_display","contact_email"],j=["whatsapp_link","whatsapp_link_title"],w=["ga_tracking","fb_pixel"],P=["fb_app_id","fb_app_secret"],v=[].concat(Z,j,w,P),g=function(e){var t=e.children,n=e.back;return(0,h.jsx)(l.ZP.View,{title:"Site General Settings",back:n,actions:(0,h.jsx)(l.ZP.NavLink,{to:"./?tab=privacy",children:(0,h.jsx)(x.PJ.XV,{})}),children:t})};function y(){var e=(0,c.lr)(),t=(0,i.Z)(e,1)[0],n=s.useContext(d.h2).site,a=n.settings,x=(0,u.cI)(F({})),b=(0,o.QT)((function(){return(0,p.pE)({slug:a}).retrieve()}),{refreshDeps:[a],onSuccess:function(e){var t=e.data;return x.setValues(F(t))}}),_=b.res,v=b.updateData,y=new m.HM(_);if(!y.isSuccess)return null;var S=(0,p.pE)(y.data),T={settingSlug:a,instance:S,context:x,res:_,onUpdate:v,site:n};return"privacy"===t.get("tab")?(0,h.jsx)(g,{back:"./",children:(0,h.jsx)(f,(0,r.Z)({},T))}):(0,h.jsxs)(g,{back:"../",children:[(0,h.jsx)("div",{className:"d-grid grid-md-5 gap-2",children:(0,h.jsx)(l.ZP.Section,{title:"Site Details",className:"span-md-3",children:(0,h.jsx)(N,(0,r.Z)({},T))})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(l.ZP.Section,{title:"Contact",text:"What's the best way to contact you?",children:(0,h.jsx)(k,(0,r.Z)((0,r.Z)({},T),{},{fields:Z}))}),(0,h.jsx)(l.ZP.Section,{title:"Whatsapp",text:"A whatsapp icon will be added to your site.",children:(0,h.jsx)(k,(0,r.Z)((0,r.Z)({},T),{},{fields:j}))}),(0,h.jsx)(l.ZP.Section,{title:"Analytics",text:"Set up third-party analytics.",children:(0,h.jsx)(k,(0,r.Z)((0,r.Z)({},T),{},{fields:w}))}),(0,h.jsx)(l.ZP.Section,{title:"Facebook App",children:(0,h.jsx)(k,(0,r.Z)((0,r.Z)({},T),{},{fields:P}))}),(0,h.jsx)(l.ZP.Section,{title:"Social",text:"Display Your social media accounts. Comin Soon ..."})]})]})}var k=function(e){e.settingSlug;var t=e.instance,n=e.fields,i=(0,a.Z)(e,b),s=i.context,c=i.onUpdate,l=(0,a.Z)(i,_);return(0,h.jsxs)(u.ZP,(0,r.Z)((0,r.Z)({},l),{},{onSubmit:function(e){e.preventDefault();var a={};return n.forEach((function(e){a[e]=s.values[e]})),t.update(a).then((function(e){var t=e.data;null===c||void 0===c||c(t)})).catch((function(e){s.handleError(e)}))},children:[n.map((function(e,t){return S(e,s,t)})),(0,h.jsx)("div",{className:"mt-1",children:(0,h.jsx)(u.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]}))},S=function(e,t,n){switch(e){case"contact_number":return(0,h.jsx)(u.ZP.Field,{label:"Phone number",text:"Write your (business) contact number without country extension.",error:t.errors.contact_number},n);case"contact_number_title":return(0,h.jsx)(u.ZP.Field,{label:"Phone number link text",text:"Describe your phone number link (SEO).",error:t.errors.contact_number_title,children:(0,h.jsx)(u.ZP.Text,{name:"contact_number_title",className:"w-100 w-md-50",maxLength:99})},n);case"contact_number_display":return(0,h.jsx)(u.ZP.Field,{label:"Phone number display",text:"Write a call to action for your contact number.",error:t.errors.contact_number_display,children:(0,h.jsx)(u.ZP.Text,{name:"contact_number_display",placeholder:"Call us now",maxLength:99,className:"w-100 w-md-50"})},n);case"contact_email":return(0,h.jsx)(u.ZP.Field,{label:"Email",text:"Write your (business) contact email.",error:t.errors.contact_email,children:(0,h.jsx)(u.ZP.Text,{name:"contact_email",type:"email",className:"w-100 w-md-50",maxLength:99})},n);case"whatsapp_link":return(0,h.jsx)(u.ZP.Field,{label:"Whatsapp link",text:"Write your whatsapp link.",children:(0,h.jsx)(u.ZP.Text,{name:"whatsapp_link",type:"url",maxLength:200,className:"w-100 w-md-50"})},n);case"whatsapp_link_title":return(0,h.jsx)(u.ZP.Field,{label:"Whatsapp link text",text:"Describe your whatsapp link.",error:t.errors.whatsapp_link_title,children:(0,h.jsx)(u.ZP.Text,{name:"whatsapp_link_title",className:"w-100 w-md-50",maxLength:99})},n);case"ga_tracking":return(0,h.jsx)(u.ZP.Field,{label:"Google Analytics Tracking Number",children:(0,h.jsx)(u.ZP.Text,{name:"ga_tracking",className:"w-100 w-md-50",placeholder:"G-"})},n);case"fb_pixel":return(0,h.jsx)(u.ZP.Field,{label:"Facebook Pixel",error:t.errors.fb_pixel,children:(0,h.jsx)(u.ZP.Text,{name:"fb_pixel",className:"w-100 w-md-50"})},n);case"fb_app_id":return(0,h.jsx)(u.ZP.Field,{label:"Facebook App ID",error:t.errors.fb_app_id,children:(0,h.jsx)(u.ZP.Text,{name:"fb_app_id",className:"w-100 w-md-50"})},n);case"fb_app_secret":return(0,h.jsx)(u.ZP.Field,{label:"Facebook App Secret",error:t.errors.fb_app_secret,children:(0,h.jsx)(u.ZP.Text,{name:"fb_app_secret",className:"w-100 w-md-50"})},n);default:return null}},N=function(e){var t=s.useContext(d.h2),n=t.site,a=(0,u.cI)({name:n.name,domain:n.domain}),r=e.instance,i=!Boolean(n.settings);return(0,h.jsxs)(u.ZP,{context:a,onSubmit:function(e){return e.preventDefault(),r.updateSite({name:a.values.name,domain:a.values.domain}).then((function(e){t.updateSite(e.data.site)})).catch((function(e){return a.handleError(e)}))},children:[(0,h.jsx)(u.ZP.Field,{label:"Site name",text:"Give a name to your site. Keep it short and clean.(65 Characters max.)",error:a.errors.name,children:(0,h.jsx)(u.ZP.Text,{required:!0,name:"name",placeholder:"example",maxLength:65,minLength:2,disabled:i,className:"w-100 w-md-50"})}),(0,h.jsx)(u.ZP.Field,{label:"Site domain",text:"Enter your domain name url. Include the http(s) part.",error:a.errors.domain,children:(0,h.jsx)(u.ZP.Text,{required:!0,type:"url",name:"domain",maxLength:99,placeholder:"http(s)://example.com",minLength:3,disabled:i})}),(0,h.jsx)("div",{className:"",children:(0,h.jsx)(u.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return v.forEach((function(n){t[n]=e[n]||""})),t}},7089:function(e,t,n){n.d(t,{gm:function(){return u},pE:function(){return o}});var a=n(1135),r=n(7411),i=n(2518),s=n(2485),c=n(4636),l=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"updatePages",value:function(e){return this.patch("".concat(this._path,"pages/"),e)}},{key:"updateSite",value:function(e){return this.patch("".concat(this._path,"site/"),e)}}]),n}(c.x5);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"settings/",l)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"index/")}}}]);
//# sourceMappingURL=515.26abb2f1.chunk.js.map