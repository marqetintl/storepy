(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[22],{357:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return j}));var c=i(1),s=i(8),l=i(2),a=i(24),n=i(10),r=i(7),u=i(5),o=i(347),b=i(348),d=i(0);function j(e){var t,i=e.match.params.catSlug,j=Object(l.useState)(null),p=Object(s.a)(j,2),v=p[0],m=p[1],h=Object(l.useContext)(u.v),g=Object(r.c)({name:"",description:"",title:"",slug_public:"",is_published:!1}),x=g.setValues;if(Object(l.useEffect)((function(){o.a.detail(i).then((function(e){var t,i;m(e),x({name:e.name||"",description:e.description||"",title:e.page.title||"",slug_public:(null===e||void 0===e||null===(t=e.page)||void 0===t?void 0:t.slug_public)||"",is_published:(null===e||void 0===e||null===(i=e.page)||void 0===i?void 0:i.is_published)||!1})})).catch((function(e){!e.response||e.response.status}))}),[i,x]),!v)return null;return Object(d.jsxs)(n.g,{back:null===e||void 0===e?void 0:e.back,title:"Modifier une cat\xe9gorie",actions:Object(d.jsxs)("div",{children:[(null===v||void 0===v?void 0:v.prev_slug)&&Object(d.jsx)(a.b,{to:"".concat(null===e||void 0===e?void 0:e.back).concat(null===v||void 0===v?void 0:v.prev_slug),className:"btn me-1",title:"Voir la cat\xe9gorie precedente",children:"Previous"}),(null===v||void 0===v?void 0:v.next_slug)&&Object(d.jsx)(a.b,{to:"".concat(null===e||void 0===e?void 0:e.back).concat(null===v||void 0===v?void 0:v.next_slug),className:"btn",title:"Voir la cat\xe9gorie suivante",children:"Next"})]}),className:"cat-update-view",children:[Object(d.jsxs)("div",{className:"d-grid grid-md-4 gap-2",children:[Object(d.jsx)("div",{className:"span-md-1",children:Object(d.jsx)(n.k,{slug:null===v||void 0===v?void 0:v.cover,data:v.cover_data,onCreate:function(e){o.a.patch(v.slug,{cover:e.slug}).then((function(e){m(e)})).catch((function(e){console.log(e)}))},onUpdate:function(e){return m(Object(c.a)(Object(c.a)({},v),{},{cover_data:e}))},onDelete:function(){return m(Object(c.a)(Object(c.a)({},v),{},{cover_data:null,cover:null}))}})}),Object(d.jsx)(n.g.Section,{title:"Details",actions:Object(d.jsx)(n.i,{is_published:null===v||void 0===v||null===(t=v.page)||void 0===t?void 0:t.is_published,pill:!0}),className:"span-md-3",children:Object(d.jsxs)(r.b,{context:g,onSubmit:function(e){e.preventDefault(),o.a.patch(v.slug,{name:g.values.name,description:g.values.description}).then((function(e){})).catch((function(e){g.handleError(e)}))},children:[Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(r.b.Label,{value:"Nom de la cat\xe9gorie",className:"mb-1"}),Object(d.jsx)(b.a,{error:g.errors.name})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(r.b.Label,{value:"Description de la cat\xe9gorie",className:"mb-1"}),Object(d.jsx)(r.b.TextAreaX,{name:"description",error:g.errors.description,placeholder:"Decrivez la cat\xe9gorie ..."})]}),Object(d.jsx)("div",{className:"my-2",children:Object(d.jsx)(r.b.Submit,{value:"Sauvegarder",className:"btn btn-primary"})})]})})]}),Object(d.jsxs)(r.b,{context:g,onSubmit:function(e){e.preventDefault();var t=g.values,c=t.title,s=t.slug_public,l=t.is_published;return o.a.patchPage(i,{title:c,slug_public:s,is_published:l},{title:v.page.title,slug_public:v.page.slug_public,is_published:v.page.is_published}).then((function(e){h.success({message:"Category updated."})})).catch((function(e){g.handleError(e),h.error({message:"Could not update item."})}))},children:[Object(d.jsx)(n.g.Section,{title:"Status",children:Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)(r.b.CheckboxInput,{name:"is_published",error:g.errors.is_published,className:"me-2"}),Object(d.jsx)(r.b.Label,{value:"Publier cette categorie"})]})}),Object(d.jsxs)(n.g.Section,{title:"Seo",children:[Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(r.b.Label,{value:"Title",className:"mb-1"}),Object(d.jsx)(r.b.TextInput,{required:!0,name:"title",error:g.errors.title,placeholder:"Give a name to the item",maxLength:99})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(r.b.Label,{value:"Slug",className:"mb-1"}),Object(d.jsx)(r.b.TextInput,{required:!0,name:"slug_public",error:g.errors.slug_public,placeholder:"Write slug ...",maxLength:99})]})]}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)(r.b.Submit,{value:"Save",className:"btn btn-primary-3"})})]})]})}}}]);
//# sourceMappingURL=22.85a08658.chunk.js.map