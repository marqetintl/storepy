{"version":3,"sources":["shop/constants.jsx","shop/index.jsx"],"names":["SHOP_PATHS","base","orderUpdate","slug","this","update","orderList","list","productUpdate","productList","categoryList","categoryUpdate","path","ProductStaffRoutes","lazy","CategoryStaffRoutes","SupplierOrderStaffRoutes","StaffShopRoutes","props","toastCtx","useToast","match","url","context","fallback","render","back","addForwardSlash","requiredPerms","title","className","Section","actions","to","label"],"mappings":"uHAAA,kCAAO,IAAMA,EAAa,CACxBC,KAAM,eAENC,YAAa,SAAUC,GACrB,OAAOC,KAAKC,OAAOD,KAAKE,YAAaH,IAEvCG,UAAW,WACT,OAAOF,KAAKG,KAAK,YAGnBC,cAAe,SAAUL,GACvB,OAAOC,KAAKC,OAAOD,KAAKK,cAAeN,IAEzCM,YAAa,WACX,OAAOL,KAAKG,KAAK,cAGnBG,aAAc,WACZ,OAAON,KAAKG,KAAK,gBAEnBI,eAAgB,SAAUR,GACxB,OAAOC,KAAKC,OAAOD,KAAKM,eAAgBP,IAG1CE,OAAQ,SAAUO,EAAMT,GACtB,MAAM,GAAN,OAAUS,GAAV,OAAiBT,EAAjB,MAEFI,KAAM,SAAUK,GACd,MAAM,GAAN,OAAUR,KAAKH,MAAf,OAAsBW,M,+ICnBpBC,EAAqBC,gBAAK,kBAAM,iCAChCC,EAAsBD,gBAAK,kBAAM,kCACjCE,EAA2BF,gBAAK,kBAAM,iCAE7B,SAASG,EAAgBC,GACtC,IAAMC,EAAWC,cACjB,EAAsBF,EAAMG,MAApBT,EAAR,EAAQA,KAAMU,EAAd,EAAcA,IAEd,OACE,cAAC,IAAD,CAAeC,QAASJ,EAAxB,SACE,cAAC,WAAD,CAAUK,SAAU,cAAC,IAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEZ,KAAI,UAAKZ,IAAWM,aACpBmB,OAAQ,SAACP,GAAD,OAAW,cAACF,EAAD,aAA0BU,KAAMC,YAAgBL,IAAUJ,KAC7EU,cAAe,CAAC,6BAElB,cAAC,IAAD,CACEhB,KAAI,UAAKZ,IAAWU,gBACpBe,OAAQ,SAACP,GAAD,OAAW,cAACH,EAAD,aAAqBW,KAAMC,YAAgBL,IAAUJ,KACxEU,cAAe,CAAC,wBAElB,cAAC,IAAD,CACEhB,KAAI,UAAKZ,IAAWS,eACpBgB,OAAQ,SAACP,GAAD,OAAW,cAACL,EAAD,aAAoBa,KAAMC,YAAgBL,IAAUJ,KACvEU,cAAe,CAAC,uBAElB,cAAC,IAAD,CAAYhB,KAAMA,EAAMgB,cAAe,CAAC,qBAAxC,SACE,eAAC,IAAD,CAAWC,MAAM,QAAQH,KAAM,UAAWI,UAAU,sBAApD,UACE,cAAC,IAAUC,QAAX,CACEF,MAAM,QACNG,QACE,cAAC,IAAD,CACEC,GAAIN,YAAgB,GAAD,OAAIf,EAAJ,UACnBsB,MAAM,aACNN,cAAe,CAAC,kBAChBE,UAAU,oBAKhB,cAAC,IAAUC,QAAX,CACEF,MAAM,kBACNG,QACE,cAAC,IAAD,CACEC,GAAIN,YAAgB,GAAD,OAAIf,EAAJ,WACnBsB,MAAM,cACNN,cAAe,CAAC,2BAChBE,UAAU,oBAKhB,cAAC,IAAUC,QAAX,CACEF,MAAM,WACNG,QACE,cAAC,IAAD,CACEC,GAAIN,YAAgB,GAAD,OAAIf,EAAJ,aACnBsB,MAAM,gBACNN,cAAe,CAAC,qBAChBE,UAAU,oBAKhB,cAAC,IAAUC,QAAX,CACEF,MAAM,aACNG,QACE,cAAC,IAAD,CACEC,GAAIN,YAAgB,GAAD,OAAIf,EAAJ,eACnBsB,MAAM,kBACNN,cAAe,CAAC,sBAChBE,UAAU","file":"static/js/14.c8cab00a.chunk.js","sourcesContent":["export const SHOP_PATHS = {\n  base: '/staff/shop/',\n\n  orderUpdate: function (slug) {\n    return this.update(this.orderList(), slug);\n  },\n  orderList: function () {\n    return this.list('orders/');\n  },\n\n  productUpdate: function (slug) {\n    return this.update(this.productList(), slug);\n  },\n  productList: function () {\n    return this.list('products/');\n  },\n\n  categoryList: function () {\n    return this.list('categories/');\n  },\n  categoryUpdate: function (slug) {\n    return this.update(this.categoryList(), slug);\n  },\n\n  update: function (path, slug) {\n    return `${path}${slug}/`;\n  },\n  list: function (path) {\n    return `${this.base}${path}`;\n  },\n};\n","import React from 'react';\nimport { lazy, Suspense } from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport { AdminRoute, AdminNavLink, AdminView } from '@miq/adminjs';\nimport { addForwardSlash } from '@miq/utils';\nimport { ToastProvider, useToast, Loading } from '@miq/components';\nimport { SHOP_PATHS } from './constants';\n\nconst ProductStaffRoutes = lazy(() => import('./product/'));\nconst CategoryStaffRoutes = lazy(() => import('./category/'));\nconst SupplierOrderStaffRoutes = lazy(() => import('./orders/'));\n\nexport default function StaffShopRoutes(props) {\n  const toastCtx = useToast();\n  const { path, url } = props.match;\n\n  return (\n    <ToastProvider context={toastCtx}>\n      <Suspense fallback={<Loading />}>\n        <Switch>\n          <AdminRoute\n            path={`${SHOP_PATHS.orderList()}`}\n            render={(props) => <SupplierOrderStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_supplierorder']}\n          />\n          <AdminRoute\n            path={`${SHOP_PATHS.categoryList()}`}\n            render={(props) => <CategoryStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_category']}\n          />\n          <AdminRoute\n            path={`${SHOP_PATHS.productList()}`}\n            render={(props) => <ProductStaffRoutes back={addForwardSlash(url)} {...props} />}\n            requiredPerms={['shop.view_product']}\n          />\n          <AdminRoute path={path} requiredPerms={['shop.view_product']}>\n            <AdminView title=\"Store\" back={'/staff/'} className=\"miq-container-fluid\">\n              <AdminView.Section\n                title=\"Carts\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}carts`)}\n                    label=\"View carts\"\n                    requiredPerms={['shop.view_cart']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Supplier Orders\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}orders`)}\n                    label=\"View orders\"\n                    requiredPerms={['shop.view_supplierorder']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Products\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}products`)}\n                    label=\"View products\"\n                    requiredPerms={['shop.view_product']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n\n              <AdminView.Section\n                title=\"Categories\"\n                actions={\n                  <AdminNavLink\n                    to={addForwardSlash(`${path}categories`)}\n                    label=\"View categories\"\n                    requiredPerms={['shop.view_category']}\n                    className=\"btn-primary-3\"\n                  />\n                }\n              ></AdminView.Section>\n            </AdminView>\n          </AdminRoute>\n        </Switch>\n      </Suspense>\n    </ToastProvider>\n  );\n}\n"],"sourceRoot":""}