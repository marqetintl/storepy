{"version":3,"file":"static/js/494.e4b363b9.chunk.js","mappings":"kPAOe,SAASA,IAAsB,IAAD,MAE3C,EADYC,EAAAA,WAAiBC,EAAAA,IACrBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,OAAQC,EAApC,EAAoCA,KAAMC,EAA1C,EAA0CA,eAC1C,GAAiBC,EAAAA,EAAAA,OAAjB,eAEmBC,IAAI,OAEvB,OAAKN,GAKH,UAAC,UAAD,CACEO,MAAM,OACNC,KAAK,UACLC,SACE,SAAC,aAAD,CAAeC,GAAG,YAAlB,UACE,SAAC,QAAD,MALN,WASE,SAAC,aAAD,WACE,iBAAKC,UAAU,8CAAf,WACiB,OAAdP,QAAc,IAAdA,GAAA,UAAAA,EAAgBQ,cAAhB,eAAwBC,iBACvB,SAACC,EAAD,CACEP,MAAM,kBACNQ,IAAI,KACJC,KAAM,CAAEN,GAAI,UAAWO,KAAM,kBAAmBC,MAAO,CAAC,6BAH1D,UAKE,yBAAW,OAANhB,QAAM,IAANA,OAAA,EAAAA,EAAQiB,QAAS,OAI1B,SAACL,EAAD,CACEP,MAAM,WACNQ,IAAI,kBACJC,KAAM,CAAEN,GAAI,WAAYO,KAAM,oBAAqBC,MAAO,CAAC,uBAH7D,UAKE,yBAAa,OAARjB,QAAQ,IAARA,OAAA,EAAAA,EAAUkB,QAAS,OAG1B,SAACL,EAAD,CACEC,IAAI,oBACJR,MAAM,aACNS,KAAM,CAAEN,GAAI,aAAcO,KAAM,sBAAuBC,MAAO,CAAC,wBAHjE,UAKE,yBAAS,OAAJf,QAAI,IAAJA,OAAA,EAAAA,EAAMgB,QAAS,YAI1B,gBAAKR,UAAU,GAAf,gBACGR,QADH,IACGA,GADH,UACGA,EAAMiB,iBADT,iBACG,EACGC,QAAO,SAACC,GAAD,OAAOA,EAAEC,yBAFtB,aACG,EAEGC,KAAI,WAA4BF,GAA5B,IAAGC,EAAH,EAAGA,eAAgBJ,EAAnB,EAAmBA,MAAnB,OACJ,2BACGI,EADH,KACqBJ,IADXG,WA/CE,KAwDxB,IAAMR,EAID,SAAC,GAA2C,IAAzCW,EAAwC,EAAxCA,SAAUlB,EAA8B,EAA9BA,MAAOS,EAAuB,EAAvBA,KAAuB,IAAjBD,IAAAA,OAAiB,MAAX,KAAW,EACtCL,EAAOM,EAAPN,GACR,OACE,iBAAKC,UAAU,iBAAf,WACE,UAAC,aAAD,CAAeD,GAAIK,EAAnB,UACGR,IAAS,gBAAKI,UAAU,kBAAf,SAAkCJ,IAC3CkB,MAGH,SAAC,UAAD,CAAYf,GAAIA,EAAIgB,cAAeV,EAAKE,MAAxC,UACO,OAAJF,QAAI,IAAJA,OAAA,EAAAA,EAAMC,OAAN,UAAiBD,EAAKC,KAAtB","sources":["../../../../shopy/shopy-storejs/src/IndexView.tsx"],"sourcesContent":["import * as React from 'react';\nimport Staff from '@miq/staffjs';\n\nimport { Icons } from '@miq/componentjs';\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function ShopStaffIndexView() {\n  const ctx = React.useContext(SharedDataCtx);\n  const { isLoaded, products, orders, cats, shopy_settings } = ctx as any;\n  const [params] = useSearchParams();\n\n  const tab = params.get('tab');\n\n  if (!isLoaded) return null;\n\n  // console.log(ctx);\n\n  return (\n    <Staff.View\n      title=\"Shop\"\n      back=\"/staff/\"\n      actions={\n        <Staff.NavLink to=\"settings/\">\n          <Icons.Gear />\n        </Staff.NavLink>\n      }\n    >\n      <Staff.Section>\n        <div className=\"d-grid grid-2 grid-sm-3 grid-md-4 grid-lg-6\">\n          {shopy_settings?.config?.has_suppliers && (\n            <CardLink\n              title=\"Supplier Orders\"\n              tab=\"./\"\n              link={{ to: 'orders/', text: 'View all orders', perms: ['store.view_supplierorder'] }}\n            >\n              <h3>{orders?.count || 0}</h3>\n            </CardLink>\n          )}\n\n          <CardLink\n            title=\"Products\"\n            tab=\"./?tab=products\"\n            link={{ to: 'products', text: 'View all products', perms: ['store.view_product'] }}\n          >\n            <h3>{products?.count || 0}</h3>\n          </CardLink>\n\n          <CardLink\n            tab=\"./?tab=categories\"\n            title=\"Categories\"\n            link={{ to: 'categories', text: 'View all categories', perms: ['store.view_category'] }}\n          >\n            <h3>{cats?.count || 0}</h3>\n          </CardLink>\n        </div>\n      </Staff.Section>\n      <div className=\"\">\n        {cats?.cat_count\n          ?.filter((i) => i.category__name)\n          ?.map(({ category__name, count }, i) => (\n            <div key={i}>\n              {category__name}: {count}\n            </div>\n          ))}\n      </div>\n    </Staff.View>\n  );\n}\n\nconst CardLink: React.FC<{\n  title: string;\n  tab?: string;\n  link: { to: string; text: string; perms: string[] };\n}> = ({ children, title, link, tab = './' }) => {\n  const { to } = link;\n  return (\n    <div className=\"card-link mb-3\">\n      <Staff.NavLink to={tab}>\n        {title && <div className=\"card-link-title\">{title}</div>}\n        {children}\n      </Staff.NavLink>\n\n      <Staff.Link to={to} requiredPerms={link.perms}>\n        {link?.text && `${link.text} Â»`}\n      </Staff.Link>\n    </div>\n  );\n};\n"],"names":["ShopStaffIndexView","React","SharedDataCtx","isLoaded","products","orders","cats","shopy_settings","useSearchParams","get","title","back","actions","to","className","config","has_suppliers","CardLink","tab","link","text","perms","count","cat_count","filter","i","category__name","map","children","requiredPerms"],"sourceRoot":""}