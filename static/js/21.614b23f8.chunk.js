(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[21],{349:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return d}));var c=s(1),i=s(9),l=s(2),a=s(11),n=s(8),r=s(5),u=s(339),b=s(340),o=s(0);function d(e){var t,s=e.match.params.catSlug,d=Object(l.useState)(null),j=Object(i.a)(d,2),m=j[0],p=j[1],h=Object(l.useContext)(r.v),v=Object(n.c)({name:"",description:"",title:"",slug_public:"",is_published:!1}),x=v.setValues;if(Object(l.useEffect)((function(){u.a.detail(s).then((function(e){var t;p(e),x({name:e.name||"",description:e.description||"",title:e.page.title||"",slug_public:(null===e||void 0===e||null===(t=e.page)||void 0===t?void 0:t.slug_public)||"",is_published:(null===e||void 0===e?void 0:e.is_published)||!1})})).catch((function(e){!e.response||(h.error({message:"Something went wrong"}),e.response.status)}))}),[s,x]),!m)return null;return Object(o.jsxs)(a.g,{back:null===e||void 0===e?void 0:e.back,title:"Modifier une cat\xe9gorie",className:"cat-update-view",children:[Object(o.jsxs)("div",{className:"view-header d-flex flex-column flex-md-row mb-2",children:[Object(o.jsx)("div",{className:"mb-2 w-md-25",children:Object(o.jsx)(a.l,{slug:null===m||void 0===m?void 0:m.cover,data:m.cover_data,onCreate:function(e){u.a.patch(m.slug,{cover:e.slug}).then((function(e){p(e)})).catch((function(e){console.log(e)}))},onUpdate:function(e){return p(Object(c.a)(Object(c.a)({},m),{},{cover_data:e}))},onDelete:function(){return p(Object(c.a)(Object(c.a)({},m),{},{cover_data:null,cover:null}))}})}),Object(o.jsx)("div",{className:"ms-1 ms-md-2 flex-1",children:Object(o.jsx)(a.g.Section,{title:"Details",actions:Object(o.jsx)(a.j,{is_published:null===m||void 0===m||null===(t=m.page)||void 0===t?void 0:t.is_published,pill:!0}),children:Object(o.jsxs)(n.b,{context:v,onSubmit:function(e){e.preventDefault(),u.a.patch(m.slug,{name:v.values.name,description:v.values.description}).then((function(e){})).catch((function(e){v.handleError(e)}))},children:[Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Nom de la cat\xe9gorie",className:"mb-1"}),Object(o.jsx)(b.a,{error:v.errors.name})]}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Description de la cat\xe9gorie",className:"mb-1"}),Object(o.jsx)(n.b.TextAreaX,{name:"description",error:v.errors.description,placeholder:"Decrivez la cat\xe9gorie ..."})]}),Object(o.jsx)("div",{className:"my-2",children:Object(o.jsx)(n.b.Submit,{value:"Sauvegarder",className:"btn btn-primary"})})]})})})]}),Object(o.jsxs)(n.b,{context:v,onSubmit:function(e){e.preventDefault();var t=v.values,c=t.title,i=t.slug_public,l=t.is_published;return u.a.patchPage(s,{title:c,slug_public:i,is_published:l},{title:m.page.title,slug_public:m.page.slug_public,is_published:m.page.is_published}).then((function(e){h.success({message:"Category updated."})})).catch((function(e){v.handleError(e),h.error({message:"Could not update item."})}))},children:[Object(o.jsxs)(a.g.Section,{title:"Seo",children:[Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Title",className:"mb-1"}),Object(o.jsx)(n.b.TextInput,{required:!0,name:"title",error:v.errors.title,placeholder:"Give a name to the item",maxLength:99})]}),Object(o.jsxs)("div",{className:"mb-1",children:[Object(o.jsx)(n.b.Label,{value:"Slug",className:"mb-1"}),Object(o.jsx)(n.b.TextInput,{required:!0,name:"slug_public",error:v.errors.slug_public,placeholder:"Write slug ...",maxLength:99})]})]}),Object(o.jsx)(a.g.Section,{title:"Status",children:Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[Object(o.jsx)(n.b.CheckboxInput,{name:"is_published",error:v.errors.is_published,className:"me-2"}),Object(o.jsx)(n.b.Label,{value:"Publier cette categorie"})]})}),Object(o.jsx)("div",{className:"",children:Object(o.jsx)(n.b.Submit,{value:"Save",className:"btn btn-primary-3"})})]})]})}}}]);
//# sourceMappingURL=21.614b23f8.chunk.js.map