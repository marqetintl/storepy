(this["webpackJsonp@store/clientjs"]=this["webpackJsonp@store/clientjs"]||[]).push([[11],{351:function(t,e,c){"use strict";c.d(e,"a",(function(){return i}));var n=c(17),a=c(28),s=c(23),r=c(21),i=new(function(t){Object(s.a)(c,t);var e=Object(r.a)(c);function c(){return Object(n.a)(this,c),e.apply(this,arguments)}return Object(a.a)(c,[{key:"patchPage",value:function(t,e,c){return this.patchPath("".concat(this.path).concat(t,"/page/"),e,c)}}]),c}(c(3).f))("categories/")},352:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var n=c(1),a=c(6),s=c(0),r=function(t){return Object(s.jsx)(a.b.TextInput,Object(n.a)(Object(n.a)({placeholder:"Entrez le nom de la cat\xe9gorie ...",maxLength:99},t),{},{required:!0,name:"name"}))}},360:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return p}));var n=c(1),a=c(8),s=c(2),r=c(24),i=c(10),o=c(6),l=c(13),u=c(9),d=c(5),b=c(351),j=c(3),h=c(352),O=c(0),m=Object(s.lazy)((function(){return c.e(24).then(c.bind(null,364))})),v=function(t){var e=Object(o.c)({name:""});return Object(O.jsxs)(o.b,{context:e,onSubmit:function(c){if(t.canAdd)return c.preventDefault(),b.a.post(e.values).then((function(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{slug:slug};return t.history.push("".concat(Object(j.g)(null===(e=t.match)||void 0===e?void 0:e.url)).concat(c.slug,"/"))})).catch((function(t){e.handleError(t)}))},children:[Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(o.b.Label,{value:"Nom de la cat\xe9gorie"}),Object(O.jsx)(h.a,{error:e.errors.name})]}),Object(O.jsx)("div",{className:"my-3",children:Object(O.jsx)(o.b.Submit,{value:"Save category",disabled:!(null===t||void 0===t?void 0:t.canAdd),className:"btn btn-primary"})})]})},x=function(t){var e=Object(s.useState)({}),c=Object(a.a)(e,2),i=c[0],o=c[1],h=Object(s.useState)(!1),m=Object(a.a)(h,2),x=m[0],p=m[1],f=Object(s.useContext)(l.a).perms;Object(s.useEffect)((function(){b.a.list().then((function(t){o(t)}))}),[]);var g=Object(u.l)(f.perms,["shop.add_category"]);return Object(O.jsxs)(u.g,{title:"Categories (".concat(i.count,")"),back:t.back,actions:Object(O.jsx)(d.b,{onClick:function(){return p(!x)},disabled:!g,className:"btn-primary-3",title:g?"Add a new category":"You cannot perform this action",children:"Add category"}),children:[x&&Object(O.jsx)(u.g.Section,{title:"Add a category",children:Object(O.jsx)(v,{history:t.history,match:t.match,canAdd:g})}),(null===i||void 0===i?void 0:i.results)&&Object(O.jsx)(u.g.Section,{className:"category-table mb-3",children:Object(O.jsx)(d.n,{className:"w-100",items:i.results,renderItem:function(e){var c,a,s,i,o;return Object(O.jsxs)(d.t.Tr,{className:"border-bottom",children:[Object(O.jsx)(d.t.Td,{className:"",children:Object(O.jsx)(d.j,Object(n.a)(Object(n.a)({},e.cover_data),{},{className:"rounded"}))}),Object(O.jsxs)(d.t.Td,{className:"w-100",children:[Object(O.jsx)(r.b,{to:"".concat(Object(j.g)(t.match.url)).concat(e.slug,"/"),children:Object(O.jsx)("div",{className:"fw-bold",title:e.title,children:e.name})}),Object(O.jsxs)("div",{className:"text-muted text-sm",children:[Object(O.jsxs)("span",{className:"me-1",children:["Products: ",null!==(c=null===e||void 0===e||null===(a=e.products_count)||void 0===a?void 0:a.total)&&void 0!==c?c:0]}),Object(O.jsxs)("span",{children:["Published: ",null!==(s=null===e||void 0===e||null===(i=e.products_count)||void 0===i?void 0:i.published)&&void 0!==s?s:0]})]})]}),Object(O.jsx)(d.t.Td,{className:"d-none d-md-table-cell text-sm text-center",children:Object(O.jsx)(u.i,{is_published:null===e||void 0===e||null===(o=e.page)||void 0===o?void 0:o.is_published,pill:!0})})]},e.slug)},pagination:{count:i.count,next:i.next,previous:i.previous,onPreviousClick:function(){b.a.get(i.previous).then((function(t){o(t)})).catch((function(t){var e;null===(e=toast)||void 0===e||e.error({message:SHOP_MSGS.default})}))},onNextClick:function(){b.a.get(products.next).then((function(t){o(t)})).catch((function(t){var e;null===(e=toast)||void 0===e||e.error({message:SHOP_MSGS.default})}))}}})})]})};function p(t){var e=t.match,c=e.path,a=e.url;return Object(O.jsxs)(i.c,{children:[Object(O.jsx)(u.e,{path:"".concat(c,":catSlug/"),render:function(t){return Object(O.jsx)(m,Object(n.a)(Object(n.a)({},t),{},{back:Object(j.g)(a)}))},requiredPerms:["shop.change_category"]}),Object(O.jsx)(u.e,{requiredPerms:["shop.view_category"],render:function(e){return Object(O.jsx)(x,Object(n.a)(Object(n.a)({},e),{},{back:t.back}))}})]})}}}]);
//# sourceMappingURL=11.66c5812c.chunk.js.map