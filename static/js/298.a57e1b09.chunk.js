"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[298],{7298:function(e,s,r){r.r(s),r.d(s,{default:function(){return g}});var t=r(8519),i=r(6009),n=r(8312),d=r(2411),a=r(1408),c=r(6520),l=r(2782),o=r(2145),u=r(2379),h=r(3793),x=r(6574),m=r(421),j=r(3992),p=r(3085),v=r(5566),f=r(8136),A=["res"],_=d.lazy((function(){return r.e(92).then(r.bind(r,4092))})),b=d.lazy((function(){return Promise.all([r.e(823),r.e(351)]).then(r.bind(r,3351))}));function g(){var e,s=(0,v._)(),r=s.res,t=(0,n.Z)(s,A);(0,j.U)({onUpdate:t.updateItem,onDestroy:t.removeItem});var i=new o.HM(r);return i.isSuccess?(0,f.jsxs)(c.Z5,{children:[(0,f.jsx)(c.AW,{path:":prodSlug/",element:(0,f.jsx)(Z,{response:i})}),(0,f.jsx)(c.AW,{path:"new",element:(0,f.jsx)(_,{})}),(0,f.jsx)(c.AW,{index:!0,element:(0,f.jsxs)(l.ZP.View,{title:"Products",back:"/staff/store/",actions:(0,f.jsx)(l.ZP.Link,{to:"new/",requiredPerms:["store.add_product"],className:"btn btn-primary-3",children:"Add product"}),requiredPerms:["store.view_product"],children:[(0,f.jsx)(p.ir,{categories:null===(e=i.data)||void 0===e?void 0:e.categories}),(0,f.jsx)(y,{response:i})]})})]}):null}var Z=function(e){var s=e.response;return(0,f.jsxs)("div",{className:"d-grid grid-xl-4 gap-1",children:[(0,f.jsx)(u.LY.x9,{children:(0,f.jsx)(m.K1,{items:s.items,itempath:"../"})}),(0,f.jsx)("div",{className:"span-xl-3",children:(0,f.jsx)(b,{back:"/staff/store/products/"})})]})},y=function(e){var s=e.response,r=(0,a.lr)(),n=(0,i.Z)(r,1)[0];return 0===s.items.length?(0,f.jsxs)("div",{className:"text-center p-staff-list-empty py-3 my-3",children:[(0,f.jsx)("p",{className:"fw-light text-md",children:"Add products to your shop to get started"}),(0,f.jsx)("div",{className:"my-4",children:(0,f.jsx)(l.ZP.Link,{to:"new/",requiredPerms:["store.add_product"],className:"btn btn-primary btn-md",children:"Add a new product"})})]}):(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)(u.iA,{items:s.items,header:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.iA.Th,{children:"Product"}),(0,f.jsx)(u.iA.Th,{}),(0,f.jsx)(u.iA.Th,{children:"Price"}),(0,f.jsx)(u.iA.Th,{children:"Availability"})]}),className:"product-staff-table w-100",renderItem:function(e){var s;if(null===e||void 0===e||!e.slug)return null;var r=(0,h.Z)(e),i="".concat(r.slug,"/").concat("".concat(n)?"?".concat(n):"");return(0,f.jsxs)(u.iA.Tr,{children:[(0,f.jsx)(u.iA.Th,{children:(0,f.jsx)(l.pB.Thumb,(0,t.Z)((0,t.Z)({},null===e||void 0===e?void 0:e.cover_data),{},{className:"rounded"}))}),(0,f.jsx)(u.iA.Td,{children:(0,f.jsxs)(l.ZP.Link,{to:i,children:[(0,f.jsxs)("div",{className:"text-ellipsis",children:[e.name,(0,f.jsx)(x.TK,{show:e.is_published||!1})]}),(0,f.jsx)("div",{className:"",children:null===(s=e.category_data)||void 0===s?void 0:s.name})]})}),(0,f.jsx)(u.iA.Td,{children:(0,f.jsx)(x.nk,(0,t.Z)((0,t.Z)({},e.retail_price_data),{},{lineThrough:e.is_on_sale}))}),(0,f.jsx)(u.iA.Td,{children:e.is_oos&&"Out of stock"})]},e.slug)}}),(0,f.jsx)(u.tl,(0,t.Z)((0,t.Z)({},s.data),{},{component:l.ZP.Link,to:!0}))]})}}}]);
//# sourceMappingURL=298.a57e1b09.chunk.js.map