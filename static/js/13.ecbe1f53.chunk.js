(this["webpackJsonp@store/client"]=this["webpackJsonp@store/client"]||[]).push([[13],{345:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var i=n(11),a=n(4),c=n(2),s=n(12),l=n(16),r=n(35),b=n(23),u=n(36),o=n(28),j=n(27),d=new(function(t){Object(o.a)(n,t);var e=Object(j.a)(n);function n(t){return Object(b.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"patchSite",value:function(t,e,n){return this.patchPath("".concat(this.path).concat(t,"/site/"),e,n)}}]),n}(n(24).b))("settings/"),m=n(0),x=["setting"],h=["isUpdated"],O=["setting"],v=["isUpdated"],p=["isUpdated"],f=function(t){var e=t.setting,n=void 0===e?{}:e,i=Object(a.a)(t,x),c=Object(l.c)({is_live:n.is_live||!1});if(!n.slug)return null;return Object(m.jsx)(r.a.Section,{title:"Site Status",text:"Lock you site",children:Object(m.jsxs)(l.b,{context:c,onSubmit:function(t){return t.preventDefault(),d.patch(n.slug,{is_live:c.values.is_live},{is_live:n.is_live}).then((function(t){var e=t.isUpdated,n=Object(a.a)(t,h);e&&i.setSetting(n)})).catch((function(t){return c.handleError(t)}))},children:[Object(m.jsx)(l.b.CheckboxInput,{name:"is_live",checked:c.values.is_live,label:"This site is off"}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(l.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})})},S=function(t){var e=t.setting,n=void 0===e?{}:e,i=Object(a.a)(t,O),c=Object(l.c)({contact_email:n.contact_email||"",ga_tracking:n.ga_tracking||"",fb_pixel:n.fb_pixel||""});return Object(m.jsxs)(l.b,{context:c,onSubmit:function(t){t.preventDefault();var e={};return Object.keys(c.values).forEach((function(t){e[t]=n[t]})),d.patch(n.slug,c.values,e).then((function(t){var e=t.isUpdated,n=Object(a.a)(t,v);e&&i.setSetting(n)})).catch((function(t){return c.handleError(t)}))},children:[Object(m.jsx)(r.a.Section,{title:"Contact",text:"What's the best way to contact you?",children:Object(m.jsx)(l.b.TextInput,{name:"contact_email",type:"email",error:c.errors.contact_email,placeholder:"Write your contact email ..."})}),Object(m.jsx)(r.a.Section,{title:"Social",text:"Display Your social media accounts."}),Object(m.jsxs)(r.a.Section,{title:"Analytics",text:"Set up third-party analytics.",children:[Object(m.jsx)(l.b.Field,{label:"Google Analytics Tracking Number",children:Object(m.jsx)(l.b.TextInput,{name:"ga_tracking"})}),Object(m.jsx)(l.b.Field,{label:"Facebook Pixel",children:Object(m.jsx)(l.b.TextInput,{name:"fb_pixel"})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(l.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})]})};function g(t){var e=Object(c.useContext)(s.a),n=Object(c.useState)({}),b=Object(i.a)(n,2),u=b[0],o=b[1],j=e.site.settings;Object(c.useEffect)((function(){d.detail(j).then((function(t){t.slug&&o(t)})).catch((function(t){}))}),[j]);var x=e.site,h=Object(l.c)({name:x.name,domain:x.domain});if(!u.slug)return null;return Object(m.jsxs)(r.a,{title:"Site General Settings",children:[Object(m.jsx)(l.b,{context:h,onSubmit:function(t){t.preventDefault();var n=x.settings;if(n)return d.patchSite(n,{name:h.values.name,domain:h.values.domain},{name:x.name,domain:x.domain}).then((function(t){var n=t.isUpdated,i=Object(a.a)(t,p);n&&e.updateSite(i.site)})).catch((function(t){return h.handleError(t)}))},children:Object(m.jsxs)(r.a.Section,{title:"Site Details",children:[Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(l.b.Label,{value:"Site name"}),Object(m.jsx)(l.b.TextInput,{required:!0,name:"name",disabled:!Boolean(x.settings)})]}),Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(l.b.Label,{value:"Site domain"}),Object(m.jsx)(l.b.TextInput,{required:!0,name:"domain",disabled:!Boolean(x.settings)})]}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(l.b.Submit,{value:"Save",className:"btn btn-primary-2"})})]})}),Object(m.jsx)(f,{ctx:e,setting:u,setSetting:o}),Object(m.jsx)(S,{ctx:e,setting:u,setSetting:o})]})}}}]);
//# sourceMappingURL=13.ecbe1f53.chunk.js.map