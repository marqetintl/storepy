"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[18],{3308:function(e,r,a){a.d(r,{F$:function(){return G},kq:function(){return n},bA:function(){return H},uV:function(){return z},lm:function(){return I},wd:function(){return V},ZP:function(){return X},cI:function(){return p}});var n={};a.r(n),a.d(n,{fn:function(){return M},EQ:function(){return S},w6:function(){return E},ld:function(){return w},fG:function(){return L},cC:function(){return _},Wx:function(){return F},Mj:function(){return k}});var s=a(8519),t=a(8312),i=a(2411),l=a(3030),c=a(2379),o=a(8136),d=["children","value"],u=function(e){var r=e.children,a=e.value,n=(0,t.Z)(e,d),i=r||("string"===typeof a?(0,o.jsx)("label",(0,s.Z)((0,s.Z)({},n),{},{children:a})):a);return(0,o.jsx)("div",{className:"miq-form-label",children:i})},m=function(e){var r=e.error;return r?(0,o.jsx)("div",{className:"miq-form-error",children:r}):null},x=a(6714),v=a(6009),h=(0,i.createContext)(null),j=h.Provider,f=h;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,i.useState)((0,s.Z)({},e)),a=(0,v.Z)(r,2),n=a[0],t=a[1],c=(0,i.useState)({}),o=(0,v.Z)(c,2),d=o[0],u=o[1],m=(0,i.useMemo)((function(){var e=function(e,r){t((0,s.Z)((0,s.Z)({},n),{},(0,x.Z)({},e,r)))},r=function(r){var a=r.target,n=a.name,s=a.checked;return e(n,s)};return{values:n,setValue:e,setValues:t,handleChange:function(a){var n=a.target,t=n.name,i=n.type,l=n.value;return Object.keys(d).includes(t)&&u((0,s.Z)((0,s.Z)({},d),{},(0,x.Z)({},t,null))),"checkbox"===i?r(a):e(t,l)},toggleCheck:r,errors:d,setError:function(e,r){u((0,s.Z)((0,s.Z)({},d),{},(0,x.Z)({},e,r)))},setErrors:u,handleError:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.response){var a=e.response;if(400!==a.status)return l.TQ&&r&&console.error("Request error status: ".concat(a.status)),e;var n={},t=a.data;l.TQ&&r&&console.error("ERROR=>",t),Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)&&r.length>0&&(r=r[0]),n=(0,s.Z)((0,s.Z)({},n),{},(0,x.Z)({},e,r.message||r))})),u((0,s.Z)({},n))}},hasErrors:function(){return""!==Object.keys(d).join()}}}),[n,d]);return m}var g=["name","error"],N=["id","className","inputClassName"],Z=["id","clearFocus","value","onChange","placeholder","mirror"],b=["children"],q=["name","error","nullValue"],C=["label","children"],y=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.forwardRef((function(a,n){var c=i.useContext(f)||(0,l.q9)("FormCtx"),d=a.name,u=a.error,m=(0,t.Z)(a,g);u=u||c.errors[d];var x=(0,l.gj)([r.className,a.className,u&&"is-invalid"]);return(0,o.jsx)(e,(0,s.Z)((0,s.Z)((0,s.Z)({value:c.values[d],onChange:function(e){c.handleChange(e)}},r.input),m),{},{name:d,className:x,ref:n}))}))},_=y("input",{className:"miq-form-input"}),w=y("textarea",{className:"miq-form-textarea"}),k=i.forwardRef((function(e,r){var a=e.id,n=e.className,i=e.inputClassName,d=(0,t.Z)(e,N);return(0,o.jsxs)("div",{id:a,className:(0,l.gj)(["miq-search-input-wrapper d-flex align-items-center",n]),children:[(0,o.jsx)("div",{className:"icon-wrapper",children:(0,o.jsx)(c.PJ.HN,{className:"miq-search-icon"})}),(0,o.jsx)("input",(0,s.Z)((0,s.Z)({name:"q",placeholder:"Search ...",minLength:3,maxLength:99,className:(0,l.gj)(["miq-form-input miq-search-input",i])},d),{},{type:"search",ref:r}))]})})),S=y("input",{className:"miq-form-input",input:{minLength:7,maxLength:16,pattern:"[0-9]*",type:"tel",onKeyPress:function(e){return!/[0-9]/.test(e.key)&&e.preventDefault()}}}),L=y(i.forwardRef((function(e,r){var a=e.id,n=e.clearFocus,i=e.value,c=e.onChange,d=e.placeholder,u=void 0===d?"Start typing ...":d,m=e.mirror,x=(0,t.Z)(e,Z),v=e.style;return(0,o.jsxs)("div",{id:a,className:(0,l.gj)(["miq-textareax",n&&"clear-focus"]),children:[m?(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:v,dangerouslySetInnerHTML:{__html:"".concat(m,"\n")}}):(0,o.jsx)("span",{className:"miq-textareax-input-mirror",style:v,children:"".concat(i,"\n")}),(0,o.jsx)("div",{className:"miq-textareax-input-wrapper",children:(0,o.jsx)("textarea",(0,s.Z)((0,s.Z)({},x),{},{value:i,onChange:c,placeholder:u,style:v,ref:r}))})]})}))),E=i.forwardRef((function(e,r){var a,n,c=e.children,d=(0,t.Z)(e,b),u=i.useContext(f)||(0,l.q9)("FormCtx"),m=d.name,x=d.error,v=d.nullValue,h=(0,t.Z)(d,q);return x=x||(null===u||void 0===u||null===(a=u.errors)||void 0===a?void 0:a[m]),(0,o.jsxs)("select",(0,s.Z)((0,s.Z)({value:null===u||void 0===u||null===(n=u.values)||void 0===n?void 0:n[m],onChange:u.handleChange},h),{},{name:m,className:(0,l.gj)(["miq-form-select",x&&"is-invalid",h.className]),ref:r,children:[(null===v||void 0===v?void 0:v.label)&&(0,o.jsx)(F,(0,s.Z)((0,s.Z)({},v),{},{value:(null===v||void 0===v?void 0:v.value)||""})),c]}))})),F=function(e){var r=e.label,a=e.children,n=(0,t.Z)(e,C);return(0,o.jsx)("option",(0,s.Z)((0,s.Z)({},n),{},{value:n.value,children:a||r}))},M=i.forwardRef((function(e,r){var a,n=i.useContext(f)||(0,l.q9)("FormCtx"),t=e.name,c=void 0===t?(0,l.q9)("Name prop"):t,d=e.error;return d=d||(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a[c]),(0,o.jsx)("input",(0,s.Z)((0,s.Z)({onChange:n.toggleCheck,checked:n.values[c]},e),{},{type:"checkbox",className:(0,l.gj)(["miq-form-checkbox",d&&"is-invalid",e.className]),ref:r}))})),P=["label","text","error"],R=["label","text","error"],A=["label","text","error"],W=["label","text","error"],O=["label","text","error"],T=["children","label","text","error","checkbox"],V=function(e){var r=e.label,a=e.text,n=e.error,i=(0,t.Z)(e,P);return(0,o.jsx)(Q,{label:r,text:a,error:n,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({},i),{},{name:"name",maxLength:99}))})},G=function(e){var r=e.label,a=e.text,n=e.error,i=(0,t.Z)(e,R);return(0,o.jsx)(Q,{label:r,text:a,error:n,children:(0,o.jsx)(L,(0,s.Z)((0,s.Z)({},i),{},{name:"description"}))})},I=function(e){var r=e.label,a=void 0===r?"Meta title":r,n=e.text,i=e.error,l=(0,t.Z)(e,A);return(0,o.jsx)(Q,{label:a,text:n,error:i,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({required:!0,maxLength:99},l),{},{name:"meta_title"}))})},z=function(e){var r=e.label,a=void 0===r?"Meta slug":r,n=e.text,i=e.error,l=(0,t.Z)(e,W);return(0,o.jsx)(Q,{label:a,text:n,error:i,children:(0,o.jsx)(_,(0,s.Z)((0,s.Z)({required:!0,maxLength:99},l),{},{name:"meta_slug"}))})},H=function(e){var r=e.label,a=void 0===r?"Meta description":r,n=e.text,i=e.error,l=(0,t.Z)(e,O);return(0,o.jsx)(Q,{label:a,text:n,error:i,children:(0,o.jsx)(L,(0,s.Z)((0,s.Z)({},l),{},{name:"meta_description"}))})};function Q(e){var r=e.children,a=e.label,n=e.text,s=e.error,i=e.checkbox,c=(0,t.Z)(e,T),d=a||n;return i?(0,o.jsxs)("div",{className:(0,l.gj)(["miq-form-field",c.className]),children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("div",{className:"me-1",children:r}),(0,o.jsx)(u,{value:a})]}),n&&(0,o.jsx)("div",{className:"miq-form-field-text",children:n}),(0,o.jsx)(m,{error:s})]}):(0,o.jsxs)("div",{className:(0,l.gj)(["miq-form-field",c.className]),children:[d&&(0,o.jsxs)("div",{className:"miq-form-field-header",children:[a&&(0,o.jsx)(u,{value:a}),n&&(0,o.jsx)("div",{className:"miq-form-field-text",children:n})]}),r,(0,o.jsx)(m,{error:s})]})}var D=["children","context"],J=["children","value"],K=i.forwardRef((function(e,r){var a=e.children,n=e.context,i=(0,t.Z)(e,D);return(0,o.jsx)("form",(0,s.Z)((0,s.Z)({},i),{},{ref:r,className:(0,l.gj)(["miq-form",i.className]),children:(0,o.jsx)(j,{value:n,children:a})}))}));K.Provider=j,K.Error=m,K.Label=u,K.Field=Q,K.Submit=function(e){var r=e.children,a=e.value,n=(0,t.Z)(e,J);return(0,o.jsx)(c.zx,(0,s.Z)((0,s.Z)({},n),{},{type:"submit",children:r||a}))},K.Text=_,K.TextArea=w,K.TextAreaX=L,K.Phone=S,K.Checkbox=M,K.Option=F,K.Select=E;var X=K},9018:function(e,r,a){a.r(r),a.d(r,{default:function(){return w}});var n=a(6009),s=a(8519),t=a(2411),i=a(2379),l=a(3030),c=a(8136),o=a(8312),d=a(5053),u=function(e){var r=e.className,a=void 0===r?"grid-2 grid-md-3 grid-lg-4 gap-2":r,n=e.children;return(0,c.jsx)("div",{className:(0,l.gj)(["miq-product-grid d-grid",a]),children:n})},m=function(e){var r=t.useContext(d.h).categories;return r?(0,c.jsx)("div",{className:"p-category-links pb-2",children:null===r||void 0===r?void 0:r.map((function(r){var a,n;return(0,c.jsx)("div",{className:"item w-25 w-md-15",children:(0,c.jsxs)("a",{href:r.url,className:"",title:r.name,children:[e.showCover&&(null===r||void 0===r?void 0:r.cover)&&(0,c.jsx)(i.Ei.Picture,(0,s.Z)((0,s.Z)({},r.cover),{},{src_mobile:(null===r||void 0===r||null===(a=r.cover)||void 0===a?void 0:a.thumb_sq)||(null===r||void 0===r||null===(n=r.cover)||void 0===n?void 0:n.src_mobile)})),(0,c.jsx)("div",{className:"info",children:r.name_truncated})]})},r.meta_slug)}))}):null},x=function(e){return(0,c.jsx)(i.Ei.HorizontalGallery,(0,s.Z)((0,s.Z)({},e),{},{className:(0,l.gj)(["p-imgs-hgallery",e.className])}))},v=["clsPrefix","images","children"],h=["viewCN","pagination","className","children","items","renderItem"],j=function(e){var r=e.clsPrefix,a=e.images,n=e.children,t=(0,o.Z)(e,v);return(0,c.jsx)(i.G7,(0,s.Z)((0,s.Z)({},t),{},{className:(0,l.gj)([r,e.className]),children:(0,c.jsxs)("div",{className:"".concat(r,"-grid d-grid grid-md-12"),children:[(0,c.jsx)("div",{className:"".concat(r,"-grid-media span-md-8"),children:a}),(0,c.jsx)("div",{className:"".concat(r,"-grid-product span-md-4"),children:n})]})}))},f=function(e){var r=e.viewCN,a=e.pagination,n=e.className,t=e.children,l=e.items,d=e.renderItem,m=(0,o.Z)(e,h);return(0,c.jsx)(i.G7,(0,s.Z)((0,s.Z)({},m),{},{className:r,footer:a&&(0,c.jsx)(i.tl,(0,s.Z)({},a)),children:(0,c.jsx)(u,{className:n,children:t||l.map((function(e){return d(e)}))})}))},p=a(1408),g=a(3308),N=function(e){var r=(0,p.lr)(),a=(0,n.Z)(r,2),t=a[0],i=a[1];return(0,c.jsx)("form",(0,s.Z)((0,s.Z)({},e),{},{className:(0,l.gj)(["p-search-form",e.className]),children:(0,c.jsx)(g.kq.Mj,{value:t.get("q")||"",onChange:function(e){i({q:e.target.value})},placeholder:"Cherchez un produit ..."})}))},Z=a(6520),b=function(e){var r=e.is_on_sale,a=e.retail_price,n=e.sale_price,s=r&&null!=(null===n||void 0===n?void 0:n.amountWithSymbol);return(0,c.jsxs)("div",{className:(0,l.gj)(["p-price",s&&"sale"]),children:[s&&(0,c.jsx)("div",{className:"p-price-sale",children:n.amountWithSymbol}),(0,c.jsx)("div",{className:"p-price-retail",children:a.amountWithSymbol})]})},q=function(e){var r=e.attributes;return r?(0,c.jsx)("ul",{className:"product-attr-list",children:null===r||void 0===r?void 0:r.map((function(e){return(0,c.jsxs)("li",{className:"attr",children:[(0,c.jsxs)("span",{className:"attr-label",children:[e.name," : "]}),(0,c.jsx)("span",{className:"attr-value",children:e.value})]},e.name)}))}):null},C=function(){var e=t.useContext(d.h),r=e.product,a=e.similar,n=e.breadcrumbs,l=r.is_pre_sale,o=r.is_pre_sale_text;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.bu,{items:n,className:"my-3 px-2"}),(0,c.jsx)(j,{images:(0,c.jsx)("div",{className:"p-images mb-2",style:{position:"sticky",top:0},children:(0,c.jsx)(x,{images:(null===r||void 0===r?void 0:r.images)||[],mobileOnly:!1})}),className:"product-detail-view",children:(0,c.jsxs)("div",{className:"p-details p-1",children:[(0,c.jsx)("h1",{className:"p-name text-md fw-lighter",children:r.name}),(0,c.jsx)(b,(0,s.Z)((0,s.Z)({},r),{},{retail_price:r.retail_price})),(0,c.jsx)("div",{className:"mb-3"}),l&&o&&(0,c.jsx)("div",{className:"p-presale-text mb-3",children:o}),(0,c.jsx)("div",{className:"mb-3"}),r.description&&(0,c.jsx)("div",{className:"p-description mb-3",children:r.description}),(0,c.jsxs)("ul",{className:"p-extra mb-3",children:[(null===r||void 0===r?void 0:r.has_attributes)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("li",{className:"p-extra-title mb-1",children:"D\xe9tails"}),(0,c.jsx)("li",{className:"p-extra-content",children:(0,c.jsx)(q,{attributes:r.attributes||[]})})]}),(0,c.jsx)("li",{className:"p-extra-title mb-1",children:"Livraison"}),(0,c.jsx)("li",{className:"p-extra-content",children:(0,c.jsxs)("p",{className:"mb-2",children:["Livraison standard gratuite sur Cotonou pour les commandes de 50000 CFA et plus.",(0,c.jsx)("br",{}),"Le d\xe9lai de traitement de la livraison standard pour cet article est estim\xe9 \xe0 1 \xe0 5 jours ouvrables."]})})]})]})}),a&&(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("p",{className:"text-md mb-2",children:"Voir les styles semblables"}),(0,c.jsx)(u,{children:a.map((function(e){return(0,c.jsx)(_,{item:e},e.meta_slug)}))})]})]})},y=function(){var e=(0,p.lr)(),r=(0,n.Z)(e,1)[0],a=t.useContext(d.h),s=a.object_list,l=void 0===s?[]:s,o=a.page_label,u=a.breadcrumbs,x=r.get("q"),v=r.get("page");return(0,c.jsx)(i.G7,{className:"p-listview",header:(0,c.jsxs)("header",{className:"p-listview-header",children:[(0,c.jsx)("div",{className:"miq-container center",children:(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)(N,{})})}),(0,c.jsx)(i.bu,{items:u,className:"mb-2"}),!x&&!v&&(0,c.jsx)(m,{showCover:!0})]}),children:(0,c.jsx)(f,{title:o,viewCN:"miq-container-lg",items:l,renderItem:function(e){return(0,c.jsx)(_,{item:e},e.meta_slug)}})})},_=function(e){var r=e.item,a=r.url,n=r.cover,t=r.name;return(0,c.jsx)("a",{href:"".concat(a),children:(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)(i.Ei.Picture,(0,s.Z)({},n)),(0,c.jsx)("div",{className:"product-grid-info",children:(0,c.jsx)("div",{className:"product-grid-name",children:t})})]})})};function w(){return(0,c.jsxs)(Z.Z5,{children:[(0,c.jsx)(Z.AW,{path:":catMetaSlug/:prodMetaSlug/",element:(0,c.jsx)(C,{})}),(0,c.jsx)(Z.AW,{path:":catMetaSlug/",element:(0,c.jsx)(y,{})}),(0,c.jsx)(Z.AW,{index:!0,element:(0,c.jsx)(y,{})})]})}}}]);
//# sourceMappingURL=18.dec13eb6.chunk.js.map